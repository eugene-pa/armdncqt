ВАЖНО: 
 - нормализация таблицы RouteSrc на всех полигонах: 
   1) выявить БД без поля Cod
   2) используя ReadRoutesCodingFile добавить непротиворечащее поле Cod во все БД
      (добавить другое поле, потом переименовать)

InstallShield: 6AEF6QW-D1B-F0CC1B344N 
- WPF имена стрелок в "неправильном" положении по минусу - желтым цветом
- WPF диалог КП не отображает модули ТУ/ТС, можно реализовать по аналогии с С++
- генератор маршрутов по топологии: задаем перву и последнюю РЦ и направление, 
  плучаем список возможных маршрутов, оформляем, записываем в БД

- доработать диалог состояния КП в C# с учетом АРМ ДСП и подключения отладки ОТУ
- доработать диалог состояния ТС в C# по аналогии с QT


-QT
  - при отсутствии данных отрисовывать серым окантовку светофоров и наименование светофоров
    не рисовать фон под именем и не рисовать аварию светофора
  - разобраться с транспарантами, имеющими иное имя, например ПОНАБ = АНБ на Армавир-Белореченская
    по-моему, есть несколько особых транспарантов, позволяющих использовать имя сигнала как текст
  - согласовать блеклый цвет для всех примитивов
  - уметь задавать в конфигурационной БД параметры рисования граф.элементов:
    - геометрия стрелок по типам
    - геометрия светофоров по типам
    - параметры линий и т.д.
  - объединение отрезков в полилинии
  - состояние светофоров, ОТУ, переездов, перегонов
  - графические примитивы
  - Разумно провести класс круга с самого начала в весь проект, чтобы не латать потом
  - создав новый проект, например, АРМ ШН, легко можно будет понять, какие элементы Shaper нужно выделить 
    в общие файлы повторного использования (ресурсы и загрузка, формы, диалоги и т.д. )
  - INI-reader
  - сделать db конвертацию для всех БД полигона, уметь задавать папку для работы с INI-файлом


+ УПРАВЛЕНИЕ, уметь исключать станции из потока РСС опцией 
  RAS=127.0.0.1[-STATIONS=12,13]

- отправить БД Рузаевка-Кустаревкав с откорректированными связми перехода Руз - РузПензПарк в Самару
- сделать папку документов и дистрибутив paUniGate и отправить в Самару
+- откорректировать связи перехода Рузаевка - Рузаевка Пенз.парк, ПАРЫ КРАЕВЫХ РЦ ТАМ ДУБЛИРУЮТСЯ, НАДО ИСКЛЮЧИТЬ ИЗ МОДЕЛИ
+ на сервере настройки на рабочие адреса в INI  и БД
- IP-GID-URAL не в БД тот, там IP для отдачи!!!
- просчет числа свободных блоков не до разрыва, а до красного огня
+ уметь прописывать трассу до занятой РЦ или разрыва, хотя-бы в по запросу, хотя-бы в лог! 
  тогда сможем ловить все лажи в НСИ (к примеру, при нулевом километраже )!
- если поезд неидентифицирован, но можем показать инфу о поезде по километражу - показать 
- иметь возможность воспроизводить архив с передачей ТС (сейчас это может делать MonitorArh)
  можно сделать отдельное приложение, можно встроить в АРМ ШН или АРМ ШН WPF
+ при успешной идентификации поезда писать в лог информацию о найденном поезде ДЦ
+- Рузаевка, Токмово - терял координаты
+- алгоритм поиска должен пройтись по всем, дать уд.вес и выбрать наилучший!
   - сделать упорядоченный список по разнице КЛМ, 
+ если поезд "зацепился", можно не выполнять поиск по всем поездам, а проверить только зацепленный!
  или выполнять итерационную проверку с поиском наиболее подходящего!
 
+ показывать инфу о самом поезде (Номер)
+ при удалении - удалять ссылку
+- м.б.нужен контроль по времени сообщений СВЛ ТР

+ меню упорядочить
- IniReader GetDouble перегруженная, GetBool можно сделать перегруженную (индексированную)
- бардак с зависимостями проектов
- четный поезд 8904 потерял номер на Хованщине примерно в 9:35 16.12.2005

  ВАРИАНТ: сейчас по хованщине модель связана так: ЧУ1,ЧУ2,Т16... На коротком поезде ЧУ2 пропадал,
           Т16 еще не горела, а Т18 еще горела. Можно вставить в цепочку Т18: ЧУ1,ЧУ2,Т18,Т16
+ удалять обратную ссылку и индикатор в списке 1
+ зачем иерархические элементы в списке - индикатор м.б.обычным полем, тогда не нужет TextBox
+ список заблокированных РЦ, на которые не переносится номер
+ DX=5
+ MAX_SILENCE_TIME=3
+- Не имеет смысла: DT=10

+ если впереди проблемы по стрелкам - дать километраж проблемного места
+ если впереди ничего нет - дать свой километраж
+- удаление поездов СВЛТР из списка - отсутствие данных более чем N минут
+ в таблице СВЛ ТР дать реальную станцию 
+ принудительно отвечать сразу после приема данных
+ час пояс
+ -FF


- дать километраж в таблице РЦ
- если точка имеет ошибку аналогично Т1 по Пичкиряево, игнорировать поезд; можно помечать в списке
- Т1 по Пичкиряево надо исключить из модели - занятость висит до упора (горит авария)
+ обновление полей Своб.БУ, Впереди, Голова, Хвост делать чаще - эта инфа меняется 1 раз в 2 сек часто
+ сортировка записей по столбцу
+ диапазон ЕСР СВЛ-ТР
+- бинарный лог прием и передачи сообщений нужен
+ отдельный лог игнорированных сообщений

- рашид просит фичу в описании транспаранта "ВЫРАЖЕНИЕ[,ВЫРАЖЕНИЕ МИГАНИЯ]" распространить на все 3 состояния

- временные интервалы, пинги при отсутствии изменений и т.д.
- добавить объект перегон
- поезда с красным индикатором (ошибка модели) имеют нулевой километраж; можно давать его по оси станции

+- список СВЛ ТР доработать
+- отладить передачу/тестовый прием пакетов СВЛ ТР из ДЦ
+ подсчет числа своб.участков, запись
+ добавить объект переезд
+- импорт всех переездов со схемы в БД - ТОЛЬКО В РУЧНОМ РЕЖИМЕ!
+- документация
+ ЕСР назначения уметь находить для поезда
+ поиск по пятизначному ЕСР станции с именем ДЦ (можно искать имя ДЦ по имени ЕСР)
+AllObjects Нужен глобальный справочник ID - объект, чтобы можно было парсить выходной поток УП. 
  По ID получаем объект, станцию, тип, состояние


+ ШАСИ: передача только обновлений, для чего:
  + сохранять последнее значение состояния и сравнивать актуальное с последним
  + отображать где-то количество измененных объектов по станциям
- СТАНЦИЯ СВЯЗИ: писать в БД сообщения о переключении каналов коммутатором

+ в репозиторий на OneDeive - НСИ
+ УПРАВЛЕНИЕ - если задана БД без станций перед выходом выдать AfxMessageBox
+ форма состоняие РЦ не отображает маршруты
+ С++ при обработке ГИД-Ураловской информации выскакивает сообщение НЕПРАВИЛЬНО ЗАДАН параметр
+- квитанции
+- среду SQL инсталлировать
?- ошибка записи
- ИНСТАЛЛЯТОР:
  +- не создает ярлыков в режиме АРМ ДСП
  - остановить службы paService, paArchiveSvc перед установкой
  - переименовать _o, _r

Ошибка	5	error LNK2001: неразрешенный внешний символ ""bool m_bIgnoreSoftLock" (?m_bIgnoreSoftLock@@3_NA)"	C:\ArmDncSrc\ArmTools\SprStrl.obj	ArmTools
- сообщения писать в SQL и blackbox.mdb
+- ЧАИС, инструкцию поста ДЦ 
- paUniGate 
	- 
	- устаревание данных при отсутствии связи
	- динамическое формирование статус-бара по всем соединениям TCP    	
- Управление. Можно отслеживать разрывы в последовательности РЦ и сбрасывать номера при наличии ГИД УРАЛ - подхватит сам
- ShapeDnc - поиск примитива по имени ТС
- сделать Kernel на примере paUniGate мпсштабируемым на произвольное число кругов!
- WPF со списками и обновлениями какой-то бардак; неясно, меняется ли цвет при ошибках; протестировать
- КП WPF - при отсутствии связи отображается зеленым (например сразу после запуска при отсутствии связи)
- состояние КП-2007: ошибка АТУ резервного блока на Пичкиряево обнаружилась только в C#-версии, 
  в ней транспарант КП красный, в АРМ Ш
- попытаться перейти на Unicod
- разобраться с отображением поездов повышенный вес/длина: ПВ(C#) или ПМ (С++)

- paWpfArhViewer - анализ статистики "неответов" станции, соотношения пакетов ТУ/ТС - можно дать сразу
- paWpfArhViewer - отображать директивы 
- в редакторе Shape дать возможность выделять слои - фильтровать примитивы по условиям лог.выражений, очень полезно!

+- открытие светофора посылает 2 команды вместо одной - ТОЛЬКО В DEBUG, уши эмулятора, он открывает маршрут
+ в системе сохранять видимость примитивов и при формировании контексных меню от примитивов проскакивать скрытые
+- список ТУ(F9). Или фильтровать ТУ заблокированных стрелок, или выдавать предупреждение о невозможности реализации ТУ
- АРМ ДСП
  - макет, тестирование
  + нужно ввести виртуальный контроль АРМ ДСП, тогда можно будет на одной схеме отображать разные транспаранты в разных режимах АРМ
  + настроечные файлы, переключение режимов, ОПИСАТЬ!
  + документация + выжимка для инструкции о порядке плользования
- лажа: мигающий транспарант прорисовывается даже тогда, когда не соблюдено условие
- paConfig - значки в контекстное меню, легче искать

+ отчет об ошибках 7,8 совпадают
+ меню СУ/ОСУ - лажа в АРМ ДСП
+ проблема: кнопка F3 "перевод стрелок" позволяет выдать ТУ на перевод стрелок без анализа условий
+- протоколирование всех действий диспетчера, включая нажатие кнопок



- обновить WpfViewer
- WpfViewer. Проблема чтения маршрутов без поля Cod - не соответствует нумерация при установке кода по индексу
+- WpfViewer есть проблемы с отображением состояния маршрутов, РЦ, похоже, не очищаю состояние перед обработкой входного потока 
  есть артефакты, см. Пшехская, архив 15.08.2015 00:00 в сравнении с АРМ ШН
+- пшехская, 15.08.2015 00:02, состояние КП красное в АРМ ШН и зеленое в WPF
+- при установке маршрутов другая логика вычисления вхождения по стрелкам (по нужному положению, а не по факту!)
+- WpfArmView, головы поездов на уч.Белореч-Туапсе (ориентация НЧ) рисуются наоборот

- проанализировать содержание работ по доработкам 2015г. на КБШжд от Бесюлькина

+ LogRasAnalizer, указывать номер станции связи и адрес ЛПУ рядом с названием
	+- LogRasAnalizer, не отображает корректно потерю связи в каналах
	+- LogRasAnalizer, показывать сторону опроса (точка на графике)
	+- LogRasAnalizer, давать статистику обращений по каждой станции (всего, ошибок, КПД), тогда можно будет оценить как скорость опроса, так и уровень помех
- LogRasAnalizer + paWpfArhViewer - графический анализатор на основе детальной информации опрос/ответ с анализом содержимого

+ РАШИДУ: 
  - правки АРМ ШН в части закрытия файла
  - уточнить, о какой фильтрации сообщений протокола в АРМ ШН шла речь	

- в проекте QT хочу уйти от макросов тппа приложения. Если есть завязки - ввести переменные
- SQL + qt
  - работа с MS SQL, в т.ч. с хранимыми процедурами
  - замена MS SQL-сервера на MySql или что-то другое

- описание на LogRasAnalizer
- описание на paWpfArhViewer
- вставить регистрацию фактов обновления ПО в протоколе на SQL- сервере
- доработать Монитоинг: объединенную БД (объединить RACKS), отображение, ПК в 1 ряд опционально
  - сгенерить sql-таблицу на 71 сервере, опробовать
+- Монитоинг ПО для СКЖД с доработкой рекурсивного запроса информации по процессам

- для отладки отображений состояния КП нужно уметь эмулировать ошибки КП (АТУ, МВВ,МТУ/МТС) в версиях С++ и С#
+- протестировать GetLogicalDrive

- wpfArhViewer: хочу иметь расшифровку квитанций, передаваемых в блоке ОТУ при исполнении ОТУ

- CDlgUpok::GetOtuDataFromKp(DStation * pSt, byte * pData, int length)
	case ackOtuErrorOKF1:			// КП не дождался заднего фронта ОКФ
		PutLogBd(m_DbDir,"Авария тракта ОТУ. Зависание контроля ОКФ",LOG_SPOK,LOG_SYS,m_pActSt->GetNoSt());
	- если на этот момент закрыли диалог, НЕПРАВИЛЬНО ДЕЛАТЬ m_pActSt->GetNoSt()
- новое поле arm.mdb[Ts][SvtfErrorKO] - выражение "ошибка красной нити светофора"
  ПРОПИСАТЬ ВЕЗДЕ: C#, MergeNsi normalization

- C# при чтении граф. примитивов ShapeRc, ShapeStrl конструкторам linkedStrl передается null вместо круга, 
  так как информации о круге нет; додумать чтение форм при наличии информации о круге

+- LOGALLTU по умолчанию д.б. ON
+- Квитанции писать всегда

- IGNOREIZS нужно уметь определять на уровне станции, а не участка, например:
IGNOREIZS=ON[Станция1,Станция2,Станция3...]
+- перезапустить КП с квитанциями о ТУ
- НСИ мониторинга для Кротовка-Абдулино, выяснить насчет RDC

- несложно сделать универсальный модуль Управление, формирующий поток с заданным числом страниц (не более определенного, например 4)
- реализовать более развитую регистрацию недостоверности примитивов с указанием строки файла по аналогии c ShapeDnc
- LogRasAnalizer: выбирать станции и каналы для отображения 




+- импорт сообщений BlackBox встроить в RegisterMessages
- имя объектов, заблокированных подсистемой логич. контроля, выделить цветом: блеклым/красным/желтым
+- расписать в ПМА отдельно суффиксы по типам объектов
+- открытие сигнала с разрешением маневров: где. зачем? Может вообще убрать фичу

- методика адаптации
+- C# обеспечить возможность автоматизированного запуска WpfViewer-a из оболочки для анализа имеющихся архивов
  использовать для этого файлы ArmTools.ini, ArmTools_o.ini
- Октябрьск - Кряж, в протокол попадают сообщения лога СПОКа

- блокировку светофоров и стрелок подсистемой логич.контроля можно сделать по аналогии с РЦ на уровне установки маршрута,
  (хотя, пожалуй, это неверно - есть проблемы с индивид.управлением)
- избавиться от #define KBSH 
  наиболее существенное использование: действие левой кнопки мыши; нужно найти альтернативу для показа состояния светофоров, например: ALT

+- все таки имею неоднозначность при переносе записей: помечаю как импортировано больше, чем импортировано
  это связан со временем; плопробовать решить проблем строго, вплоть до того, что обновлять каждую запись
  для этого можно сделать отдельный поток; можно в том же потоке
+- SqlServer должен уметь поддерживать как SqlConnection так и OleDb
+- Хранимая процедура не может писать новые типы App - плохо!!!
+- передавать метку часа в потоке ТС от УПРАВЛЕНИЯ (на будущие смены часового пояса)
+ при невозможности чтения архива за указанное время предложить считать архив с сервера снова
+  учитывая, что за последние сутки запрашивается часовой файл, а не архив, отработать корректно 
   (удалить содержимое папаки TEMP)

+ alt-F12 - вызов диалога параметров
+ цвет имени стрелки +зеленый, -желтый
+ для светофоров ввести ТС выдержки времени; суффикс .ВВ, например: Н1.ВВ; отображение по ОСТ: мигание названия светофора
+ при открытии пригасит.сигнала надо блокировать установку маршрутов в области пригласит.сигнала
  - найти поездной маршрут от светофора по стрелкам и сделать "логическое замыкание" стрелок и РЦ.
+- хочется иметь возможномть получения полного списка команд от заданной ТУ (учитывая сопряженные, пролог/эпилог/полюс и т.д.) 
  - в классе станции имеем строку ТУ запрещенных ТУ для Н.КОЛПАК и Ч.КОЛПАК
  - там же имею массив указателей на справочники запрещенных команд; справочники заполняются после чтения всех ТУ разбором строк, описанных выше
  - класс ТУ иммеет функцию IsEntry (список ТУ), которая возвращает результат пересечения множества ТУ в списке и множества ТУ, связанных с заданной
  - функция PutTuQueueSimple (LPCTSTR sTuName) при наличии колпака проверяет отсутствие пересечений с соответствующим списком запрещенных ТУ,
    если пересечение есть - сообщение и игнор 
+ запретить разворот перегона с колпачками
+- если с момента запуска прошло мало времени - не выполнять логич.контроль

+- УКСПС
	- два датчика на светофор
	- норма = 0, срабатывание 1
	- иметь флажок, отменяющий фильтр маршрутов

- КП-2000. Доработать чтение строки инициализации с возможностью доп.строки
           ИЛИ доработать выдачу строки из нескольких AT-команд
+ в класс перегона добавить аварию переезда на перегоне,
  видимо нужно здесь же сформировать список переездов перегона, чтобы периодически для каждого перегона 
  вычислять обобщенный признак наличия хотя бы одного аварийного переезда
  КАК ВАРИАНТ: можно проставлять обобщенный признак аварии переезда на перегоне руками в таблице Peregon 
+- протестирвать БД от Рашида Кряж - Октябрьск, Акимова говорит, что выпадает ошибка чтения Peregon

!П.З&!П.ИН&П.ИЧ
+- переезды пронумеровать и привязать к маршрутам и перегонам, чтобы иметь возможность блокировки маршрутов через аварийный переезд
  - таблица переездов
  - ПРОБЛЕМА: надо уметь отослать к БД переезды на схемах, причем надо найти формат, который бы не разрушал работающие схемы и ПО
    ВАРИАНТ: в выражении контроля свободности предусмотреть особый синтаксис, например №XXX, где XXX-номер переезда в БД
+- SHAPE: добавление переезда в список и в справочник
- горизонтальный и вертикальный сегменты имеют разный тип примитива и по разному интерпретируют mx1,my1,mx2,my2
  Это связано с типизацией методов обработки свойства "ДЛИНА ПРИМИТВА" в редакторе и диалоге свойств
  Можно привести все к одному типу, доработав редактор схем; отрисовка вертикалей в формате горизонтали выполняется корректно
  ВАЖНО: в этом случае надо изменить обработку окантовки для вертикали в формате горизонтали
+ опционировать 10 сек - время ожидания занятости смежных РЦ в логическом контроле
+- Реализовать блокировку маршрутов при наличии РЦ, заблокированных подсистемой логического контроля
+- Реализовать разблокировку РЦ, блокированных подсистемой логического контроля  

+ при занятии любой РЦ, если у нее есть смежные с двух сторон, проанализировать: 
   - занятость хотя бы одного соседа - ОК
   - время освобождения хотя бы одного соседа < ДОПУСТИМОЕ - ОК
   - иначе - сообщение и блокировка РЦ
+ при освобождении любой РЦ, если у нее есть смежные с двух сторон, проанализировать: 
   - занятость хотя бы одного соседа в течении времени < < ДОПУСТИМОЕ - ОК
   - иначе - сообщение и блокировка РЦ
+ Вспомогат. смена направления 
  + при РУ/СУ - было
  + при отключении смежной станции - сделал
  +- при неработающем КП соседней станции: если нет связи с соседним КП, можно выдать ОТУ на одну станцию с записью в журнал

- ОТОБРАЖЕНИЕ ОТСУТСТВИЯ СВЯЗИ ПО ПЕРЕЕЗДУ БЛЕКЛЫМ ЦВЕТОМ. Варианты описания:
  - в описании переезда в схеме станции в поле авария описать отдельно через пробел или спец.символм отсутствие связи 
    наприер: АВАРИЯ:  П.ФАТАЛ П.СВЯЗЬ  

+- при блокировке светофора надо отдельно обрабатывать поездной и маневровый для совмещенных
+ маневровый не показывает блокировку
+- просмотр протокола: падает текстовый поиск
+- paConfig: в контекстном меню добавить открытить БД, открыть схему станции, открыть SapRel

- Самонина, контроль переездов Инза - Рузаевка
- РАСШИРЕНИЕ НСИ (оперативной или стационарной)
  - для светофора имеем предыдущую РЦ и ограждаемую РЦ
  - для маршрута имеем ограждающий светофор; его можно вычислить так: берем последнюю РЦ в маршруте, ищем светофор,
    для которого эта РЦ предыдущая (поездной или маневровый в зависимомти от маршрута)

- КП-2000, 
	- самодиагностика, переполнение ФУФУРОВ: надо указать конкретный порт, и дать более понятное сообщение
	- сравнить правки, включить в контроль версий изменения
	
+- СФЕТОФОРЫ: CheckAll объединить с AcceptTs
 
+- АРМ ШН. on-line корректировка меток времени (актуально для СКЖД)
+- АРМ ШН. корректировки при работе с архивом

- убедиться, что при отсутствии данных по станции она сереет
- логический контроль в отдельном модуле на C# + взаимодействие c ДНЦ/ШН - ???
- при копировании файла в удаленном браузере можно писать, сколько примерно времени осталось
  (зная время начала, объем и сколько скопировано)

+- СБДН, СБДЧ выдаются при запуске модуля Управление
- в ShapeDnc в диалоге РЦ иметь флажки "Совместить", "Сохранить наклон", позволяющие совмещать углы примитивов
- парсер входного потока в виде дерева для анализа нюансов побайтно
  (Кряж-Кротовка, в потоке две Самары с одним кодом)
- похоже, не отрисовывается блокирование (выключение) в БД РЦ и стрелок (Кряж-Кротовка, Самара-1, 167 стрелка вверху слева)
- диалоги - на верху
- ускорение воспроизведения: от 1:1 через 2 сек до 1:10 100 мсек
- переходы архива на стыке часа, суток
- для ускореенного парсинга в режиме анализа архива нужно либо опционировать парсинг, 
  либо сделать доп.функцию облегченного парсинга (состояние ТС, состояние связи, тогда можно будет 
  искать ситуации очень быстро)
- разобраться с возвратом ReadNext: возвращает ли NULL
- WPF: остаются висеть поезда. Надо как-то синхронизировать список поездов и представлений
- WPF: станции без контроля отображаются блекло, а поезда все так же ярко; погасить
- WPF: нужно обеспечить удаление визуальных объектов номера поезда при обнулении номера на РЦ
- бинарный архив ГИД УРАЛ и его чтение при воспроизведении архива датут полную картину происходящего для 

+ WPF: при переключении архив/реальное время удалять все поезда
+- shape при редактировании стрелки с отсутствующим номером объекта (РЦ) вылезают артефакты
+- CheckExpiredTrains(), 
  как и вся обработка, должны вызываться периодически независимо от приема ТС
  ВОПРОС: неплохо типизировать обработку и встроить в движок, чтобы не париться у родителя
- лог ГИД-УРАЛ - отдельно!
- есть проблемы с удалением устаревшей информации: подвисают поезда, после смены кадра - уходят
  - либо не всегда обнуляется что-то
  - либо одно из двух )
- хочется имет возможность менять просматриваемую станцию в диалогах ТС, маршрутов и т.д.,
  например, для отслеживания объектов находясь на форме
- шрифт на надписях РЦ (ЧПП, ЧРП) РЦ Руз Пенз парк - мельче
- отработать множественные сегменты, особенно это актуально при замене дуг сегментами на разворотах 180град
- отработать более корректно дуги в сегментах, можно с помощью геометрии
- Рузаевка, Пенз.парк номера на съездах отображаются на верхнем правом угле, а не на левом нижнем
- Пичкиряево, сигналы разделки 6СПРИ - миганием, C# этого не понимает и воспринимает 1 как 1
  Обнаружилось в 18:12 19.09.2014 по ст.Пичкиряево
- Встроить более умный парсинг входной строки, понимающий различие m и М так, 
чтобы можно было отступать относительно базовой точки
- Мигание транспарантов через анимацию
- можно ввести сокрытие отображения "застывших" поездов

+- попробовать фон поездов, светофоры - градиентные - ПЛОХО!
+ цвет поездов
+ упоры ниже
+ номера стрелок - цветом стрелок
+ надписи светофоров темно синим
+ номера поездов
+ В АРМ ШН поезд 2107ПВ отображается как 2107ПМ 
+ для того, чтобы воспользоваться стандартной функций PathFigureCollection.Parse(path)
  необходимо преобразовать описание фигур в транспарантах:

- монитоинг СКЖД!
- проблема привязки ГИД-УРАл к сист.номерам в подслушке закл. в том, что номера затираются потоком

+ в списке РЦ состояние РЦ лучше давать цветом фона, а не цветом текста (как в маршрутах)
- диалог состояние КП WPF - снять доступность для редактирования полей в резервном блоке
- ввести новые типы объектов СЦБ:
  - переезд
  - тормозной упор
- ввести новый тип светофора: заградительный, или закрыт-красный, не закрыт(открыт) - не горит

- СВЛ ТР - система ведения локомотива по технологической радиосвязи
  - поездная модель на C#, чтобы можно было независимо отслеживать перемещение поездов 
- C#: нужно уметь разделять обработку потоков "готовых ТС" и потока от РСС
- SprIdGidUral: на хрена?


- Управление. Средства отладки адаптации путем имитации протокола Управления - Станция связи, чтобы иметь возможность 
  проверять полную обработку сигналов без особенностей версии DBG, с учетом инверсий и т.п.
  ВАРИАНТЫ: 
	а) подключение к отладочному модулю УПРАВЛЕНИЕ, работающему в качестве сервера
	б) станция связи архивная, читающая поток ТС
	в) имитатор станции связи на C# 


- контроль зависания набоной группы можно делать для каждого маршрута, а не для станции, 
  а можно и там и там с приоритетом маршрута (или по или)

+- запросить содержимое актуальных файлов ГИД УРАЛ
- paConfig, меню Просмотр - таблица ТС для участка не работает никак

- мониторинг НСИ на предмет контроля обновлений версий
    ВАРИАНТ: для каждого хоста иметь актуальные параметры НСИ - дата обновления, размер, а также
	     дату обновления по типу контроля состояния процессов, например
		Круг	Хост			Файл 	 	Размер Дата обновления 	 Загружен
		Абд-Чшм 192.168.1.13 АРМ ДНЦ	arm.mdb 	4300   08:00 02.07.2014  09:30 03.07.2014
		Абд-Чшм 192.168.1.13 АРМ ДНЦ	Станция.shp 	1000   08:00 02.07.2014  09:30 03.07.2014


- сканы всех титульных листов ТР хранить в ТР
- старый КП: 
 	- иметь возможность использовать 57600 и var в одном КП на разных сторонах  (возможно, уже реализовано!)
- единую БД ЕСР и средства актуализации БД путем сравнения с другими таблицами
  возможно, желательно иметь список кодов/имен + исключения
- инсталлятор типового ПО с актуализацией
- инсталлятор SQL
- типовой инсталлятор без адаптированного ПО
- мониторинг
	+ проверить возможность работы с косвенной адресацией, если надо доработать, запустить мониторинг процессов для СКЖД на 71 сервере
	- идея: подключаться к шлюзу, опрашивать РСС и АРМ ДНЦ через него
- ИДЕЯ: в модуле УПРАВЛЕНИЕ независимо от контроля достоверности принимать обрабатывать сигналы
        но контроль достоверности иметь в виду.
        А именно: станцию гасить, если лажа, но сигналы вниз передавать 
        реальные!
- станция связи, регистрировать все директивы (переход на резерв, отключение, перезапуск) не только в лок. БД, но и в лог
- индицировать факт обмена со станцией даже при некорректных ТС. По Назаровской 7.02.2014 не видно, что обмен работает

- хочу иметь построитель таблицы excel с диаграммой изменения выбранного набора сигналов
  можно на основе шаблона диаграммы в клетках 2.5*2.5
- имена ридеров должны быть уникальными!

- paConfig
  На примере Пенза-Узел надо отладить вариант формирования дерева для индексированной инсталляции
  10.64.91.11 [ArmDnc_3]
- в приложении просмотра опций уметь сортировать не только по имени, но и по версии, а м.б. и по другим полям
- Ошибка 2 error C2065: TsTextByIndxMap: необъявленный идентификатор	c:\armdncsrc\bdclass\tsnameset.cpp	104	1	SaprRel

- ArmStatus
  - моргает
  + ОБЯЗАТЕЛЬНО: запоминать отключения - при перезапуске тоска
  +- одноименные процессы
  - открывать браузер в контекстном меню
  - развернуть ошибки может быть с вариантами: - все ошибки или ошибки без учета отключенных элементов
  - показать отключенные узлы

- ПРОБЛЕМЫ SQL:
  - не нравится существующий способ импорта из arm.mdb и blackbox.mdb, хочется чего-то проще и прозрачней...
  - ИДЕЯ: при необходимости использования новых типов BlackBox SQL можно добавлять данные туда прямо из приложения

---------------------------
- загрузка файлов в КП:
  используя директивы типа: запись, имя файла, смещение, длина данные
  можно организовать постепенную закачку файлов в КП и дальнейшую замену, возможно с сохранением бэкапа и возможностью ручного
  или автоматизированного отката; нужно уметь грузить как исп.файл, так и файл настроек
---------------------------
- продумать механизм обновления ПО КП на принципах, схожих с remote explorer - иметь миниатюрное ядро, отрабатывающее элементарные запросы:
  - получить имя временного файла
  - получить список файлов каталога
  - получить информацию о файлах каталога
  - получить информацию о файле каталога
  - чтение фрагмента файла
  - запись фрагмента файла
  - подсчет CRC32 файла
  - переименование файла
  Запросы передаются в пакетах станции связи в поле дмагностики; 
  На каждый запрос передается квитанция в поле квитанций; расширенные квитанции могут содержать данные
     например: квитанция: Инфа о каталоге, Инфа о файлах и т.д.
  Расширенные квитанции присовокупляются к обычным квитанциям, чтобы упростить обработку пакета 
---------------------------

+- Управление. Если нет связи - ТУ подвисают в очереди надолго, это неприятно, нужно уметь удалять...
+- Управление. КП-2000. Нет контроля достоверности, ТУ повисает где-то  в дебрях
+ архивирование суточного архива РСС, ретайма
+ logRasAnalizer 
+ ShapeDnc - масштабирование
+ навагинская обсудить с Рашидом варианты
+- ShapeDnc, не отрисовывает выделение транспарнта при щелчке правой кнопкой
+- ShapeDnc, убрать перерисовку при двойном щелчке и щелчке правой кнопкой, 
  сделать отдельные функции перерисовки в исходном состоянии 
   - а) актуального примитива
   - б) всех выделенных примитивов 
  и вызывать вместо Invalidate!

+- paWpfArhViewer, есть статистика, хотелось бы еще расклад по этой статистике, например, и прежде всего: 
  + список всех отфильтрованных ТУ
  + список пакетов ОТУ

+ ПРОВЕРИТЬ ЧТЕНИЕ МАРШРУТОВ - ТОРОМОЗА, КАКИЕ-ТО ОШИБКИ (ОВЕЧКА _ КИСЛОВОДСК И ДР.)
  можно держать список всех маршрутов участка в классе круга, что позволит оценивать явно, читали БД маршрутов или нет
+ paConfig, сведения о станциях, можно вывести информацию о количестве маршрутов по станции
+ поиск по IP в paArmStsClt, paConfig
+ сортировку списка хостов в ComboBox

+- Дерево ПК для paConfig 
  - а) хранить в виде XML и считать при запуске, тогда не надо будет каждый раз запрашивать
       - при запросе - удалять и формировать заново
       - достоинство: сюда попадают все задействованные ссылки из INI файлов, это хорошо!
       - при такой реализации уметь актуализировать отклик ПК
  +- б) читать из НСИ хостов 
  - в контекстном меню уметь открывать удаленно штатные ПК
  - уметь актуализировать отклик ПК, чтобы оценить живой он или нет
+- C# версия не отображает сигналы замыкания в таблице маршрутов (Тверская, Николенково)

- ArmStatus. 
   - Насчет последствий меню “перезагрузить конфигурацию” – я посмотрю отдельно.
   + Для более корректного завершения задачи есть планы реально выключать из опроса хосты и процессы, отключаемые в сервере (сейчас они постоянно опрашиваются, и именно они подвешивают задачу при завершении из-за длительного ожидания отклика от неработающих служб в недрах .NET)
   +- при перезапуске ПК клиент показывает красный хост, и темно-зеленые процессы

- Сервер:
  - Внеочередное обновление информации о выбранном компьютере через контекстное меню или «вкл\выкл из контроля».
- Клиент:
  + Просмротреть и протестировать!
  + Необходим удаленный доступ к выбранному компьютеру (как на сервере)
  +- В просмотре архива желательно выделение цветом записей.
  -+ При просмотре архива «начало просмотра» сохранять.
  + При клике указателя на боковую дорожку ползунка для перехода на следующую страницу задача выпадает. 

+ адреса отправки
+ сист.блок
+ замечания по вьюеру + дата в виде дата+год, время
- почему-то станция связи куст-рузаевка зеленая, но имеет некорректное время последнего опроса...

+- доработать пакет инсталляции MSDE с учетом изменения номера порта
- интеллектуализировать параметризацию SQL запросов при выборках и общую функциональность просмотра архива на реальных данных


+ мониторинг процессов на предмет потери контроля, запуска и контроля версий
+- добавить новые опции в options
+- сообщения о реконнекте к резервной станции связи через 30 мек - проблема
  +- можно передавать "поддерживающие сеанс" уведомления от станции связи
  +- можно на уровне модуля Управление не рвать соединение с резервной станцией связи
- ArmStatus
	+ меню: выключить из контроля все с отказами
	+ меню "Свернуть" переименовать в "Свернуть все"
        + хотелось бы состояние кругов окрашивать с учетом блокирови
	+- в оригинальном файле > 2 вхождений хоста в круги, клиент при щелчке на прямоугольнике хоста с этой ситуацией не справляется, 
          так как одному прямоугольнику соответствует несколько классов Host и несколько узлов дерева
	+- выключенные из контроля (белые) не надо учитывать в алармах
  + скрипты не работают в 64-битном режиме, т.к. недоступен провайдер MS JET 64 битный, надо запускать как %windir%\SysWoW64\cscript.exe
  + при импорте справочника AppNames недопустимо иметь App как счетчик, так как нужно установить точное соответствие
     В то же время, если хранимой процедуре передать отсуствующее имя, она не сможет вставить его в AppNames, так как рассчитывет на 
     автоустановку поля App (как с хостами)
     НАДО ЛИБО ПЕРЕДЕЛАТЬ СКРИПТ, ЛИБО ХП

+ Чаис, диалог маршрутов, не собираются составные из 3 и более
+ Чаис, проблемы с враждебностью маршрутов приема и отправления

- виснет РСС МПК Инза-Новообразцовое
  - 17.10.2013 повисла сразу передачи ТУ примерно 22:57:59, при этом последняя посылка была успешно записана в лог mpk_tu_22.arh
    Надо выяснить закономерность - связаны ли случаи подвисания с передачей ТУ
    Возможно связаны, так как случаи участились именно на участке Инза-Новообразцовое, где стали управлять
  - лог событий в теле UdpClient
  +- проанализировать передачу ТУ и конфликты
  - учитывая лавинообразный объем данных, запись логов можно вынести в отдельный модуль, умрет - не страшно...
  +- можно проверить и при необходимости доработать механизм резервированния станций связи 
  - можно вставить доп.диагностику, чтобы понять who is who
  - хорошо бы встроить протоколирование переходов в общий протокол
  - можно задействовать сторожевой таймер
 
+- Рузаевка Пенз.парк, 2ГПЖ - сигнал с признаком LOCK в мониторе транспарант не мигает, в C# мигает
+- блокированные в БД сигналы не выделяются белым цветом

- мониторинг можно организовать с помощью paSrvice
  - сделать задачу, которая будет запрашивать список процессов, а потом - запрашивать состояние нужных процессов (отклик)
  - запустить для каждого ПК в отдельном потоке такую задачу и мониторить
  - для каждого ПК надо иметь список обязательных для контроля процессов

- мониторинг ПК и приложений
  - дерево		- формирует единый сервер, к которому цепляются сторожевые программы с каждого ПК
    - круг 1		- список ПК задается либо статически, либо вычисляется динамически
			  ВАРИАНТ: каждая сторожевая программа имеет название участка и номер в своей конфигурации и передает его наверх
			  Сообщение от сторожа:
				- имя участка
				- тип ПК (станция связи, управление, шлюз)
				- имя программы 1 и состояние
				- имя программы 2 и состояние
				- имя программы N и состояние
      - ПК-1 (тип)	- состояние ПК оценивается по наличию сетевого соединения со сторожем
			- список приложений определяется по конфигурации сторожа
     	- приложение 1	- состояние приложения оценивает сторож (наличие процесса, статус)
     	- приложение 2
     	- приложение N
      + ПК-2 (тип)
      + ПК-N (тип)
    + круг 2
    + круг 3
    + круг N
- реанимировать триггеры- очень интересная идея для развития функциональности
  - вместе с триггерами можно реализовать таймеры, которые можно стартовать с такими параметрами:
    - время, контролируемое событие, выражение (или действие) при наступлении и ненаступлении события.
  - можно контролировать разные процессы, например падение АД без причины
+- MONITOR: - расширенные команды должны отправляться ТОЛЬКО если КП поддерживает их исполнение, а именно: с версии 1.0.7.32

- C#: - некоррктно разбираются ТС в смешанной конфигурации(модуль ТС + МПЦ): Рузаевка Пензенский парк
- примитив имя станции может не учитывает имени
+- потерялся ряд станций по Рузаевке-Кустаревке

- уметь читать и воспроизводить архивы
+- уметь читать доп.таблицы TransparantEx и ColorScheme из внешней БД, чтобы уметь работать с существующими БД без правки
+- в диалоге КП WPF уточнять тип ОТУ: СПОК или УПОК, ОМУЛ или БРОК

- С++, C# - уметь видеть реальное число страниц в потоке ТС
- C# состояние ТС, число страниц должно зависеть от реальной размерности, можно показать размерность
+ C# уметь работать с произвольным числом страниц в потоке ТС
+ C# при чтении опций делать LTRIM!
- В протоколе событий коряво меняется время и дата

+- описать в БД опций таблицу квитанций КП
+- описать новые опции в БД
+- контроль зависания наборной группы
+- станция связи должна писать основные сообщения в SQL-протокол 
+- ОБДУМАТЬ DROUTES::DOROUTES()
+- ПРОБЛЕМА: если станция "умерла" - нужно очищать все очереди ТУ
+ станция связи Белореченская - Туапсе не рассылает метку времени. Почему?

paRssAgent
  - время опроса по каждому блоку
  - версия ПО по каждому блоку
  - название: основной и резервный блок
  - сторона опроса - можно словами а не индикатором
paWpfArhViewer
  +- падает при движении ползунка назад
  +- не отрабатывает изменеие времени в контроле
  + ОТОБРАЗИТЬ БЛОК ОМУЛ С НУЛЕВЫМ СОДЕРЖИМЫМ КРАСНЫМ ЦВЕТОМ - ЭТО ОШИБКА ПО!
  +- невозможно "переоткрыть" БД - глобальная проблема 
    НАДО УМЕТЬ ОСВОБОЖДАТЬ ВСЕ СПРАВОЧНИКИ
  +- неоднозначность функции SetPos - хочу не только стать, но и прочитать запись.
  +- SysInfo в ТУ должна уметь читать директивы
  +- ОТУ
  - квитанции и диагностика РПЦ
  - конфигурация модулей
  - состояние ТС  
  +- СRC
  +- обработка некорректного пакета


- обработать станцию Ульяновск-Центр на участке Инза-Нурлат не со своего потока, а с потока Сызрань-Цильна
- сделать хороший анализатор архивов станции связи с расшифровкой блока сист.информации, ТУ, квитанций, ОТУ и т.д.
  можно тут же отображать состояние КП, ТС, и т.д.
  можно объединить его с версией MdmAgentArchive, выдавая данные подключенным клиентам

+ на СКЖД стоит служба paService с ошибкой архивирования - это не было библиотеки ZIP
- СТАНЦИЯ СВЯЗИ: 
  - можно оценивать работоспособность основной станции связи не по UDP, 
    а по штатному TCP-IP соединению!!! Это интересно, можно даже отслживать состояние КП
    ЭТО ВАЖНО С УЧЕТОМ НЮАНСОВ ПОЛУЧЕНИЯ ДАТАГРАММ

  - при переходе на резерв оценивать работоспособность сети
  - При запуске основной брать на себя каналы (в теории можно и не бать...)
  - 
  - РЕЗЕРВИРОВАННЫЕ РСС РЕТАЙМ: возможно имеет смысл не брать ТС от резервной РСС если ТС от основной идут нормально, чтобы избежать дребезга сигналов


- выводить по запросу таблицы ТС типа АДК СЦБ с указанием дополнительно индекса в таблице или номера сигнала
- расширить отчет excel всем чем можно, в том числе и ДУ из БД и ДУ предполагаемым
- отчет: 
  - без инфы о подслушках
  - ДУ только если число ТУ > 10
  - отступы после участка
  - EXCEL

+- доработать анализ маршрутов
+- вставить и отладить DaoSafe
int DStation::PutTuToBuffer()
 { return 0;


- ТР КП-СО
- проработать документы по Безопасности
- загрузить документацию на SkyDrive
-+ Кряж-Кротовка, Кротовка - Абдулино, Пенза-Узел - В таблице TU_Name отсутствует имя с нулевым индексом. Таблица TU не может быть корректно обработана
-+ нормализовать БД Пенза-Рузаевка-Кр.Узел
- форма состояние КП - в модуле paRssMon не рисует МТУ/МТС, пока нет данных
  можно нарисовать модули ТУ/ТС серым, чтобы видеть конфигурацию
- LINQ, лямбда
- юнит-тесты
- опробовать team-foundation
---------------------------------------------------------------------------------------------------------------------------------------------------------
- МОДУЛЬ УПРАВЛЕНИЕ:
+- сложные команды ТУ, включающие до 3 ТУ с контролем ТС для оптимизации выполнения кнопочных команд установки и отмены маршрута

  +- ОТОБРАЖЕНИЕ ОЧЕРЕДИ ТУ СО СЛОЖНЫМИ КОМАНДАМИ

  - код, ТУ1, ТС1 [, ТУ2, ТС2,][... ТУN, ТСN], 0; 	// 0 - признак конца
  - в случае неисполнения любой промежуточной ТУ в блоке отправка последующих ТУ прекращается
  - вводятся промежуточные квитанции:
    - принят блок ТУ длиной N команд и поставлен в обработку
    - ТУ из блока команд исполнена в течение N сек
    - ТУ из блока команд не исполнена в течение N сек (оставшиеся ТУ игнорируются)
    - исполнени блок ТУ
    - прекращено исполнение блока ТУ 
  - наличие такого механизма позволит более гибко реализовывать и другие команды ТУ, исполнение которых можно проконтролировать с помощью ТС
    - нужно уметь формировать ЕДИНЫЙ блок при маршрутном задании и отмене
    - нужно уметь "набивать" блок при выдаче нескольких ТУ

---------------------------------------------------------------------------------------------------------------------------------------------------------
- PASHAPE
---------------------------------------------------------------------------------------------------------------------------------------------------------
  - нужны функции определения факта ошибки в трактах ТС и ТУ
    ТС
       - для КП2007 - ошибка хотя бы одного модуля
       - для КП2000 - ошибка диагонали
       - для КП2000 + Ломиконт - ошибка большой диагонали
       - ошибка ключа, МВВ и т.д.
    ТУ
       - АТУ
  - транспарант ТС должен гореть красным при некорректном наборе ТС или отрицат.резуьтатах теста ТС
  - транспарант КП. 
	// 1. Для МПЦ/РПЦ нужно корректно отработать ситуацию работоспособного КП и отсутствия связи с МПЦ/РПЦ 
        // 2. При использовании транспаратнта на общем виде он интегрирует в себе функции транспарантов ТС,ТУ,ОТУ,Осн/Рзрв 
        //    используя тртье состояние (желтый цвет)

  - Минводы А,Ж, отключенные стрелки моргают, вместо блеклого состояния

  - TsExpire - нужен концептуальный подход
  - состояние транспаранта ЧДК должно формироваться программно (или вообще не формироваться)
  - овечка
  - скачки, стрл.45 с нулевой РЦ имеет контроль, но не отображается вообще; 
    логично было бы отобразить хотя бы серым цветом
  + вместо СУ отображается РУ
    +- решил очень корявым частным способом; можно решить на уровне таблицы транспарантов в БД
    отображается, но не должен
- в форме ТС для старого КП можно в узлах диагонали можно давать не желтый цвет а другой
- отрисовка номеров поездов
- чтение архива
- состояние стрелок и светофоров - нужно ли? А почему нет
  Подумать: можно давать объекты в виде дерева с узлами ТУ и ТС
          - формируется единожды, потом обновляется
	  - достоинства - можно описать каждый контроль и дать его состояние
	  - особенно интересно для светофоров
- не выдавать ошибки на описание траспарантов перегонов типа "Н[#16]"
- сортировка таблицы маршрутов
- доработать оставшиеся транспаранты и примитивы
  - все состояния РЦ
  - все состояния стрелок
  - все состояния светофоров
  - дуги в РЦ
  + ВАЖНО: при вычислении выражений логическая 1 это еще и отсутствие мигания
  +- транспарант ЧДК определяет состояние по ТС
  +- транспаранты слепых перегонов не обрабатываются нормально
  + РЦ состояние пройденной в маршруте не отображается аналогично строй версии 


- WPF
  - привязка к данным
  - анимация
  + отрисовка Geometry на DC
- Вопросы оптимизации проектирования новой реализации
	- имеет ли смысл использовать для передачи состояния объекта развитые средства ремоутинга взамен ручной сериализации  	- нет
	- имеет ли смысл, и какой, сериализаций полного состояния без необходимости выполнения логики в клиентах 		- есть + и -
	- можно ли упаковать состояние стрелок и светофоров									- да
	- нужно ли вводить новые объекты											- есть + и - 

- идея: сделать под С++ умную реализацию класса DStDataFromMonitor, которая сможет определять на лету или из настроек тип потока, 
        чтобы не компилировать 2 типа модулей. Это вполне реально
	- сделать там два подкласса (приставка - до ТС, суффикс - после ТС) и массив ТС
	  либо зарезервировать под максимум, а изменить функции prepare и extract. 
	  ВАРИАНТ: "вырезать"/"вставлять" из массива пустой блок для СКЖД
- встроить в SHAPE стыковку концов примитивов. Например: вычислить все точки, занести в список, и при необходимости 
  найти ближайшую к началу или концу примитива и сместить примитив с охранением пропорций и углов
- ОТРАДНЫЙ ФАКТ: в WPF великолепно отрабатывает система слежения и аккуратного обновления изображения при частичной перерисовке любого элемента
  Можно совершенно не опасаться за целостность всего изображения при изменении любой его части. При этом пользователю не надо вызывать адейты
  того, что не менялось. Как я понимаю, это достигается тем, что я пишу не в само изображение, а в описание изображения,  а соответствие 
  описания изображению дело системы. 
  ВЫВОД: можно очень эффективно использовать отслеживание состояния обектов и примитивов. 
         А если задействовать анимацию, можно свести накладные затраты на отрисовку к МИНИМУМУ!
---------------------------------------------------------------------------------------------------------------------------------------------------------
- АРМ ШН при автообновлении не делается бэкап
- задача: построение диаграмм изменения состояния сигналов
  - выбираем сигналы, выбираем интервал и строим диаграмму их изменения
    сделать такую функцию в АРМ ШН на базе D3 - dynamic data display

DirClean: obj, pch, pdb, ilk, exp, trg, idb, tmp, plg, log, ncb, aps, bsc, sbr,   res(?), 
- Shell АРМ ШН: добавить функции открытия БД, запуска Shape и открытия папки в проводнике
- разобраться с опцией _KBSH - LARGE_TS детально по всем проектам, 
  если нужна зависимость, обработать везде REGIONNAME

- создание класса Ts (по аналогии с Тu) и Хэш-таблиц ТС в классе DStation могло бы упорядочить ПО и решить проблему
  нескольких ТС по одним координатам

+- Пример уточненной конфигурации ConfigKP2007 в БД, позволяющей контролировать отдельно каналы АБТЦМ с помощью доп.счетчиков
  EBILOCK(63) МТС=1(1) АБТЦМ(БУ08:32,БУ09:33,БУ10:24,БУ11:25)
  ВАЖНО: надо указать длину блока МПЦ
  Формируемые вирт.сигналы: АБТЦМ**.ОШБ, где ** - номер канала АБТЦМ	
  PS. В настроечном файле КП-2007 нужно включить опцию явно

- контроль ошибок описания, ошибок данных, переполнений  и т.д.
- MergeNsi - считать статистику только для выбранных станций
- модуль управление при работе со старыми КП не может адекватно оценить работоспособность ОМУЛ
  - функция IsOmulOk лезет в блок сист.инфы, а там облом. 
    можно сделать ее более актуальной привязавшись к отклику ОМУЛ с контролем стараения
	см. прием данных от КП, блок ОТУ
	DStation * DStation::GetTsDataFromNet(BYTE *p,int Len,DRas* pRas)
	      	// 3. СПОК - GetLenSpok()

- додумать структуризацию модулей
-----------------------------------------------------------------------------------------------------------------------------
- paConfig
  - запуск АРМ ШН, Шлюза, Протокола в контекстном меню - замена paDcBrowser
  +- загрузка маршрутов по запросу маршрутов
  - процесс при обращении к отсутствующим хостам не убивается, судя по всему из-за остаточных потоков 
  - загружать нужные логи по запросу

  - уметь определять необходимость обновления файла или каталога запросом
  - можно сделать при необходимости и TCP-подключение к выбранному участку, чтобы видеть живые ТС
  - возможно, надо иметь конфигурацию ПК в БД, чтобы каждый раз не грузить все. ПОДУМАТЬ
  - диагностировать старую службу на шлюзе - невозможно подключиться
  - можно запоминать имена INI или их содержимое для каждого модуля (О/Р), чтобы иметь доступ по клику
  - можно выплнять еще одну перекрестную проверку - путей на соответствие ArmTools.ini лок. PC в разделе удаленной загрузки
  - вести учет изменений по участкам - это может быть БД, файл и т.п. ДУМАТЬ
  - проверять ведение логов на удаленных ПК
  - давать сводку проблем по кругам в части администрирования
  - paServer имеет MessageBox. Возможно надо убрать за ненадобностью

  - помнить, что исходная копия esr.mdb лежит в проекте
  - можно анализировать опции и представлять в виде таблицы:
        ОПЦИЯ   ОСН   РЕЗ
  - уметь давать статистику в файл по участку и общую


paShape
  + переезд не отображается открытым
  + вывод ошибок в выражениях переезда
  +- текст НЕСООТВЕТСТВИЕ ЗАВИСИМОСТЕЙ
          ИЗМЕНЕНИЕ ПОЛЮСА ПИТАНИЯ КОМАНД ТУ

+ paLog - DLL
+ Увязка по Невинке
+- заявка от Сорокиной
+ более быстрое переключение станции связи на основной канал для цифровых линий
+- сделать RemoteLoader3 на базе PaThreadLoader
+ Управление
  + Имя хоста при записи протокола мало что дает, лучше писать IP-адрес
  + можно обновлять НСИ в формате АРМШН, чтобы вести единообразный учет НСИ и сохранить механизм отката
  + запуск RemoteExplorer с параметром "нужный мне ПК, в том числе и удаленный", чтобы оперативно посмотреть ПК и скачать логи
    уметь передавать не только удаленный ПК но и папку на лок.компьютере
  +- вести отдельный лог ошибок и отдельный лог работы
    эту идею можно провести через все ПО:
    - лог загрузки (проверка НСИ)
    - лог работы   (можно писать все)  
    - лог ошибок   (только ошибки)
  - визуализировать струтуру компьютнов и связей участка
    + Участок  - АРМ ДНЦ - 192.168.1.16 192.168.1.15
                           - *.ini
                           + источники информации
                             192.168.1.11:1010  192.168.1.11[EXT]
               - РСС     - 192.168.1.11 192.168.1.12
			   - *.ini
               - Шлюз    - 192.168.1.13
			   - *.ini
			   - ГИД УРАЛ: 

  +- сделать CANCEL для зависших потоков (можно путем перебора зависших заданий)
  +- со временем сделать версию загрузчика paLoader+FormLoader в отдельном потоке - ThreadLoader
  + очень плохо то, что много функций повторяются для FormLoader и ThreadLoader, очень хотел бы сделать эти функции типовыми. ДУМАТЬ
  + засечка времени начала/конца задания
  +  подсчет файлов
  + подсчет и отображение ошибок
  + сведения о ПК - в текстовый отчет
  + хочу иметь по кнопке меню отчет об случившихся ошибках загрузки в логе
  + MessageBox не выводить при групповом чтении, при чтении одного частка можно выводить
    - а можно опционировать флажком
  +  если встречаются IP лок.сети, не соответствующий БД - предупреждение
  + очистку лога чеез меню
  + все-таки вылезает сообщение MessageBox при групповой скачке СКЖД при ошибк подключения к шлюзу!
  + не выдавать диалог при ошибке удаленного подключения 
  + не блокировать меню чтения при незавершенных заданиях - нет смысла
  + иметь меню Удалить INI-файлы по участку и все
  + уметь просмотреть незавершенные задания на копирование
  + отрицательные уведомления не должны порождать цепочку копирования
  + читать INI со станции связи
  + настроечный файл


- Письмянка-Алнаши (Никашновка-Алнаши, Никашновка-Письмянка)

- параметром задавать регион и, воможно, участок, например
  СКВ
  СКВ "МинВоды - Овечка - Кисловодск"
- список станций и поиск по имени станции  и т.п.
- сортировка кругов по имени

- ИДЕЯ: встроить делегат в функцию LOG, тогда можно будет отслеживать при необходимости отображаемые сообщения вложенных функций в нужном месте программы
        к примеру, для отображения в отладочном окне
+- подслушка Ретайм не понимает привязки к IP адресам, ДОДЕЛАТЬ!

+- при чтении таблицы ТС Кинель-1 вылезает куча сообщений о несоответствиях описания ТС и индексов
-? перекидывать направление опроса периодически
-? Проблемы связи на аналоговых модемах
  -? разрывать связь в КП или перезапускать КП, если нет опроса с обоих концов при наличии соединения
  -? в станцию связи встроить 
    -? периодическую переброску стороны опроса станции
    -? алгоритм определения факта наличия коннекта и отсутствия связи с последующим перезапуском 

- книга по WCF
- WPF
- C# класс сохраняющий координаты основного окна и другие параметры в реестре
- MergeNsi - проект с нуля, оптимизация, возможно отказ от RSDN, ShapeChanger на C#
  
- заказ оборудования
- для слежения за номерами поездов желательно сделать облегченный вариант вместо запуска paControl
  - есть утечки, судя по всему, со временем отъедает много памяти и времени
- передаем ТУ для станции только в одну станцию связи - видимо ТУ, от которой получили последний ТС
  подумать, нет ли тут ушей...

- оболочка запуска с возможностью запуска Управления и опционированием запускаемых модулей
- додумать работу АРМ ДСП с основным и резервным АРМ
- архивировать сообщения о переходе не как аварийные, а как уведомления
- сервер НИИАС 10.64.90.182:4800 через VNC, пароль samara2012
- сделать приложение для тестирования TCP соединений 
  - клиент
  - сервер
    с возможностью коннекта, разрыва, передачи данных в разных форматах

- САМАРА:
 - разобраться как может подклюючение/отключение клиента валить систему
   (eventtype clr20r3 system: objectdisposedexception p10nl)
 - remoteloader грузит пустые длины файлов при рекурсивной загрузке
 - пробел перед IP в krugs вводит все в ступор

- на объекте ДУП.ОТ не уходит, так как не дожидаюсь обратного фронта СУ-Д
ИДЕИ:
   1. Иметь очередь ТУ ЭПИЛОГА (Finalizer), которая должна исполняться после завершения
      ОТУ или в деструкторе диалога
   2. Иметь очередь ТУ, отправленных в процессе исполнения сложных команд. Эта очередь
      может анализироваться на предмет общей задержки, контроля исполнения и т.д.

- средства САПР из таблиц Excel
- средства МОНИТОРИНГА ПО на основе служб - 
  - подключение ко всем серверам из таблицы кругов
  - определение версий ПО
  - там где можно, подключение рекурсивное, возможно, для этого надо описать все ПК
    на кругах
  - рекурсивное определение версий ПО
  - ведение учета версий ПО по всему дереву компьютеров
  - автоматическое скачивание архивов и т.п.
АРМ ДСП на ЦП
  - уметь сказать АРМ ДНЦ, что есть станции, допускающие работу в режиме станционного управления 
    от АРМДСП на доп.раб.месте (СУ + АРМДСПЦП)
  - вводим виртуальный контроль АРМДСПЦП на станциях, допускающих такой режим
    АРМ ДНЦ по наличию такого контроля понимает, что такой режи возможен
  - устанавливаем связь АРМДСП - АРМДНЦ по сети. АРМ ДНЦ получает список подключенных АРМ (список IP)
    Хотелось бы, чтобы гдее-то была прописана пара IP - допустимая станция
  - Когда АРМДСП хочет взять управление, он посылает пакет-запрос на управление
    Если ДНЦ подтверждает запрос, высылается отклик, и далее с некоторой периодичностью АРМы
    обмениваются подтверждающей информацией. Пока режим уситановлен, АРМ ДНЦ формирует вирт.сигнал 
    АРМДСП=1, который вводится а проверку IsSu
  - при любом сбое связи режим снимается
НАДО ОПРЕДЕЛИТЬ:
  - формат запроса
  - формат ответа
  - фрмат подтверждающих пакетов 


- диалог выбора секций для разделки можно дать до отправки предварит ТУ

КОНЦЕПТУАЛЬНО: хочу котролировать поезда на полигоне с учетом ГИД и своей модели
- ПРОБЛЕМЫ
  - для того, чтобы идентифицировать сообщения ДЦ ЮГ в записях ГИД УРАЛ в записи должна быть информация
    о номере ТС и КП. Она появляется там ТОЛЬКО после приема сообщения о поезде, что может 
    никогда и не случиться. 
    Поэтому, при чтении идентификаторов надо сразу вытаскивать инфу из БД!!!
- при выоде списка поездов брать в расчет только занятые РЦ

- Дема-Косяковка. Белое-Озеро не идентифицируется по ЕСР
- созвониться с Балабановым насчет экспертизы ТР

  - уметь показывать списки отслеживаемых поездов на всех уровнях в paControl
  - 
- Уметь импортировать в TsGidUral перекрестные данные о номерах РЦ и номерах станций
- Уметь находить соответствие данных об РЦ и поехдах в DtFrmMnt глобальным идентификаторам

- доработать ArhViewer
  - некорректно показывает ОСН/РЕЗ блок
  - хочу видеть СЖАТЫЙ/ПОЛНЫЙ ПАКЕТ
  - хочу видеть расклад ТС и данных от смежных систем
  - хочу видеть все, что можно
- трассировка сообщений Ретайм
- В MergeNsi опционально в табл.ТС добавлять колодку и контакт, отправить Бопше через Савина

+ paDcBrowser с  приемом параметра INI файла для Якушева
+ под отладкой прокатать  станции связи Пенза-Рузаевка-Кр.Узел
+- инструкцию АРМ ДСП для Данила
+- соглашения на имена ОТУ
+- отслеживание версий - переход разряда
+ форма ТУ 
+ форма стрелок
+ АРМ ШН, таблица ТУ, Очечка, имя столбца Полюс вмсето контакт
+- протокол загрузки - отдельно от лога работы модуля + возможность просмотра. 
+ Пенза-Рузаевка падала

+ сортировка таблиц РЦ, 
+ если отсутствует новая таблица транспарантов - падаю намертво. Обработать
+ при сообщениях об ошибке примитивов желательно выдавать номер строки
+- очень медленно грузит отладочную версию из-за сообщений об ошибках DAO при отсутствии полей
  можно запоминать нечитающиеся поля и повторно не читать их
- pashape
  +- просмотр маршрутов
  +цвет окантовки замкнутых и занятых РЦ зависит от типа маршрута - для маневровых он желтый судя по всему
  + маневровые желтым цветом, а не белым
  + отображение маршрутов в состоянии РЦ
  + маршруты на стрелках
  + маневровые не горят

+- письмо для Войникова
+- встроить повторное использование порта
+- 29.05. Подключение перегонов по ст.Мамедкала
+- Лабутиной распечатать, подисать, отсканировать и отослать
+- связаться с проектировщиком МОСГИПРОТРАНС насчет Ангелинской - Полтавской
+- идентификация вариантных маршрутов по Уршаку может не работать на Б-К 
+- не нужен БРОК на Косяковке
+- НИИАС и Потапов
+- Бесюлькин
  - направление на перегонах
  - сравнить БД по Уршаку
  - управление Караламаном с двух участков на одну станцию связи
  - 2 УПОК на одну станцию связи
+- АДК СЦБ Манас 22.05.2012

- +разобраться с ошибками MergeNsi, скорее всего перегоны ?
  - уметь сравнивать таблицы частично (после импорта)
  - уметь корректно импортировать отдельные таблицы, например, таблицу маршрутов

+ доработать UDP-обмен ArmTools и SubSystems
  +- уметь вычислять реальную длину ТС, можно орентироваться на конфигурацию
  + уметь передавать данные после чтения архива
+- перенести документы, АПО
+ сделать адаптацию по уч.класу
+- позвонить Сидорову
+- подготовиться к стыку с АДК СЦБ по ст.Морозовская
    Морозовская
+ поставить resharper
+ Закончить перенос из e:\public\_Шахов и  ИМПОРТИРОВАТЬ СООБЩЕНИЯ В WIN8
+ ТЕСТИРОВАТЬ вместе с АРзуманяном:
   DStation * DStation::GetTsDataFromNet(BYTE *p,int Len,DRas* pRas)
      St.CheckExpireAbtcm (St.DirInput + TsLen/2, lenDK);	// 2012.12.26. ЗДЕСЬ КОНТРОЛИРУЕМ РАБОТУ БЛОКОВ АБТЦМ В НОВОМ КП !!!
+ встроить обработку счетчиков АБТЦМ в КП-2007
+ доработать bool DStation::IsVirtualTs (LPCTSTR name) с учетом формул и ДК
+ можно ли дать разные времена ТУ для открытия и закрытия
  например по ст.Куринский Н2.К
+ где задается время уст.маршрута
  int		SETM_LONG = 30;  // опция SETROUTETIMER
+ контроль выражений надо делать после чтения БД - после определения всех ТС
+ мигание желтой окантовки при выборе стрелки для ОТУ
+ отрисовка светофоров как в совмещенном, так и в раздельном режимах
+ отрисовка штриха плюсового положения стрелки
+ не читаются корректно сигналы МПЦ (ебилок, диалог ...)
- Класс Светофор. Ст.Талды-Булак. Не идентифицирован в поле SvtfDiag тип диагностического контроля светофора: #28 Н3.МРШ [1.4.5] СВТФ=516
	Класс Светофор. Ст.Талды-Булак. Не идентифицирован в поле SvtfDiag тип диагностического контроля светофора: #44 Ч5.МРШ [1.6.5] СВТФ=540
	Класс Светофор. Ст.Талды-Булак. Не идентифицирован в поле SvtfDiag тип диагностического контроля светофора: #60 Ч2.МРШ [1.8.5] СВТФ=537
+ C# обязательно сделать возможность сортировки списка сигналов ТС как по индексам, так и по именам
+- неактивная станция связи, для которой сконфигурирован аппаратный коммутатор, не должна 
  передавать уведомления об отсутствии связи
- сделать переключение с контролем исполнения и повторной попыткой
+ регистировать тестовое сообщение и в шлюзе АСКПС и в Управлении
+ АРМ ШН. Копия экрана. Страничная копия имеет недостаток - не отображается время. Сделать и то, и другое
+paMoMo – не компилится
+ управление коммутатором каналов из станции связи
+- оптимизация отрисовки WPF
+- дублирование каналов связи с МПЦ - куда отправлять ТУ - в оба  
+ RemoteExplorer - не соединять автоматически при выборе IP 
                 - ограничить время ожидания отклика
+ разобраться с маневровыми маршрутами у Башилова
+ АРМ ШН, Диалог КП. При переходе с КП-2007 на КП-2000 не меняется тип диалога
+- Почему на старых КП не индицируется сторона опроса
+ Димитровград и другие станции - рыбки - не переносить номера на пути!
+ если скрыты номера поездов, не давать диалог ввода
+- КП-2000, прием АБТЦМ
+- Самониной 
  + Инза - Новообразцовое
  - Кряж - Кротовка
+ Данилу УПРАВЛЕНИЕ
+ не переводятся на резерв станции на РУ
+ описание наших работ по табло для Башилова
+ квитанции
+- инфоблок. После того, как узнаю версию, можно будет доработать диалог КП (писать в заголовке режим АРМ ДСП/ДНЦ)
  кроме того, можно формировать виртуальный сигнал в таблице ТС, чтобы привязать транспарант
+- сделать подкачку архивов за актуальные сутки и разархивирование по человеческм
3) ПГРИ, выбор секций до ОТУ
+ ТУ ПАУЗА: задержка + 0/0/0
+- ФИЛОСОФСКИЙ ВОПРОС ПРОЕКТИРОВАНИЯ: 
  - нужно ли закладываться на GDI и целочисленную арифметику, или сразу все давать для WPF в DOUBLE
  - есть два нюанса:
    - уже кое-какая есть реализация с ресурсами, очень соблазгительно отказаться
    - целочисленное хранение примитивов (это можно сохранить, если получиться округлять в гипотетичесом новом редаторе на WPF
    - можно хранить оба представления, это плохое решение для редактора, но приемлемое для реального времени - 
      можно при инициализации все преобразовать...
+- нарисовать в графике, то что требует графики
  для этого разобраться с Geometry
+ короче ножки у светофоров на 1 пиксел, или 15 вместо 17
+ повторители меньшего размера
+ окантовать прямоугольные примитивы
+ сделать корректное сохранение скиншотов
+ пожелания от Якушева по поводу paServiceEx
  + сохранить как для скриншотов
  + не закрывается при перезагрузке и выключении
  - не работает с дотнет 2
+ от Данила изменения по ст.Теплый Стан Рашиду или Рустаму или Леше

+ paServiceEx
  +- обдумать интерфейс для запроса скриншотов и исполнения щапроса, приема и отображения
  +- обдумать, что можно показать в окне диалога, например, подключенные клиенты, обрабатываемые файлы и т.д.
+ Рашиду - прописать БРОК в конфигурацию всех станций
+ бардак с проектами C# на ноутбуке, проверить архив ГИД-УРАЛ
+- на уч.Пенза-Руз-К.Узел прописать для Рузаевки Башилова индексированный ЕСР
+- список обслуживаемых по ТУ IP для станций связи с уведомлением АРМ ДНЦ о типе обслуживания
+ радобраться с копированием вложенных файлов в rloader
+ видимо в архив rtarmdnc не пишется проект paloader
  при открытии Remote2005 на ноутбуке имею сообщение:
 C:\ArmDncSrc\Utils\Remote2005\paLoader\paLoader.csproj : error  : Не удается прочесть файл проекта "paLoader.csproj". 
 C:\ArmDncSrc\Utils\Remote2005\paLoader\paLoader.csproj: не удалось загрузить файл проекта. Не удалось найти часть пути "C:\ArmDncSrc\Utils\Remote2005\paLoader\paLoader.csproj".
+ Пенза-Рузаевка-Кр.Узел, упал, работала модель,  9:30 12.07,  
+ Пенза-Рузаевка-Кр.Узел, упал, работала модель,  14:21, 10.07, см. архив
  
http://www.panoramio.com/photo/11519435    

+- обеспечить отложенную отправку подтверждений

+- сортировку списка поездов
+ отображение участка как в списке, так и в трассировке
- Абдулино - Чишмы - проверить работу слепых перегонов 

+ При задании параметра ARMTOOLS.INI большими буквами - несуразиица, так анализируем 
  на вхождение ini, после чего выдается дурное сообщение
+- сделать SHELL под ситуационный центр, можно доработать и сделать покрасивше


+ индексировать станции по номеру круга и номеру станции
- уметь находить станцию, находить нужный ТС и проверять его состояние
-+ уметь делать экспорт-импорт в БД ESR блок-участков ГИД-УРАЛ, возможно, 
   если это делать в paControl, то надо давать ход выполнения процесса и DoEvents() - иначе все виснет
   Kexit dctuj 
   
+ имеет смысл добавить 
  в таблицу TsGidUral имя файла, из которого импортируются данные

  + Отправить ПО АРМ ШН
  + ТУ - вывод в диалог сообщения об ошибке передачи ТУ в станцию
  +- оборудование

+ Лабутиной  
+ РАЗВОРОТ ПРИ смежной станции на СУ
+ АСДК  номер ТР
+ Ништун
  ЭЦ-9 СТР=ЭЦ-8

- в новом КП реализована задержка: нулевые I/J и ненулевое поле задержки
  Надо уметь генерить эти команды в АРМ 
  - доработать
  - проверить

- АРМ ШН. статистику многопоточного приема (список клиентов)
- АРМ ШН. статистику числа поездов и очистка поездов
+ не работает BRIDGE1
- тонкая рамка или вообще без окно рамки
- перегоны не поддерживаются, в т.ч. слепые
- SHAPE - разметка

+ Якушеву paGUreader
+ Сделать нормализацию БД по кнопке и после импорта
  пустым полям присвоить нулевые значения NoRc, NoSvtf, NoStrl

- ввести В БД КОД МАРШРУТОВ И ПРОВЕРИТЬ БЕЗБОЛЕЗНЕННОСТЬ ЭТОГО ДЕЛА

- при импорте БД сохранить старые номера 
  - станций
  - стрелок
  - светофоров
  - РЦ
  - маршрутов ?

- чтение всех файлов ГИД-УРАЛ в одном модуле
- убедиться, что BYBYLOGIC может отключаться
- продумать целесообразность объединения в одном модуле возможности чтения нескольких файлов

- Ростов ЦУП
  + TcpSwitch: 
  + доработать paService с возможностью подстановки адресов \\192.168.1.11 и т.п.
    - с параметризацией подстановки имен
  + Станцию связи с подкачкой обновлений
  + Управление с подкачкой обновлений

- Шлюз СПД часто падает при запуске на СЕРВЕРЕ. Сделать полную трассировку и разобраться

+- если стать в отладке на приеме пакета в модуле УПравление, подключенном к paGUreader, последний рано или поздно падает 
  +- сделал отвал на передаче через 1 сек - висели вечно
  +- аналогично падает при потере сети СПД. Странно...


- можно сделать анализатор-упорядочиватель INI файлов на основе таблицы описания опций
  можно туда же добавить раздел, в который входит та или иная опция и описание раздела; тогда можно будет 
  читать ini файл, проверять на соответствие, показывать конфигурацию и выводить упорядоченный файл
  а можно задать интерактивный Wizard - конфигуратор 
- ТР
- 
- сделать вариант внутреннего сжатия C# - в новом формате пакетов с потоковым сжатием
- отображать размерность таблиц меток
- не встроен корректный прием расширенного пакета в СЕРВЕРЕ!
- при смене сервера обновлять список инициативно, а не ждать данных
- сделать множественное подключение к файлам ГИД УРАЛ на разных портах
- читать не в основном окне, а в рабочем потоке
- фильтр по ЕСР станции аналогично фильтру на КП 
- слежение за выбранной станцией или поездом или РЦ
- UpdateIdFromNet не реализован
- сделать так, чтобы УПРАВЛЕНИЕ понимало новый формат
- можно сделать автоматическое увеличение приемных буферов в С++
- в заголовке расширенного формата предусмотреть бит на признак сжатия ZIP

+- Разобраться с утечками StatusStrip
+ mergensi - добавить в статисику число маршрутов

+ 1) исследовать влияние ZLIB и использования памяти
  2) выделить буферы единожды и использовать их
  3) заменить UserData или сделать аналог без выделения памяти
+ переименовать Новообразцовое или прописать ЕСР
+ можно сделать в C# расшифровку типов поездов
+ синхронизировать БД ЕСР  +- Рузаевка - Пензенский парк = 6400221

+ TcpSwitch: 
  + замечания Якушева 
  +- лог в относит. путь
  + параметризовать сжатие на приеме и передаче? Это можно не делать, если данные уже сжаты!
+ Управление: прием ТС по имени, если не нашли по адресу
+ АРМ ШН: при несовпадении ЕСР давать что с чем не совпадает
+ синхронизировать ЕСР для КБШ и забыть про БД без АСКПС на хер
+ контроль времени можно только на превышение а не абсолют.
+ сообщения об ошибках доступа к файлу
+ сортировку станций
+- формировать заголовок в ретрансляторе при передаче меток. Доработать, отладить
+ в любом случае передавать метки только ретрансляторам
+ хорошо бы идентифицировать ID ГИД_УРАЛ станции где-то
+ идентифицировать клиента не только по IP, но и по типу и не отправлять в УПРАВЛЕНИЕ метки
  МОЖНО ОТПРАВЛЯТЬ МЕТКИ НЕ СРАЗУ ПОСЛЕ ПОДКЛЮЧЕНИЯ, А ПРИ ПОЛУЧЕНИИ ИДЕНТИФИКАЦИИ КЛИЕНТА
+ сделать виртуализацию заголовка и конструкторы от исходного массива, так, чтобы можно было 
  работать прозрачно
+ отображение типа поезда вместе с номером 2602ТД
+ ввести опциональную запись в лог разбора сообщений ГИД УРАЛ - очень большой лог
+ опцию SYSNOSHOWTIME=N в АРМ ШН


+ если базовый сервер перезапустить, есть вероятность, что клиент подключится раньше, чем будет прочитан файл
  поэтому стартуем сервер только после чтения файла

- paGUreader. Ретранслятор дрлжен выдавать клиентам инфу о серверах и РЦ, иначе ничего не отображается
- не срабатывает ретрансляция данных ГИД-УРАЛ у меня в ЛВС (без ID )

- ТР МПЦ МПК
- ТР АСДК
- технологическая часть откатана; нужно дработать средства мониторинга. В том числе, возможность мониторинга всего полигона
- можно открыть еще один порт для передачи нетехнологической информации. Например - передача файла целиком.
- меню - просмотр объектов контроля для ретранслятора, передача объектов при подключении клиента, если они есть,
  если их нет, передать не могу. В этом случае передать либо при их появлении, либо по запросу

- бинарный лог сообщений от ГИД-УРАЛ (достаточно paGUreader, хотя можно и в Управлении...)
- возможно, имеет смысл по запросу передавать всю информацию для того, чтобы понять, на каком полигоне что контролируется.
  возможно, имеет смысл передавать по запросу только идентификаторы с той же целью
  НАПРИМЕР:  ПРИ ПОДКЛЮЧЕНИИ КЛИЕНТА ИДЕТ ПЕРЕДАЧА ВСЕХ ИДЕНТИФИКАТОРОВ

- paGUreader
    - плюха в NET клиенте TCP - при тестовом подключении rssretime и отключении не почувствовал отключения...
    - возможно не нужна инфа по системным пустым поездам с 9800, нет смысла гонять туфту
    - все нужна инфа о состоянии файла, то есть: нужна содержательная часть заголовка файла
    - можно опционировать объем передаваемой инфы в настроечном файле, а можно просто отказаться от передачи неинформативных записей
    - если передавать заголовок, то АРМ ДНЦ должен уметь его читать

+ вести отдельный лог ГИД-УРАЛ
+ не писать в строку сообщений все подряд по ГИД-УРАЛ, можно писать только идентификацию, 
  если она реально имела место
+ ВРЕМЯ ГАШЕНИЕ СИСТ.НОМЕРОВ - ОПЦИОНАЛЬНО
+ проверить работу опции скрыть брошенные
+ УПРАВЛЕНИЕ + СЕРИЯ локомотива
+ диме репликатор
+ при идентификации поезда писать его дислокацию
- 

ПРОТЕСТИРОВАТЬ ВСЕ ВЕТКИ ФОРМИРОВАНИЯ ТУ

- выделить в Station в отдельные файлы все функции, работающие с ТУ и ТС, тогда будет проще сделать обзор функций,
  проще будет рабираться

+ WORD	ijTU   		[MAX_OUT_NUM];			
+CString	sSetunImpulse	[MAX_OUT_NUM];
+WORD	_dcmpkKanalTU 	[MAX_OUT_NUM];		
+DWORD	kkTU   		[MAX_OUT_NUM];
+WORD	DelayTU		[MAX_OUT_NUM];
+bool	bOtu		[MAX_OUT_NUM];
+bool	MinusPolusTU 	[MAX_OUT_NUM];

- БЛОКИРОВКА ПЕРЕДАЧИ ТУ И ОТУ С УЧЕТОМ РАЗДЕЛЕНИЯ УПРАВЛЕНИЯ В РАЗНЫХ РЕЖИМАХ
  может делаться как на уровне генерации команд (интерфейсная часть), так и при их передаче
  в частности в функции int DStation::PutTuToBuffer()


- АРМ ДСП. Управление любой станцией с ВНЕШНЕГО (ДОПОЛНИТЕЛЬНОГО) АРМ ДНЦ
  - ВНЕШНИЙ АРМ должен быть описан в штатных АРМах
  - Он должен иметь в настройках опцию ДОП.АРМА, при запуске все станции недоступны для ДУ
  - Он должен "запросить" у штатного ДНЦ нужную станцию, тот дает согласие
  - При согласии, станция ведущего ДНЦ переходит в режим вспомогательного или внешнего  диспетчерского управления ВДУ
  - ВЗАИМОДЕЙСТВИЕ АРМ - ПО СЕТИ С ПОДТВЕРЖДЕНИЕМ СТАТУСА
- БЛОКИРОВАНИЕ ТУ при этом схоже с блокированием ТУ для АРМ ДСП

- Двухпортовые платы интерфейсов RS-422/485 - заказать, испытать
+ УПРАВЛЕНИЕ: опционально не писать в ArmMsg.mdb
- при закрытии модуля Управление писать поэтапно в лог процесс закрытия
- странная запись пишется в логах BridgeTcp Бел-Туапсе от 15.12 об установке соединения АРМ диагностики с сервером
  каким-то боком попадаем в ведку CBridgeTcpDlg::OnConnected с экземпляром, не равным pClientTcpMain
  что это за ветка, как такое может быть? Какие-то глюки в сети...

- отобразить дату создания/изменения файла и другую доп.инфу
- не факт, что надо держать файл открытым - невозможно удалить, думаю, это плохо,
  лучше каждый раз открывать и читать, более того, это даже безопаснее с точки зрения ошибок
- возможно, чиение можно вынести в отдельный поток, хотя не факт, что нужно
- сетевой клиент, формирование и рассылка сообщений только с номерами, их немного, можно слать ВСЕГДА
  тогда будет совершенно прозрачный для подключения механизм


- уметь вместо малтикаста использовать UDP
- станция связи без СОМ-порта только по сети падает
- доработать paArchiveSvc так, чтобы она могла не только получать, но и раздавать время в том же формате, как и сервер времени
  Тогда мы решим проблему синхронизации времени для СКЖД без малтикаста и net time
- предусмотреть изменение стандартного порта удаленного подключения 
- на основе remoting можно сделать хороший БЭКАП архивов, НСИ и т.п.
  в том числе, на нашем сервере! Можно сделать диалоговое приложение, вызываемое как задание
  На базе этой фичи можно построить бэкапирование архивов на серверах без горячего резерва
- КОНТЕКСТНЫЕ МЕНЮ
  - должны быть команды блокировки - ДОБАВИТЬ БЛОКИРОВКУ ДЛЯ РЦ/СВЕТОФОРОВ/СТРЕЛОК
  - не должно быть команл разблокировки и разделки

- не формировать ИР в контекстном меню РЦ
  исключения: - МПЦ Ебилок + СПОК (Рябина)

- при выборе стрелок мигать
- выбор стрелки для ОТУ разблокирования показать так же как и для СА
- контролироать выбор хотя бы одного объекта и только потом давать возможность отправки предварит.ОТУ,
  можно с запросом; можно контролировать наличие только одного выбранного объекта 
- можно имиировать ТС выбора в DEBUG версии
  

- ОТУ Пенза-Новообразцовое - доделать, отладить
- Прием номеров от ГИД УРАЛ

- связаться с Ивановым М.Т. насчет протоколов обмена
- ОТУ МЗ-Ф откатать все типы ОТУ
- Станции АУ Руз-Кустаревка со СПОК, как делать ОТУ? Надо делать новый режим управления
  ДУ, ДУ2~АУ у ДНЦ c созможностью забрать на себя

- Дорабоать протокол с возможностью поиска сообщений по шаблону, например перевод стрелки на станции
  Можно для упрощения сделать проткол на C#

- Сделать генератор отчетов о транспарантах с указанием цвета ламп, и условий вывода

- классы C# для РЦ, светофоров, Стрелок, Переездов

- обдумать варианты протоколов увязки с АПК ДК по контролю перегонов на верхнем уровне
- отключение записи в лог событий SQL
- почему в инсталляторе старый paService - старый dotnet
- встроить в АРМ ШН переключение из табло на схему станции по щелчку мыши по просьбе Шахова
-  обдумать, как можно сделать в старом КП гибрид цифровой связи и аналоговой
   Варианты:
      - парметризировать ветки связи COM3/COM4
      - реализовать 
      - решить вопрос аппаратно

- проблемы, вязанные с ФГУП
  - синхронизация времени 1070
  - ГИД УРАЛ		- пусть решают сам
  - 1010 - порт		- само по себе терпимо, но нужно обновлять настройки всех клиентов
  - 8080 - remote	- терпимо, но нужно обновлять ПО всех клиентов
  - 7431 - SQL 		- большая проблема!

- обдумать, какие вылезут уши

+ индикаторы режимов отладочного порта
+- не отображается номер контакта ТС по Сызрань-ПО в АРМ ШН в состоянии ТС - не было таблицы клемм
+ надо уметь определять тип ОТУ на станции - как вариант написать БРОК в описании станции
+ за счет того, что не читается инфа по ОТУ, я не могу определить в станции связи станция УПОК ИЛИ НЕТ
+ Индикатор БПДК/УПОК желтый в состоянии КП
+ откуда на стрелках Никулино перевод на МУ
+ убрать ВСА и разблокирование из контекстного меню
+ Записку Хошафяну
+ эмулятор КП -> АДКСЦБ + КЭБ2
+ не формировать в контекстном меню команды выбора стрелок для ВСА
  исключения: - МПЦ Ебилок + СПОК (Рябина)

+- МОНИТОРИНГ СИСТЕМНОГО И ПРИКЛАДНОГО ПО --
   Задачи:
   - отслеживание версий исполняемого ПО и их обновления / замены
   - отслеживание работы ПО (перезапуски)
   - отслеживание версий прикладного ПО (

- Тимашевская - 9км - старая версия на шлюзе
- Армавир - Белореченская - АРМ ДНЦ не пускает       (192.168.1.16)
- Кизляр - Олейниково     - Станция связи не пускает (192.168.1.11)

- можно сделать универсальный shell для запуска приложений на базе имеющегося
- RemoteExplorer. если во время длительной операции копирования папки щелкнуть другую папку выскакивает исключение
- RemoteExplorer. при копировании папки в существующую папку ничего не спрашивает

- Win7. Изменение системного времени из программы АРМ ШН не работает, если не запустить от имени администратора
- После отмены перехода на летнее время могут возникнуть проблемы...

- расшифровывать команды хотя бы на уровне модуль/строка/столбец в анализаторе архивов,
  в логах станции связи
- вспомнить и описать подробно виртуализацию ТУ
- сымитировать перевод стрелки при вспомогат переводе
- для виртуальных сигналов ТС можно не писать колодку/контакт

- сделать режим автоподтверждения для серверных клиентов
- сделать отдельную функцию отправки квитанции

- сделать подключение к ГИД потоковым, возможно опционировать
- можно сделать отдельный тип ПСЕВДОГИД потоковым, оставив "как есть" то что есть
- по АРМ ДНЦ ПРОБЛЕМЫ
  - слепые неправильные перегоны
-+ передача номера с участка на участок минуя ГИД
  - формирование сообщения 5002 в модуле Управление
  - создание ПА-телеобработки - приложения на шлюзе для обмена сообщениями с аналогичными приложениями
  - взаимодействие Управления с ПА-телеобработкой по порту ГИД УРАЛ
- обдумать интерфейс реализации ОТУ с микропроцессорными системами, в частности, с НИКУЛИНО
- эксперимент Арзуманяна: даем ОТУ, отменяем ОТУ, даем другую, квитанция исполнения отмены, 
  полученная АРМ ДНЦ, ставит диалог в тупик. РАЗОБРАТЬСЯ
- ОТУ ГРС для СПОКА аналогично ПГРС.ВК	Разделка АБТЦМ (перегона или участка удаления)
  с добавлением графы и описанием пост-команд ТУ для выбора участка для разделки

- LogRasAnalizer: Кузнецк - Новообразцовое. Не вижу ст.Новообразцовое
- Переезды:
  П.Ш  - контроль закрытия шлагбаума  (Ш)
  П.ЗП - аварийное закрытие переезда кнопкой ДСП или командой ДНЦ (АЗ)
  	Нужно: иметь поля описания сигналов для этих состояний и автоматическую индикацию транспарантов 
               по аналогии с аварией(А) и заградительной сигнализацией (ЗГ) красным цветом
- обработка выражений в прграммных транспарантах НАДПИСЬ=выражение

- КП-2000: где-то есть вывод в отлад. порт. закомментировать передачу, вычислить

+- Анализировать TUSPOK на достоверность ТУ и ТС
+ paUpdater
  при откате Monitor думает что MonitorDbg == Monitor
+ АРМ ШН, Blackbox, Monitor:  Заменил форматирование даты ГГГГ.ММ.ДД на беззнаковое ГГГГММДД
+- автообновление ПО с сохранением версий и откатом
  фактически, нужно вести учет и обновление версий
  в настройках указать место хранения эталонов, место хранения исполняемых модулей, требующих обновления
    ArmDnc
    Старые версии исполняемого ПО лежат в папке BACKUP
         Monitor XXXX.XXXX.XXXX.XXXX.exe
         ArmTools XXXX.XXXX.XXXX.XXXX.exe

+ МОНИТОРИНГ ДОЛЖЕН УМЕТЬ ОБРАБАТЫВАТЬ ПОЛУЛОМИКОНТОВСКИЕ КП
+- обработать новые квитанции в справочниках C#
+- ОТУ: заблокировать диалог при недоступности ОМУЛа и дать сообщение
+ Диалог УПОК. При открытом окне ИР и истечении времени падаем - ищи указатели
+ хочу уметь описывать в эпилоге ТУ УПОК косвенно адресованные ТУ, например  ВЫБОР[Никулино], это позволит 
  решить проблему разворота со смежных станций
  Для этого уже много чего есть - функция PutTuQueueSimple поддерживает адресацию
  Нужно сделать функцию проверки корректности ТУ с учетом косвенной адресации
+ позвонить Иванову насчет изменений

+ paControl не понимает пустую опцию 
  20.09.2011 9:30:09. Cт. Черниковка. Некорректное описание модулей МТС в опции ConfigKP2007:МТС=
-? таблицу для ГИД УРАЛ встроить в АРМ ШН
+- очистка архивов (SAVE, TEMP)
+- WATCHDOG не перезапускать до упора!
+- проблема с подгрузкой сообщений в протокол событий АРМ ШН. Если сообщения отстоят на 1 сек по протоколу, 
  используемый механизм упреждающего чтения след.записи и потом чтение назад через SQL не срабатывает на XP
  но срабатывает на Win Svr 2008. Видимо, проблема с округлением дат туда - сюда
  Надо менять механизм
- Написать Кареву, попросить денег на тестирование и доработку решений под Win7

+ нарисовать диалог ОТУ для шрифта 96 пикселей
+ отправить Диме список оборудования
+- запретить вывод ТУ предварит.разделки если не работоспособен СПОК
  Вопрос: а могу ли я везде полагатьcя на свою проверку его работоспособности ?
  На новых КП могу, поэтому для новых делать это однозначно!


+ протестировать все в комплексе
+ протестировать передачу данных КЭБ в АДК СЦБ, придется прожигать КП
+ протестировал прием/передачу/обработку данных КЭБ-2 в цепочке эмулятор КЭБ-2 - КП - станция связи АРМ ДНЦ
+ протестировал прием/передачу/обработку данных ДК от АДК СЦБ подстановкой COM7вместо СОМ1
+ протестировать отдельно прием данных ДК АДКСЦБ в составе реального КП на СОМ1

+- протестировать новые квитанции

+ реализовать прием перегонов от АДКСЦБ; куда девать ?   ИДЕЯ - обрабатывать и передавать так же, как и КЭБ 
+ протестировать МОНИТОР на предмет корректной оработки
+- реализовать передачу КЭБ-2 в АДК-СЦБ в старом КП по РЕПНОЙ
+- оформить документацию по договору с ЮГПРОМАВТОМАТИЗАЦИЕЙ
+- отправить документы Розаренову

+ УДЛИНИТЕЛИ ОТПРАВИТЬ В САМАРУ
+ отразить в локументации изменения ViewGidUral и оправить Якушеву для тестирования
+- добавить в ЕСРКБШ Биклянь, Соболеково, Нижнекамск
+- формирование таблиц в формате Excel в приложении paOptions
  каждое приложение - в отдельной вкладке
+ ViewGidUral с подключением к основному и резервному шлюзам с приемом данных в режиме одного канала
  основной - приоритетный, его можно временно выключить по принципу О/Р КП Круг

+- для того, чтобы в перспективе перейти на новую модель службы paService необходимо запустить службу 
  на всех ПК, включая станцию связи и АРМ ДНЦ. Тогда можно будет работать с другой учетной записью и подгружать
  БД и схемы через удаленное подключение, а не через сетевой диск

+- встроить квитанции на перезагрузки, 
  - иметь два счетчика перезапучков для основного и для резервного блоков, 
  - уметь отправлять команду-запрос счетчика из модуля Управление и станции связи.
  - делать автозапрос счетчика при запуске Управления и Станции связи
  - обрабатывать квитанции о перезапкске как в станции связи, так и в Управлении, писать в лог и протокол
  - обрабатывать квитанции о запросе счетчика перезапуска

+- сделать хелп по опциям, можно сбросить на SQL и сделать централизованным и доступным в сети СПД
+- куда делись кабели от DLINK ?
-  все найти, скомпоновать отправить в Самару вместе 

+ контролировать в paArchiveSvc прием сообщений малтикст, в случае отсутствия - переоткрыть сокет
+- протестировать запись регистратора RSS, убедиться, что будут писаться битые архивы

- сформулировать предложения к ассамблее нач.дорог
  +- организация двух рабочих мест ДНЦ
  +- оргнанизация в ЦУП возможности просмотра участков


+ доработать мониторинг РСС так, чтобы архивы зиповались автоматически
  аналог - служба. По истечении часа надо добавить в архив либо новый файл, либо все файлы

+- протестировать и при необходимости доработать новый loader
- не нахожу участок Письмнка - Никашновка - Кр.Поле
+- Проблема: УКСПС не все светофоры увязаны
+- добавить обработку типов контроля ошибок светофора: .А, .НС
+ сделать возможной обработку не пакетного приема в сервере C#
+ купить сервер + ПО
+ разобраться с поведением клиента - сервера при отсутствии данных
  возможно, дать механизм автопроверки "живости" соединения
+ уметь обраблять 5002 заголовком, 
+ привязать сигналы УСКПС к светофорам за счет поля NoSvtf и SvtfDiag
+ можно ли дать имена стрелок в списке доп.команд без знака
+ если в monitor.ini не отключить SPOKCOM=OFF, по умолчанию используется COM1 и конфликтует с UPOKCOM=
+ список доп команд при открытии диалога и выборе разворачивается в "левом месте"
+- мне казалось, что ВСА включает только занятые стрелки....  
+ в имитаторе сбрасывать все контроли
+- не выдается выбор стрелки при ОЗС на Шнаево
+ уметь откладывать отправку подтверждения до окончания исполнения ТУ в КП
  ДЕЛАТЬ ЭТО В СТАТИЧЕСКОЙ ФУНКЦИИ void CDlgUpok::Receive (byte * pData, int length)
  с помощью статических переменных, хранящих время подачи предварит. или доп.команды, корректируемое квитанциями о приеме команды к исполнению

  __----____________	- выдача ТУ
  ___---------------	- контроль исполнения имеем раньше завершения выдачи
  ______-----____      	- выдача подтсерждения должна быть не раньше окончания исполнения предваприт.ТУ или доп.ТУ
Варианты:
 +- оценка наличия квитанции
 +- отклдывание подтверждения как минимум на 2 сек от подачи последней ТУ или предварит.ОТУ
   причем, при получении квитанции приема ТУ скорректировать паузу
+ адаптацию ПО
+ в списке команд ТУ добавить графу для отображения составных и присоединенных команд
+ уметь описывать виртуальную команду, которая будет иметь фиктивный IJ но сама по себе не будет выдаваться 
+ сделать возможной обработку не пакетного приема в клиенте C#
+ не меняется в эмуляторе имя второй команды ОТУ
+ УПОК не отрабатывается смена имени контроля смежной стации
+- на слепом перегоне если дать неправильное направление поезду, он рисуется коряво
  см. Ладожскую, НКП, добавить на перегон, сменить направление
+- ОТУ: 
  + функции проверки наличия хотя бы одного контроля предварит. ОТУ
  + функции контроля наличия хотя бы одного контроля исп. ОТУ
+ при эмуляции ОТУ эмулировать изменение состояния для перемещения ползунка
+ сымитировать исполнение команды в отладчике, выдержав _Д несколько секунд
+ блокировать синхронизацию времени в момент ОТУ на уровне КП
+- Станция связи. если есть проблемы связи, метка синхронизации времени устаревает! 
   Оставляю "как есть" с учетом того, что во время ОТУ метки игнорируются
+- УПРАВЛЕНИЕ. была ситуация, когда вместе с предварит. ОТУ был отправлен признак нажатой кнопки подтверждения - такое может быть. 
+ проверить очередность проверки условий мигания транспарантов
+ проверить, почему еа репьевке нет в меню стрелок команд ВК
+ в тултипах нет команд выбора стрелки
+ в тултипах не отображаются выражения для мигания 
+ если нет связи со станцией, модуль Управление не должен отправлять в нее пакеты УПОКа, инвче забивают трафик
+ для ускорения установки соещинения АРМ С УПОК при возобновлении связи отвечать сразу своим пакетом
+ приоритет опроса станции связи не должен распространяться на информационные пакеты ОТУ
  или быть ниже приоритета командных ОТУ и ТУ 
+- Сюзюм, Асеевская - ЭЦ-9, но СА работает по алгоритму ЭЦ-2
  Вводим тип ЭЦ 9а
+ УПОКЕР TCHAR * const _TEXT_TS_OATU		= _T("ОАТУ");	// контроль аварии релейной части БРОК
	 TCHAR * const _TEXT_TU_OATU		= _T("ОАТУ.ОТ");// сброс релейной части БРОК
+ встроить передачу признака TSEXPIRE отдельным битом в потоке 
+ ТР ФОРАТЕК откорректировать и отправить
+- связаться с Волковым
+- докупить
  - 4 УПС
  - 4 колонки
  - 10 мониторов
  - 1/2 видеокарты MATROX 
+- у Иры взять все счета, контроль поставки оборудования
- сделать на сервере постоянно висящий C# TCP-switch, который не будет держать соединение с сервером только
  если есть подключенные клиенты
+- если есть хотя бы одна предварит.ОТУ или исп. ОТУ - блокировать ввод ОТУ и дать кнопку отмена

+- УПОК: в течении опред.времени он не должен сбрасывать полученную предварит.команду
+- УПОК: при сбросе УПОК он должен уведомить меня о сбросе, а я должен сбросить у себя


+ мониторинг отображение номера версии КП по Никулино и Черниковке должно быть
+- убрать из диалога ОТУ рисунки
+ встроить в редактор схем разметку под разрешения 1920, 1080
+ консоль заменяем на 4х коммутатор с кабелями и периферию
+ коммутаторы сетевые не надо
+ шкафы и причиндалы не надо
+ сервер 2U + рэйд 
+ в АРМ ШН иметь список команд ТУ без выдачи
+ если транспаранты упоров сделать без окантовки и располагать под схемой, можно их сделать меньше
+ транспарант задания направления для маршрутов (желтые стрелки) дополнить зелеными
+ ПРОБЛЕМА: отложенные таймауты событий не активны, если по станции нет опроса
  в результате: они не срабатывают вовремя


+ВАЖНО: информацию о себе должны давать не объекты SHAPE, а объекты SPR: стрелки, светофоры, РЦ

GetInfo()		== ToString()	== ObjectInfo()
GetInfoTs()				   ObjectInfoTS()	
GetInfoTu()				   ObjectInfoTU()

Классификаторы:
	Стрелка ТС
	  контроль +					+, .ПК
	  контроль -					-,.МК
	  котроль искусст.змк/блокир/запирания		.ЗПР, .ЗС, 
	  котроль взреза				.ВЗ
	  котроль выбора под ВК				.УВК, 
	  котроль выбора, в т.ч.под СА			.СА, .ВК
	  котроль выбора под ВК в +			+.У, +.СА, .+ВК
	  котроль выбора под ВК в -			-.У, -.СА, .-ВК
	 ------------------------------------------------------------------------------------------------
		Поле ЗС					Выражение 
		Поле МУ					Выражение для МУ
	Стрелка ТУ
	  перевод в +					+, П
	  перевод в -					-, М
	  запирание/блокировка				.ЗПР, .ЗС
	  отпирание/разблокировка			.ОТПР, .ОЗС
	  вспомогательный перевод в +			+.ВК
	  вспомогательный перевод в -			-.ВК
	  выбор 					.ВК
=============================================================================================================
	РЦ ТС
	  занятость 					- без суффикса
	  замыкание					.З*, .И*
	  выбор для искусств.разделки			.УРИ, .СЕИР
	  искусств.разделка				.РИ, РИ 
	  ложная занятость				.Л
	  блокировка					.Б
	  восприятие разблокировки			.РУУ
 	  местное управление				.МУ
	  ------------------------------------------------------------------------------------------------
		Поле Зан				признак основного сигнала занятость/свободность
	РЦ ТУ
	  искусственная разделка			.РИ, .ИР
=============================================================================================================
	Светофор ТС
	  блокировка 					.Б	МПЦ
	  контроль автодействия				.АД	МПЦ
          контроль отмены маршрута			.ОМ	МПЦ
          контроль разрешающий желтый			.ЖСК	АБТЦМ
    	  мигание					.МИГ	АБТЦМ
	  дополнительный неуправляемый маневровый 	.МНВР	
          сигнал, относящийся к поездному светофору
          (тот же номер, но маневровое показание)      
          кнопочное реле, индикация начала маршрута	.МРШ      ДЦ МПК (белый   фон названия светофора)
    	  индикация начала маневрового маршрута		.МАН	  Ebilock(белый   фон названия светофора) 
    	  индикация начала поездного маршрута		.ПЗД	  Ebilock(зеленый фон названия светофора)	  
	 ------------------------------------------------------------------------------------------------
		Поле Свтф СК				признак основного контроля открытия
		Поле тип светофора			ВХ/ВЫХ/МРШ/МНВ/ПРС
		Поле SvtfError				выражение для обобщенной аварии
		Поле ExtData: если это поле непустое, пытаемся считать из него команды ТУ установки/отмены 
				разрешения маневровов в IndxNameRmOn, IndxNameRmOff.
				Эти команды используются для формирования и отработки контекстного меню 
				светофоров: 
					- Открыть светофор с разрешением маневров
					- Закрыть светофор с отменой разрешения маневров
	Светофор ТУ
	  открыть					.О, .К
	  закрыть					.З
  	  маршрутная кнопка				.М
	  отмена маршрута				.ОМ
	  вкл.автодействие				.АВК
 	  откл.автодействие 				.АОТ
		разрешение маневров
		отмена разрешения маневров
=============================================================================================================
				
- САПР
 - задавать классификаторы свойств с удобным интерфейсом и перекрестными проверками

+- замыкание стрелок отображать одинаково
+ в тултип по стрелке дать все ее привязки: блокировка, ИЗ, выбор и т.д. и т.п.
 
- при двойном подключении файлы вижу, а процессы запрашиваю не те - в контекстном меню сразу видна не та строка
- ПРОБЛЕМА: время исполнения команд ТУ
  - надо иметь подписанные таблицы ТУ с установленными временами исполнения команд
  - надо защитить паролем доступ к изменению времени ТУ
  - надо писать факт изменения времени в лог и протокол

- Проблема: РАЗВОРОТ ПЕРЕГОНА
  оценка выражения для дачи команды разворота перегона:  (направление1 && направление2) 
  Рашид утверждает, что мы имели механизм блокировки в контекстном меню команд при встречно-занятом перегоне   
  Механизм есть , но он условно транслируется с переменной AUTOGENERATE (для тренажера):
	функция BOOL DRoute::IsPrgNoProblem	  (BOOL Msg) запрета контекстного меню на установку маршрута 
	на однопутный перегон при занятости перегона во встречном направлении.
	Функция полезная, но в таком виде страшно ушей: должны быть корректно описаны 
	- таблица перегонов с указанием прилегающих станций и выражений занятости 
	- ориентация Stn.IsLeftOddOrient
	- направление маршрутов
   ВАРИАНТ: дать в таблице маршрутов графу с описанием условий враждебности маршрута на перегоне
- хотелось бы иметь возможность видеть из-за каких условий меню блокировано, хотя бы по запросу, хоят непонятно, как это сделать для нескольких маршрутов...

+ АРМ ШН. кнопки панели навигации архива нормально не отображаются во всех состояниях под Windows 7
- не обрабатываются исключения при открытии таблиц БД, например при блокировании их в конструкторе
  сделал для таблицы маршрутов и пока всё


- в службу paService можно добаваить функции архивирования часовых архивов разных типов
  в этом случае можно было бы нагрузить ее архивированием архивов:
  - станции связи (обязательно!)
  - ретайм        (обязательно!)
  - гид урал      (по требованию)


- Встроить КЭБ-2 в ПО КП-2000, а также отработку этих данных в АРМ ДНЦ
- Встроить обработку типа контроя перегона КЭБ наподобие АБТЦМ
- прогнать Репная - Васильевский
- можно добаваить функции чтения веток реестра
  - заданной ветки
  - заданного значения
- следующий шаг - чтение журнала системных событий

- по принципу BLACKBOX можно вести глобальный журнал системных событий

- возвращать в информации о сервисе номер серверного объекта и общее число объектов
+- удаление работает некорректно! Сделай что-нибудь
  
- сбор информации о пользователях - заставить новых клиентов передавать о себе инфу - очень интересно!
  
- установка службы paService вместе с АРМ ШН на все компьютеры 
- ШЛЮЗ СПД должен регистрировать в глобальной БД все IP-адреса подключений
- неплохо было бы делать регистрацию IP всех подключений в сервисе, однако нет средств получить IP
- загрузка обновлений исполняемого ПО в АРМ ШН, а потом и в другие модули
- встроить проверку версии .NET в диалог О ПРОГРАММЕ, иметь утилиту
- rLoader должен поумнеть
  - уметь грузить виртуальные каналы
    В СВЯЗИ С ЭТИМ НАДО УМЕТЬ ГИБКО ГРУЗИТЬ ФАЙЛЫ БД, СХЕМ И АРХИВОВ ПОСЛЕДНИХ СУТОК ИЗ АРМ ШН
    ТОГДА МОЖНО ЛЕГКО ИЗМЕНИТЬ ЧТЕНИЕ АРХИВНЫХ ФАЙЛОВ ИЗМЕНИВ НАСТРОЙКИ АРМ ШН
  - определять, какая версия стоит и если можно
  - сжимать на лету
  - использовать обновленные функции
- LogRasAnalizer
  ПРОБЛЕМА: Прохладная - Беслан, 17.03.2011 с 00 часов. Имею разрыв внутри участка, не рисую отказы станций всего хвостапри разрыве резервного канала
  поднять архив, исправить

- обновить LOADER
  - лог писать в определенное место (искать свой катлог)
- можно автоматизировать процесс мониторинга ПО с помощью удаленного адмиистрирования:
  - в цикле по всем участкам
    - в цикле по всем компьютерам участка
      - прочитать версии ПО
      - сравнить размеры, даты и хэш-коды исполняемых файлов, можно обнаружить вирусы
        (для этого иметь БД с описанием параметров всех используемых версий ПО)
      - считать НСИ,  
      - считать настроечные файлы
      - проверить запущенные модули
      - сделать отчет по 
        - компьютерам
        - версиям системного ПО , можно анализировать дату запуска процессов и мониторить перезапуски компьютеров
        - версиям прикладного ПО, можно анализировать дату запуска процессов и мониторить перезапуски модулей
        - НСИ, можно мониторить внесение изменений
   Такой мониторинг можно выполнять автоматически хотя бы раз в сутки, и писать результаты в БД
   Как минимум, нужно иметь отчет об актуальном состоянии, а в идеале - срезы отчетов  анализом изменений

- обновление серверов 
  - SP2 
  - новую службу paArchiveSvc с переносом файлов
  - новую службу paService
  - 14:49 03.03.2011

- колодка/контакт должны вычисляться как в С++ (станция Новоуфимская, сигнал 1 1П.ЗМ. КК не прописаны в БД, но в АРМ ШН естьб
  а в мониторинге нет...)
- merge nsi. Заменять в таблице маршрутов названия ТС при импорте в соответствии с размером букв (прописная/строчная)
- merge nsi. Проблема ипмпорта маршрутов по Черниковке
- сделать службу для резервного копирования из папки БД устаревших архивов
  это можно сделать внутри службы paArchiveSvc

- Сосыка никак не отображается в мониторинге
- мониторинг Кинель2 не отображается красным в списке, хотя не работает АПК ДК и есть ошибки модулей в резервном блоке

+- опционировать контекстное меню в зависимсти от учетной записи хоста - разрешить либо сетеые, либо системные операции
- при параллельном копировании через старую paService имею проблемы связанные с удалением всех временных файлов
- не могу инсталлироваться из проводника

+- уметь прерывать длительные операции
  - а) многофайловые	
  - б) длительные асинхронные
+- можно ли архивировать целые папки ?
+- можно ли узнавать общий размер выделенных файлов и папок ?

- поймал пропажу сообщений; куда деваются - непонятно; надо мониторить этот факт
  возможно, проблема в широковещательном характере, может они без привязки уходят в другие адаптеры ?
  надо контролировать 

флуимуцил
- номер версии в paService
- бьются файлы в многопользовательском режиме
- служба затыкается в своих обращениях к серверу времени


- сбрасывающие остряки
- сбрасывающие башмаки
- сбрасывающая стрелка
- автовозврат

+- сервер времени - периодически отваливается синхронизация - клиенты подключены, но не обслуживаются
  - все-таки рвать периодически
  - показать список клиентов, число и время обраений
+ сторона опроса на Бензино - Черниковке не соответствует АРМ ШН
+ пропадает активная станция периодически
+ валится
+ лажа с графикой на крупных шрифтах


+ не стоит рвать соединение в сервере времени
+10.52.19.2  - обновил, включил брэндмауэр, дист.упр-ие
1+0.52.19.6  - обновил, 
+10.52.19.11 - обновил, 
+10.52.19.16 - обновил, 
+10.52.19.21 - обновил, 
+10.52.19.31 - обновил, 
+10.52.19.33 - обновил, 
+10.52.19.35 - обновил, 
+10.52.19.37 - обновил, 
+10.52.19.39 - обновил, 
+10.52.19.3  - обновил, 
+10.52.19.41 - не обновил, 
-10.52.19.100 - не обновил, 


- развить службу
  + отдельный поток
  - контроль зависания потоков
  + номер версии



+- заказ 4-х и 1 АРМ электромеханика
- выводить в статистике MergeNsi количество маршрутов
- ввести понятие охранной стрелки, возможность ее описания в RouteSrc, например в скобках(2/4+)
  отображение ее в таблицах маршрутов
- В таблице ТС расширить поле СТР и отладить страницы больше 1 там мусор
- paControl (мониторинг):
  - Перспектива: хотелось бы иметь конфигурацию станций связи для участка
    тогда можно было бы более точно отображать диагностику
  - ПРОБЛЕМА: наблюдал несколько раз как при плохой сетке данные по кругам перестают идти,     время обновления всех станций старое а круги отображаются зеленым цветом
    + ВОПРОС: а происходит ли идентификация TCP клиента после разрыва - ВСЕ НОРМАЛЬНО
    ИНДИЦИРОВАТЬ КРУГИ ПО КОТОРЫМ НЕТ ДАННЫХ
  + надо уметь контролировать отсутствие данных и разрывать соединение в теч.заданного времени
  + результаты тестирования второго МВВ игнорировать, где не надо
  + если совсем нет связи со станцией надо дать красным цветом модемы опроса
  - расхождения в показаниях диалога КП от paControl:
    + СПОК/УПОК должен учитывать состояние БПДК, класс станции должен знать об ошибке БПДК на участке
    + для КП2000 отображается отсутствие готовности резервного блока красным, так как мы не знаем состояния - дать серый
    + для КП2000 ЛВС и сравнение ТС дать серым
    + для КП2000 Ключ, Выход, Тест всегда серые
    +- для КП2000 некорректно отображается включение резервного блока
    +- для КП2000 АТУ серый, позже можно будет привязать к сигналу ТС
    +- на резервном блоке Кирпильского КП2007 модемы желтые, насколько это правильно - правильно!
    +- Рисовый Полтавская

  - показать конфигурацию МТУ/МТС
  - расширить фильтры:
    - ОШ.ЭЦ
    - ОШ.КП
    - ...
  - привести в соответствие ЕСР и БД
  - документация
    +- читать конфигурацию БД 
    - поддерживать и читать конфигурацию в общем SQL-сервере
  + связь с МПЦ/ДК как ошибка 
  +- некорректно отрабатывает отображение связи с БПДК/ОМУЛ на Кавказская-Овечка
  + сохранение координат главного окна

- НИКУЛИНО
- Инсталлятор для Сев-Кав.ж.д. должен включать новые БД, новое архивирование, новый протокол и т.д.
+- какой-то бардак с сортировкой в Протоколе

- paMoMpRcv - желательно иметь лог результативных сообщений, чтобы отследить в принципе что-то ходит или нет
+- опросник Николаенко

- ТУ .СА как обрабатывается ?
- четко документировать все суффиксы в ПМА 

- C# сделать ридер и анализатор объектов НСИ и их всех их свойств на предмет противоречивости
  будет очень удобно сопровождать 

- несоответствие размерности полей TsNAme в транспаранте в трех местах:
  - редактор схем класс
  - редактор схем диалог
  - исполнительное ПО

- в модуле Управление раздвинуть кнопки управления связью на панели станций для разрешения 96 точек
- прокатать СКСИ-МП

- watchdog
  - интервал от падения до перезапуска опционировать
  - трей
  - "перезапуск" после изменения настроек

- КЭБ в КП и АРМ ДНЦ

- инсталлятор ДЦ-ЮГ должен включать установку redist 2010
- инсталлятор ДЦ-ЮГ на С# с автоустановкой .NET и SQL-2005
+- попробовать установить под Win7 msde2000 - СТВИТСЯ, ХОТЬ И ПРЕДУПРЕЖДАЕТ О НЕСОВМЕСТИМОСТИ
    SAPWD=\"358956\" DISABLENETWORKPROTOCOLS=0 SECURITYMODE=SQL

- архивировать каждый день СКСИ-МП
ОКРУЖЕНИЕ
 - возможность запуска всех ярлыков APO, KBSH
   (можно иметь 2 комплекта ярлыков)
 - прожиг
 - VLC или другой плеер
 + visual compare
 + RegexBuddy
 + RemoteExplorer (rexplorer)
 + Merge
 + cs_NetLogger
 + mttty
 + tcpview
 + arhextractor
 + arhViewer
 + LoRasAnalizer
 + RssRetimeTester
 + evsTEst


TU Томылово NoStrl пробелы
- GidUralPlugin
  - формирование таблицы ТС по Кряж - Октябрьск, светофоры Н и Н.ПС сидят на одном месте,
    в таблицу попадают либо те, либо другие. Доработать
- станция связи, если дизэйблить активную станцию, выскакивает ASSERT в дебаге, разобраться, поправить
- в протокол модуля Управление писать выбор станции
  чтобы ловить падения (жалоба на падения Кряж - Октябрьск)
+ ПЕТРОВУ ПИМИ
- ПЕТРОВУ Письмо о готовности ввода
- новые квитанции в RssMon

- rssmon 
  - расширить строку отображения TCP по вертикали
  - расширить в диалоге ТС поля выбора номера срстраницы и подпись Стр
- уметь в ПО мониторинга писать весь поток, включая ошибочные данные

+ paBlackBoxSvc
	+stdafx.h
+ shapednc
	- см. даты
+	- CShapeDncApp::DoPromptFileName - рекурсивный вызов; что это такое
+ whatchdog
	см.даты
+ проверить проект ShapeChanger И его архивацию
+ LPU - в контроль версий
+ учесть в KBSH_ESR изменения Рашида по Пензенскому парку


Ключ VS-2010: 6B6TD-DHJB3-3PC9V-XGPDG-WWPXK 


+ ТР КЭБ 
- встроить механизм архивирования файлов в .NET
- завязка на обработку сетуньских групп в модуле Управление достала, в частности при подключении
  к шлюзовой РСС...

- подготовиться к Кравцу
- учитывать, что новая paService2005 требует нового RemoteLoader
chel-shch4elk@surw.rzd
+ подготовить дистрибутив и описание для Челябинска


- принципиально механизм ретрансляции потока виртуальной станции связи через шлюз решен
  Из Челябинска можно транслировать данные либо напрямую с вирт.ст.связи, либо через шлюз
    ВОПРОС: согласование скоростей; 
    Варианты: 
       - 2) за счет механизма квитанций шлюза - не на все пакеты могут идти квитанции
       - 3) за счет встраивания механизма отслеживания обновлений при формировании потока
            это круто. Если обновлений нет и не было реконнекта, можно в течение 15 сек ничего не слать
            Но слать не реже 1 раза в 15 сек
- обработка ошибок
- 

- УПОК: - давать разрешение подтверждения на УПОКЕ ТОЛЬКО после получения ВСЕХ НУЖНЫХ КОНТРОЛЕЙ,
  например, для ВСА ЭЦ-12 после получения ДУП
- ДЛЯ КИЗЛЯР-ОЛЕЙНИКОВО нужно ввести новый тип обработки алгоритма установки маршрута
  - этап 1 - групповая команда перевода стрелок
  - этап 2 - команда установки маршрута
  - надо обязательно дать программе понять, что нужно ждать перевода стрелок и только после этого открывать 
    сигнал. Можно задействовать что-то типа псевдокоманды СТРЕЛКИ
    Например, ввести команду ЖДАТЬСТРЕЛКИ 
- ДЛЯ КИЗЛЯР-ОЛЕЙНИКОВО нужно ввести новый тип обработки ОТУ ВСАЧ,ВСАН  

- на контроль Черниковку, Кинели, Рузаевка-Пенз.парк, Никулино
- на контроль поставку станций связи

- уметь очищать протокол в registermessages, к примеру, оставлять последние 3/6/12 месяцев
- АРМ ШН. 
  - Скриншот желательно делать из виртуальной страницы, а не скриншот
  - имя файла скриншота лучше иметь датой, писать не на дискету, сжимать по требованию
- документацию на ПО мобильного рабочего места
  
- МОНИТОРИНГ:
  - уметь обрабатывать пакеты - обновления!
  - потестировать классы в потоке от модуля Управление
  - считать ошибки связи (анализировать количество переданных и принятых пакетов)
  - блокированные сигналы отобразить белым цветом
  - сформировал поток станции связи; вопрос: можно ли сформировать поток МОНИТОРа ?
    смысл: возможность подключать шлюз непосредственно и передавать данные
  - упорядочить индексацию модулей (с 0 или с 1) в разных программах
  - можно ввести объект "массив ОТУ" и показывать отдельной вкладкой весь обмен
  - при чтении архива сделать анализ корректности пакета и обработки некорректных ситуаций
  +- неактуально: станцию связи на прослушку
  +-  фиксировать события сбой связи, ош.CRC, формата
  + писать в лог ТУ, ОТУ, квитанции
  + нужно сделать функцию вызова хранимой процедуры для регистрации сообщений в SQL-сервере
  +- неописанные сигналы в 1 отображаются не желтым, а серым цветом!
  + отображать серой окантовкой пустые модули в диалоге состояния КП
  +- формировать состояние БПДК/УПОК, посмотреть, как его формирует станция связи для УПРАВЛЕНИЯ
     (дело в том, что модуль УПРАВЛЕНИЕ определяет работоспособность БПДК/УПОК по обмену по стыку)
+ мониторинг обмена с Сетунью - на аппаратном уровне
  уметь обрабатывать поток станцией связи, судя по всему, для этого надо сделать еще 2 потока
  приема данных по стыку из тракта ТУ, или сделать C# программу-переходник, которая будет
  + принимать данные по 4-м стыкам, архивировать и отдавать по сети в станцию связи
    неплохой вариант 
      - оформить ее отдельной службой или приложением
      - писать 4 независимых архива(2ТУ, 2ТС), или 2 зависимых (ТУ, ТС)
      - отдавать датаграммы по 4-м или 2-м портам

- Внести правки Арзуманяна по расширению системной информации:
  - D7 - направление опроса         0 -осн, 1-обвод
  - D6 - состояние ОТУ              1 - ОТУ активно и в норме
  - D5 - сторожевой таймер          1 - вкл
  - D4 - критическое значение ОЗУ   1 - < 1Мб
  - D3 - признак ретрансляции       1 - вкл


+ СКСИ-МП - в лог опционально писать все сообщений, иначе за выходные теряю
  - был перезапуск сервера 71 с шлюзом СКСИ-МП, кто и почему ?
+ малтикаст под W7
+ некорректно отображается состояние 3-й и 4-й станций связи по Пензе-Руз-Кр.УЗел
  + разобрать детально как всё это формируется и почему бардак
+- проверить все с сокетами, проверить распаковку - упаковку, флаг NODELAY
  - привязку к IP, хотя это неактуально, так как проблем с привязкой нет, и это удобно
+- Иванову по поводу контролей перегонов
+ документацию Дема-Косяковка, Косяковка - Мурапталово

- Инсталлятор для подслушек с инсталляцией дотнета  
+- восстановить все необходимое для организации канала СКСИ-МП
 
- КП2000. 
  - протестировать подозрение на обработчик прерываний путем зацикливания приемника на 
    передатчик для задачи передачи в АДК СЦБ. Или сделать эхо передачу в порт в логгере.
    Убедиться, что передача не прекращается 
    в течении хотя бы рабочего дня
  - Попробовать переоткрытие порта
  - сделать задачу приема данных АДК СЦБ с анализом положительной и отрицательной квитанций
  - встроить порты  
  + ПО КП-2000 + расширенные RS
  + 8-портовая плата COM-порта

- При импорте Рузаевки-КП из Рузаевка-Кустаревка в Рузаевку-КрУзел вылезает ошибка 
  нулевого значения колонки TsExpress. Разобраться и пофиксить
- Кинель 3 + доработать стык
- определиться с каналами для Рузаевки-Пенз.Парк 
- ТР на КЭБ
- Программу проведения индивидуальных испытаний
- ограничение 7 сек вместо 6 сек в модуле Управление
- Шлюз ГИД УРАЛ. Открывать таблицы ТС после создания только по запросу
  или в отдельном потоке
- ТРАНСПАРАНТЫ:
  - тормозной упор более мелкий без круга с тремя состояниями:
    - серый
    - желтый 
    - красный
  - ограждение пути; есть сигнал, по идее его можно просто привязать к РЦ без введения 
    транспаранта, либо задействовать ПОНАБ или ДИСК под транспарант c тремя состояниями: 
    '[',']', ' '; А можно использовать текст '[',']' с условным отображением

- Шлюз АСКПС. Тестовая рассылка с учетом перекодировки EsrAskps и протестировать сообщение
- чтение таблиц Excel
- запускаю АРМ ШН без опции FORMNAME, станция Шершни выбрана, но не отображается
- развить анализатор архивов:
  + станция связи
  - обычный архив (в принципе, это АРМ ШН, хотя можно и развить, тем более уже есть классы
    в мониторинге) 
  - управление ДЦ МПК - важно. так как бывают проблемы
  - ТС ДЦ МПК
  - Ретайм - имеет смысл
  = очень неплохо было бы уметь создавать фильтрованные протоколы-отчеты для анализа

- систематизировать опции модулей в БД и дать возможность просмотра в приложениях в виде справки
+ проанализировать предложения Берсона
- проанализировать прием шлюзом ГИД-УРАЛ плагин данных на уч.Армавир-Белореченская от 2010.05.05
- почему-то вылетает ошибка АРМ ШН после скачивания БД и схем
- эксплуатационная документация с учетом УПОК
- комплект документации на Отладочное ПО электромеханика
  - станция связи
  - Управление
  - Анализатор архивов
  - Анализатор связи
  - ArhExtractor
  - логгер порта
  - mttty
- описать ПМА по УПОК и эксплуатационную документацию
- функция АРМ ШН: обновить исполняемый модуль

- сделать более человеческой нумерацию кнопок в [Arm.mdb][Stations]:
  - порядковый номер кнопки МОНИТОР
  - порядковый номер кнопки станции связи
- сделать MonitorDbg с возможностью более полной имитации УПОК
- сымитировать и проверить парные команды УПОК, проверить код  
- уметь ограничивать запросы по станциям в шлюзе СКСИ-МП
- контроль заказа OCS NN
- более элегантно показать список обслуживаемых станций в шлюзе СКСИМ МП (paMoMpRcv), 
  можно в меню настроек дать список станций с чекбоксами

- public bool StationOk - нужно ли учитывать DeltaLinkEr

- MergeNsi - формирование excel-таблиц учесть тип КП и для новых КП дать модуль выход вместо строка столбец,
  и убрать модуль

- что нужно для работы BlackBox:
  - SP4 для Windows2000
  - обязательно запустить урезанный скрипт script.cs
    cscript script.cs local 358956  для переноса данных в таблицы 

- установка SQLExpress-2005. Проблемы:
  - смог установить пакетно
  - не смог сделать безымянную установку
  - не работает скрипт создания архивной БД - ошибка синтаксиса
  - не работает скрипт импорта БД
  - не понравился менеджер
- Станция связи при определении приоритетов опроса станции ДОЛЖНА игнорировать предоставление 
  приоритета пакетам с уведомлением работоспособности УПОК. 
  
- можно опционально убрать преамбулу в станции связи
- проблема: 
  - описать последовательность действий для ОТУ УПОК
  - ВАРИАНТЫ:
    - штатный вывод одной ОТУ
    - штатный вывод двух  ОТУ (разворот)
    - ВСА с вариациями
    - ГРИ с вариациями
    - искусственное размыкание стрелок индивидуальное
    - ...

- встроить в GidUralPlugin формирование таблицы сигналов ТС в SQL сервере,
  тогда можно будет иметь актуальную БД сигналов и не надо будет читать 
  все БД. Это будет полезно для многих приложений
  Для этого нужна новая таблица или несколько таблиц, 
  Это можно совместить с таблицей сообщений от СКСИ-МП
- можно встроить в протокол функции:
  - оценка объема данных (число записей, диапазон)
  - возможность удаления данных старше 1 года

- при попытке читать архив ТС с другого участка АРМ ШН, MonitorArh падают
  это не логично
- м.б.надо уметь диагностировать дублирование инфрмации на разных поездах из-за тормозов СКСИ-МП)
- Данил-Кравец:
  - разрешить тултипы АРМ ДНЦ
  - вернуть порт с 9113 на 7113
- диалог "связь" АРМ ШН для отображения состояния связи по всем станциям
- мониторинг всего делать, делать сервис

- фоновое тестирование АРМ ДНЦ
- проверка  АРМ ДНЦ - УПОК:
  - тестирование некорректно посланного подтверждения
  - тестирование отрицат.результатов тестирования УПОК

- В байте состояния УПОК взвести признак восприятия предварительной команды УПОКОМ
  и только при наличии этого признака начинать отсчет секунд 
  Идея плохая, так как КП команду обработал, смысла нет никакого
- Ответить Талалаеву, изменить расчет
- загрубить контроль встречных перегонов от Данила

- встроить в инсталляторы проверку наличия .net 1.1 и 2.0 - проверка установки .NET 2.0
- обдумать механизм более гибкого контекстного меню:
  - если транспарант не виден, вообще не давать меню и не "видеть" его в поиске (подумать об ушах)
  (нужно на стрелках и вообще)
- ArhViewer
  - фильтр по ошибкам связи
  - анализ бегунка опроса (приоритета), график
  - не доделал вывод отчетов
- мониторинг участков как веб-сервис.
  aspnet служба, которая подключается к участкам и выдает по запросу состояние либо всех участков,
    либо заданных участков в виде 
    Массив кругов. Круг: атрибуты (имя, IP, ...)
                         массив каналов связи. Канал: состояние О/Р
                         массив станций: атрибуты
                                         состояние О/Р
                                         состояние связи
                                         подсистемы
                                         ошибки блоков
- если служба paService сможет сама выполнять подключение к удаленной машине, подобно тому, как это
  делает RemoteExplorer, можно будет делать иерархическое подключение через шлюзы в локальную ЛВС
  

- для прожига СПОК: ДОС (Pentium-III), плата ЦКС, Windows-2000, прожигалка микросхем
- Копию экрана встроить в меню LogRasAnalizer
- draganddrop

- Приложения под C#
  - _cs_NetLogger
  - AboutDlg
  - ApkDKgen
  - ArchGidUralViewer
        - видеть все ТС, а не только первые 1024
        - уметь указывать НСИ ЕСР после того
  - ArhViewer
  - ATShell
  - dcMpkSpellXml
  - GidUralAlarm2
  - ImportMinGid
  - LogRasAnalyzer
  - MergeNSI
        - иметь кнопку копирования транспарантов в MergeNsi
        - при сравнении текстовых полей сравнивать размер
        - выводить лог в текущем каталоге
        - сделать ShapeChanger работающим по-людски с пробелами и точками в именах файлов
  - paMoMpRcv
        - paMoMoRcv при запуске записать в лог основные пармаетры подключения и рассылки  
  - RemoteExplorer
        - укзывать размер файлов как в RemoteExplorer, так и в RemoteLoader  
  - SpokerEmulator

- Рашиду: Рябина, маневровые от НМ3 за М4 - перепутано положение стрелки 14- (д.б.14+)
- Ивану Николаевичу помочь с инструкцией о порядке пользования
- думать о СПОКЕ
- SPR классы (Station, ESR и т.д.) должны очищать статическме массивы если планируется возможность 
  повторного чтения БД
- ArchViewGidUral
  - чтение настроек
  - чтение БД arm.mdb и esr
- Макет: - станция связи -> Шлюз -> ViewGidUral
  Проверить обработатку Plugin-ом уведомление об отсутствии связи со станцией
- котляревская, баксан, муртазово, коноково
- механизм автоматической подачи команды индикации автоматического разворота перегона
- Солдатская, нет диагонали но связь есть, почему серый диалог КП ?
- Проблема: Солдатская думала, что она -  не Ломиконт, обновлений не было, опять имею 
  проблемы. Надо изначально ставить в неопред. состояние массивы ТС и в версии КП-2000
  станция связи после разрыва должна передать все ТС. Видимо, формат не совпал, 
  и они были игнорированы ? Это проблема! - так можно облажаться - время не должно 
  обновляться и такие ТС должны умереть. Писать 

- Двубратский. Проблемы 4.07, 14:27 - 14:47
- Станция связи. Упростить задание кнопок и рис., например, заданием расположения
- по Кинелю ТР

- Данилу:
  - описание протокола и потока данных
  - ViewGidUral + GidUralAlarm
  - RasViewer Рашида
- сделать службу paGidUral, а для мониторинга на сервере иметь GidUralAlarm2
  это будет супер!
  - остается проблема просмотра сигналов, которого нет в GidUralAlarm2 
    можно использоватьнаработки просмотрщика архивов GidUral

- ПРОБЛЕМА: ингда очень тормозит подкачка файлов через REMOTING
  для удаленной загрузки файлов можно организовать отдельную службу на основе 
  обычного TCP соединения. Тогда с учетом сжатия можно было бы существенно оптимизировать 
  передачу
  - сервер ждет соединений на отд.порту, подключает клиента, реализует запрос со 
    след.интерфейсом: GET ПОЛНОЕ_ИМЯ_ФАЙЛА, берет копию файла, и начинает передавать порциями
    со сжатием, любая ошибка передачи - разрыв. Можно создавать отдельный канал на отдельнои 
    порту, но лучше не заморачиваться с фаерволами
- подумать и поднять службу paService на другом порту

- УПРАВЛЕНИЕ. Надо обнулять все поле сигналов ТС при полном опросе независимо 
  от объема принятых данных, чтобы гарантированно очистить грязь, случайно возникшую
  (с другой стороны, это скроет проблемы...)
  (Тихоново, Тойма - остались паразитные сигналы)
- Новообразцовое, не прописан входной маршрут на 4П от ЧР (только вариантный)
- при переводе  с СУ на ДУ по Лермонтовской есть необходимость дать спец.набор команд ТУ
  надо сделать еще одну графу в БД
- у Якуниной претензии по функционированию сервера сигналов
- Разъезд-1. КП на схеме станции горит зеленым, хотя связи нет
- АРМ ШН просмотр КП, при смене станции переход с КП-2007 на 2004 не отслеживается
- Привести в соответсвие таблицы транспарантов на
  - Сызрань - Средневолжская
  - Тимашевская - 9км
- дать колонку время установки маршрута,чтобы можно было изменить умолчание для маршрутов с выдержкой
- сделать настраиваемой периодичность вызова контроля, 
  - как вариант - имитация разрыва связи по всем станциям связи
  - как другой вариант: при отправке любой команды ТУ давать нулевой номер сеанса - ХОРОШО!
- сделать запрос от ДНЦ: вызов контроля
- Транспарант СБФ (сброс фрикции) не имеет пустого состояния
- при ОСТ-отображении повторители горят красным а не серым

- IsAllMtsOk - похоже, эта функция проверяет только блоки основного комплекта

- поезда на слепых перегонах по неправильному пути
- ОТУ + УПОК + Документация
- диалог КП, если нет связи со станцией - отобразить, а потом погасить 
- дать возможность менять размер диалога маршрутов
- если встанет вопрос ребром, модель МДП можно делать автономную, вне графика
- можно сделать приложение-шлюз, которое будет транслировать в сеть поток данных станции связи!
  (это была бы сила)
- создавать учетные записи ШН, ДНЦ, АДМИН по запросу

+ Обрабатывать сигналы .МУ для РЦ и окантовывать РЦ пурпурным цветом при передаче на МУ
+- служба paArchiveSvc
 + контроль запуска малтикаст
 + контроль получения сообщений малтикаст
 - диагностика отсутствия синхронизации персоналу
+ АРМ ШН сделать интерактивную опцию отключения контроля времени при просмотре архива
+ Данилу и Рашиду БД с Пензенским паком
+ Иванову маршруты по Чебаркуль 
+ Петрову ответ
+ ТР Сетуни на контроль
+ отображать номера портов основного и резервного каналов на станции связи 
+- При увязке с ЭЦ-МПК кодируем ТС как в Ебилоке, но в колодке и контакте
  пишем группу/импульс. При загрузке проверять соответствие
  Кроме того, определиться со смещением ТУ и как их формировать
+- заказ ноутбуков
+ Эмулятор станции связи от Иванова Е.Н.
+ развить тест последовательных портиов портов под ДОС
+ Кабели срочно в Самару
+- связаться с Козловым Аркадием насчет эмуляторов и сроков
+ адаптацию пензенского парка
+- Кинель-3 пришел
+ эмулятор Пензенского парка Рузаевки
+ ТР со станцией связи Сетунь
+ распечатать и оформить ТР с Сетунью
+- адаптация Туймазы-Усень
+- КЛАССИФИКАТОР В ПКТБ ЦШ
+ отправить в ПКТБ ЦШ классификатор отказов
  

+ Убедиться, что можно задать жестко СТО в опциях АРМ ШН
+- 5558
 - встроить корректно в проект, включая конфигурирование
+-КП-2000, 4 задачи на 4 порта
+- обсудить сметы Идукова
+- отправить Данилу документацию
+ SHAPE: запоминать комментарии для транспарантов и предлагать последний запомненный 
  при отсутствии явно заданного
+ Кате реквизиты КБШ и наши 
+ отреагировать на телеграмму ЦШ
+ обновление эмулятора КП Иванову
+ Отправить Балуеву инфу
  Балуев Николай Николаевич, нач.Департамента автоматики и телемеханики ОАО РЖД
    valuevnn@center.rzd.ru
    baluevnn@mail.ru

+- выяснить у Идукова порядок ОТУ (OPGCOMMAND)
+ команды ТУ не попадают в список отображаемых команд ТУ
  
- ТР для Аверкиева
   + АДК СЦБ
   + АПК ДК
   + СТДС АПС
   + МПЦ Ebilock
   + РПЦ Диалог 
   + ЭЦ-ЕМ
   + МЗ-Ф
   - ЭЦ МПК 
+ летний ГИД
- необходимо описать в каком-то документе особенности кодирования ТУ/ТС для разных сисием:
  - МПЦ Ebilock/"W-TV
  - РПЦ Диалог
  - ДЦ МПК
  - ЭЦ МПК
  - Ломиконт
  - Старый КП
  - Новый КП

+- нужен диалог состояния перегонов 
+ сделать перекодировку сообщений СПОК, чтобы можно было подставлять сообщения
- ПРОБЛЕМЫ:
  - по уч.Краснодар-Кавказская имеем 2 станции Кавказская с одним ID 5200091
    необходимо привести в соответствие, для чего Кавказская-4 должна быть = 5200092 (как в Батайск-Кавказская)
  - анализ состояния каналов связи не очень корректен для КБШ, где используются резнрвные станции связи
  +- надо сделать настроечный файл
  - если тип КП2000, не показывать резерв красным, если мы на основном 
  +- непонятки с ошибками связи: на СКЖД опция Сбои связи ничего не дает
    может внес проблемы, закомментировав
  - если TsExpire - то надо показать станцию красным где-то или блеклым
  + мне не очень нравится необходимость обращаться напрямую к INFO, думаю, все методы надо перенести в Station

+- сделать Шахову контроль за СПОКами
+- отдельная графа для ОМУЛА 
+- опционально считать ОМУЛ отказом при условии, что везде новые модули УПРАВЛЕНИ
+- опционально фильровать станции по типу, например 
  - станции с КП
  - станции на ДУ
  - станции с ошибками ОМУЛ
  - станции с ошибками связи и т.д.

+- протестировать ПО Агаджанова
+ сделать фильтрацию одинаковых сообщений АСКПС
+- доработать проблему отмены маршрута
+ отображать адрес СПОКА в диалоке КП2000
+- проверить и напечатать документы
 
+- Разделить технологический и системный логи
+ Показать опции явно вместо контекстног меню - непонятно, в том числе режим станций с ошибками
+- Абдулино не включается
+ звуковой сигнал при проблемах
+ при выборе круга обновить статистику модуля управление
+ при выборе круга выводить все станции независимо от флага "без учета сбоев связи"

+ дать возможность исключать станции из списка
+- вести статистику каждого типа ошибок с момента запуска для всех станций, тогда можно будет отображать 
  отказы всех станции с момента запуска, а не выбора меню
- параметризовать типы ошибок для отбора станций с ошибками
- ошибки КП обобщпть и показывать
+ Сура, не показываю корректно неготовность резерва
- 
- ОТСУТСВУЮТ В ЕСР:
    - Липяги            (#1) Кряж-Октябрьск
    - Новокуйбышевская  (#1) Кряж-Октябрьск
    - Жигули            (#1) Кряж-Октябрьск
    - Томылово          (#1) Кряж-Октябрьск
    - Чапаевск          (#1) Кряж-Октябрьск
    - Мыльная           (#1) Кряж-Октябрьск
    - Обшаровка         (#1) Кряж-Октябрьск
    - Сызрань-2  
    - Сызрань-МР 
    - Сызрань-ПЮ не имеет кода в таблице ЕСР (636192)
    - Сызрань-ПП - СЫЗРАНЬ-ГОРОД-ПЕРЕВАЛКА
    - Мызрань-ПО - Сызрань-центр
    - Белорецк и Белорецк ДЦ конфликтуют
    
    - Ульян-2 (Инза-Ульяновск-Нурлат)
    - Ульяновск Центр (#1) (Инза-Ульяновск-Нурлат)
    - Димитровград2 (#1) (Инза-Ульяновск-Нурлат)
    
    - Салават2 (#1) Косяковка-Мурапталово
    - Мурапт.ДЦ (#1) Косяковка-Мурапталово
    
    - Пенза 2 (№1) Пенза-Кузнецк
    
    - Моршанск1 (#1) Ряжск-Пачелма
    
    - Жигулевск (#1) Сызрань-Средневолжская (конфликтует с Жигулевск.)
    - Старосемейкино (#1) Сызрань-Средневолжская
    - Сызрань (#1) Сызрань-Средневолжская
    
    - Сызрань  (#1) Сызрань-Цильна
    - Радуга   (#1) Сызрань-Цильна
    - Молвино сокр. (#1) Сызрань-Цильна    (конфликтует с Молвино)
    - Ульяновск Центр. (#1) Сызрань-Цильна (конфликтует с ДК)
    - Ульяновск 3 (#1) Сызрань-Цильна      (конфликтует с ДК)
    
    - Разъезд-626км (#1) Инза-Рузаевка-Новообразцовое
    - Воеводское (#1) Инза-Рузаевка-Новообразцовое
    - Качелай    (#1) Инза-Рузаевка-Новообразцовое
    - Чаис       (#1) Инза-Рузаевка-Новообразцовое
    - Ночка      (#1) Инза-Рузаевка-Новообразцовое
    - Свет       (#1) Инза-Рузаевка-Новообразцовое

    - Рябина 6359461 не идентифицируется в оьратном порядке (нет такого ЕСР в БД)

__Бугульма-Чишмы.JPG - уверен, что не опознана БД

+UppClient.cpp 	#include "Ws2ipdef.h"
stdafx.h
	#if _MSC_VER > 1200				// VS 6.0  - 1200, NET 2002 - 1300, NET 2003 - 1310, VS 2005 - 1400
	#pragma comment(linker,"/manifestdependency:\"type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' processorArchitecture='x86' publicKeyToken='6595b64144ccf1df' language='*'\"")
	#endif

+ подсчет числа объектов для адаптации в ArmTools
+ Встроить расшифровку транспарантов во всех уровнях так, чтобы старые модули работали безболезненно
- Перейти на КБШ на SQL систему регистрации сообщений
  - обследовать структуру таблиц sql БД BlackBox, обновить скриптами, если надо
  - подумать, протестировать
  - переделать инсталлятор
+ ВВЕЛ поле ObjectType в таблицу Stations - можно увязать обработку с типом ЭЦ
 Надо ввести доп. поля в таблицу ОТУ. 
    
- слетает станция связи на Окт-Кряж если подключен только резервный канал
+- ввести обработку мигающих состояний светофора (для АБТЦМ)
  например: Т5.МИГ. Если сигнал мигания=1, мигать его актуальным показанием

  учитывя дырки в DOptionsDataFromMonitor передать:
  +- наличие связи с БПДК/УПОК (норма)
  +- KBSH/СКЖД
  +- последний байт номера версии
  +- ip-адрес модуля управление (два последних октета, напр. 11.31)
  
- учитывя дырки в DStFromMonitor - надо подумать, что еще там можно передать.
  - сторону опроса из станции связи (ее надо сначала доставить в Управление)
  - наличие ЭЦ.ОШБ
  - устаревание ТС
+- обработать признаки невалидности СКСИ-МП
+- уметь сбрасывать информацию СКСИ-МП в диалоге

- Инсталлятор Кряж - Октябрьск

- НЕ АКТУАЛЬНО. Сервер сигналов ViewGidUral должен уметь работать на один участок с двух шлюзов (осн и рез)
- НЕ АКТУАЛЬНО.ЯКУШЕВ: Шлюз ГИД УРАЛ и сервер сигналов с альтернативными IP-адресами для подключения соответственно

+- подготовиться к стыку с Кравцом
  - проверить тултипы
  - встроить расширенный диалог
  - проверить передачу данных

+- Контроль квитанций и сброс УПОК при необходимости
+- ИЗМЕНИТЬ CheckTs - пусть периодически снабжает УПОК о состоянии подтверждения
+- выдача УПОК возможна ТОЛЬКО для станций с новым КП, с работающими основным и резервным блоками
  с работающими модулями ТС. Поэтому диалог должен включать индикатор КП норма
+ ПЕРЕДАЧА ПРЕДВАРИТ.ОТУ В ПАКЕТЕ ОТУ
+- перекрестный контроль корректности описания смежных ОТУ
+- (не актуально) перекрестный контроль корректности описания ОТУ в таблицах ТУ и ОТУ
+- ТС  АОТУ    - "авария тракта ОТУ, требуется сброс" - в диалоге и на виднокадре
+- ТУ  АОТУ.ОТ - "сброс АОТУ"
+- ОТУ (16 выход) - отмена предварительной команды
+ Активация диалога УПОК от транспарантов с выделением нужной ОТУ
+ если УПОКе передает участок=0 - не транслировать в КП
+- пожелание - сделать более "пользовательским" интерфейс. В заголовок окна можно вынести расширенный заговок 
  "УПОК - Устройство подтверждения ответственных команд", убрав эту строку из шапки таблицы.
   А сразу под ней дать название участка и номер (номер участка вывести следом за названием, убрав номер 
   из строки статуса, а название из таблицы например: Участок   МАХАЧКАЛА-САМУР (#7)
+- номер команды (с точки зрения пользователя он сбивает, может тоже дать его следом, кстати, если номер ОТУ=0 вообще не писать)
+- если таймер==00:00 - не отображать
+- сеанс - служебная информация, надо куда-то приткнуь незаметно, например в строку состояния
+- сообщение - Отмена ОТУ по команде АРМ ДНЦ - не всегда хорошо звучит
+- сообщение - Отмена ОТУ по тайм-ауту тоже не соотвествует действительности, когда послали подтверждение
+  Может написать что-нибудь типа "ГОТОВ"
+- сообщение "ОК ПРМ" затирает последнее сообщение
+- Чтобы подписи "Станция #" и "#" не сбивали с толку, можно сделат так:
  +- когда ни одна команда не активна сделатьих disabled (серыми), и разблокировать в соответствии с типом команды

+ Летний график
+ транспарант СУ
+ Койсуг - Каяла
+ Ввести опцию, блокирующую выдачу ОГ при переходе с СУ 
+ Проверить прием данных модулем Управление от шлюза СПД
+ Отправить в ЦШ скриншоты
+ АРМ ШН. Загрузка с резервного сервера, если нет соединения или данных от основного
+ Рябина входные не горят красным
+ опционировать подключение/отключение тултипов в мониторе
+ дать число активных маршрутов в списке маршрутов,
+ Послать исполняемые файлы Якушеву  
+- опционально запретить перекрытие входных/выходных сигналов при установленном автодействии
  - либо закрыть контекстное меню
  - либо запросить подтверждение отмены АД
  - либо послать отмену автоматически
+- для транспарантов, вообще не отображаемых по условиям состояния ТС запретить контекстное меню  
- Shape - контроль валидности выражений для переездов:
  - ТС открыт, закрыт и т.д.
  
- Табло Инза-Руз-Новообразцовое, Ст.Воеводское, ошибка транспаранта переезда
  П1-ДК.А|П1-ДК.А1|П1-ДК.А2
  

- Рузаевка - Кустаревка, в связях РЦ по Запищиково выпала РЦ 5/19П

- 
+- Встроил в станцию связи обработку полного пакета с коррекцией местонахождения блока СПОК, 
- Плохо анализирую связь за период 19 часов от 01.04.09
- Хочу видеть состояние модемов в течении заданного времени
- Махачкала-Самур - не стоит служба paService

- неактуально LogRasAnalizer - список станций - с чек-боксами и возможностью исключить станции
+ LOGRASANALIZER
  + при повторном просмотре отсутствия соединения на модме - не показываем
  + запоминать папку
+ проверить СТРЕЛКИ на батайском
+ в АРМ ШН список маршрутов нужен
+ в список маршрутов надо добаваить светофор, начало-конец, отмена, и т.д.
+ Берсону письмо о доставке на СКЖД с координатами Андрея Акопова
+ ArhViewer. 
  + читать БД, подставлять имена или дать справочную информацию
  + фильтрация по станциям, типам, длинам и т.д.
  + номер записи
+ автоматическое формирование Excel таблиц для ЮГПА
+ Толику, Запищиково, 14:50:16, некорректный пакет
+- проверить расчет CRC по Иванову
+ реализовать и опробовать функцию 32-разрядного CRC
+ Октябрьск - Кряж
  - конфигурацию ТУ/ТС
  - ЕСР
+ летний график с субботы на воскресенье сделать в четверг
+ ТР СДТС-АПС
+ расчет надежности
+ программа обеспечения безопасности ПОБ
+ стыковка с Кравцом: клиент на С# коннектится к серверу, принимает данные,
  ретранслирует их в сеть малтикастом, модуль Управление принимает данные, обрабатывает,
  отображает. Кстати, данные может принимать и АРМ ШН и Табло.
  Параллельно можно думать как архивировать данные для возможности анализа
  в АРМ ШН. Лучше всего в БД. Иметь новую таблицу в БД
  Проблема - обратное сопоставление номера сигнала имени сигнала и номеру РЦ
  (Надо иметь функцию определения)
+- уточнить, надо ли править esr для АСКПС - не надо
+ при чтении выражений из БД убирать пробелы (SvtfError и т.п.)
  либо убирать или игнорировать их при вычислении выражений
+ заказ оборудования 2008г.
+ пассивное состоние КПП не отображается в АРМ ШН
+ время в КТСМ различается на 1 час
+ Пенза-Кривозеровка место: Саловка Ч в 09.23.36
+ Звук в GidUralAlarm2
+ АРМ ШН. Попытка обновить БД участка с именем КП.Никашновка-Алнаши приводит к лаже:
  пытаемся скачивать БД в имя файла "КП".
  Судя по всему проблемы в синтаксическом анализе имени

+ писать архив черного ящика станций связи в разные файлы ras1, ras2
- Колонка. На основном комплекте висит контроль набора маршрута
+ выяснить формирование индикаторов состояния СПОК станции связи 
  выяснил: версия 2004.12.01 - только по отклику,
           версия 2005.02.02 - по биту состояния в пакете данных. Это зависит от версии
+ Руз-Кр.узел. Рузаевка-КП
  Секция 51-53, станция м общий вид. 14:09:59. Ложная свободность


- Может сделать запрос полного опроса отдельной командой.
  На уровне станции связи перехватить и обработать

- Звуковой Аларм в АРМ ШН
- Шлюз СПД, удлиняющий станцию связи (не очень актуально)
- 5-51-86 - Гончарова Надежда
-----------------------------------------------------------------------------------------------------------
      "&N",
        {  1200, 2 },           USRobotics Courier V.Everything  "AT&F1S0=0S7=90E1V1&L1", 
        {  2400, 3 },
        {  4800, 4 },
        {  9600, 6 },
        { 14400, 8 },
        { 19200, 10},
        { 28800, 14},
        { 33600, 14},
-----------------------------------------------------------------------------------------------------------
+ добаваил станцию 28 Сызрань-МР в таблицу Stations и дописал добавление в скрипт updatesql
- Выяснить у Бесюлькина куда совать
  - Новообразцовое: ДК Сызрань-узел, ДК Кузнецк-Новообразцовое, Инза-Рузаевка-Новообразцовое, 
  - Сызрань-2     : ДК Сызрань-узел  (ДК Кузнецк-Новообразцовое не надо)
  - Сызрань-Маневровый район
-----------------------------------------------------------------------------------------------------------  
  
+ Чишмы, нет в таблице сигналов > 1024 сигналов
+ Шакша-Кропачево. БД в Самаре более старая, чем у нас. 
+ У Лены Сорокиной замечания:
+- Перегон Миньяр - Бьянка стрелки правильно на табло
+- по Бьянке мигает УКСПС
+- по Симской горит НСАУТ
+- по Миньяру периодически мигает САУТ
+- Миньяр - Бьянка перегонные точки

+ Тойма, Набережные Челны - некорректное положение стрелок, встречные маршруты



+ в RemoteExplorer показывать имена кругов вместе с IP адресами
+ показать в АРМ ШН IP-адрес подключения, особенно актуально для удаленки
Диалоги со шрифтом FixedSys
-CG_IDD_MYDIALOGBAR 
+IDD_DIALOG_TRAINS_NO
-IDD_DIALOG_ASK_DNC 
+IDD_DIALOG_IR 
-IDD_DIALOG_GETTIME 
-IDD_DIAL_AUTOPASS 
+IDD_DIALOG_ERROR_LOCK_MSG 
-IDD_DIALOG_LOCK 
-IDD_DIALOG_UKSPS_IGNORE


+ Яковлеву: по разъезду-1:
  - в БД поле GidUralKPID = 6356302
  - в GidUralPlugin.ini:  KRUG=1 2
  - переслать мою kbsh_esr

- вставить в инсталлятор запись задания SaveTs от именованного администратора, например "dc-ug-3\Админ"

-?  Если нет соединения с сервером, состояние круга надо показать красным, а не желтым

-----------------------------------------------------------------------------------
  Алексею
- Круглое-Поле прописать ID = 6484002  
+ Пенза-Рузаевка-Кр.узел по результатам сравнения (отправил Данилу 24.03.2009)
  - добавил имена ТС 1906-1910
  - сделал 51-53СП виртуальной: IJ=24/27, ExtData:  != 51-53СП.А|51-53СП.Б
  - поменял координаты П2.ИН и П2.А
  - добавил ТС АПКДК в строках 18,19 начиная с РФ1
  - проставил номера РЦ (8441-8445) и светофоров (8424-8426)
  - дорисовал на схеме Рузаевки и табло транспаранты:
    - РОН на Пензу 
    - состояние фидеров Ф1, Ф2
    - состояние фидеров РФ1, РФ2
    - день/ночь
  - привел в соответствие таблицу Transparants (отображение пассивных элементов)
-----------------------------------------------------------------------------------  
  
+ ОТУ: ГРС  (групповая искусственная разделка перегона)
  Ждем контроль ГРС
  Посылаем ТУ: НР  - размыкание перегона, 
               НРУУ- размыкание участков удаления
               ЧР  - размыкание перегона, 
               ЧРУУ- размыкание участков удаления
               
+ МОНИТОРИНГ
  - ViewGidUral 
    + отображение подключ.клиентов
    + опция задания порта мониторинга
    + задание сжатия
  - GidUralAlarm2
    + кнопка протокол
    + протокол посуточный ?
    + кнопка "развернуть круги с ошибками"
    + попробовать ЕСР с заданными станциями
    +- объединить ЕСР СКЖД и иметь утилиту
    
+- Переезд по Пишля - Рузаевка (см. письмо Данила)
  Был в файлах АПК ДК, однако, в адаптации отсутствует
  
- Подобрать документы по поставкам для Кати Кондратьевой (5 комплектов Windows нехватает, решить с Катей)
+ Армавир

- Кизляр-Олейниково - не работает вторая часть задания

- PolynomTest 
  - доработать кодирование
  - декодирование на приемной стороне

- RemoteExplorer: 
  - копировать папки
  - выделять группой файлы для копирования (ctrl+a)
  - писать размер файла при копировании
  - при перезаписи файлов при групповом копировании предлагать сделать это для остальных файлов
  
- сделать простейший скриптовый сценарий для инсталляторов (или просто cmd-файл!):
  - создание и расшаривание папок
  - открытие портов в фаерволе
  - назначение сетевых адресов
  - и т.д.
 
- GidUralPlugin - более корректно обрабатывать ситуации с непонятками по потокам ТС из-за разной 
  длины в сборках КБШ и СКЖД
- ViewGidUral   - о программе
- недопустимо использовать апострофы в именах ТУ/ТС.
  Заменить на уч. Рузаевка - Кр.узел 
- Аверкиев. ТР
+- ДБ
- Деление полиномов
- Кирпильский звездит по ГИД УРАЛ. 
  Сверить обработку в шлюзе и УПравлении, проверить обработку некорректных значений. 
  Взять архивы. Настроить ТС на прием от шлюза
- позвонмть Берсону
- ГЛЮК ГИД-УРАЛ на Тимаш-Крымская
- связь Кашпир, Рябина
- бардак с просмотром протокола большого размера, надо ограничить или использовать 
  другие редакторы

- Пенза - Рузаевка + Рузаевка - Красный узел                        - 1600 * 1200
- Бензино - Черник.узел один, потом + Дема Иглино                   - 1650 * 1050
- Никашновка - Алнаши один, потом + Письмянка - Никашновка          - 1650 * 1050

- для однозначной реализации функций контроля стоянки перед входным светофором можно
  ввести в таблицу ТС графу "Имя предвходной РЦ". По умолчанию оно будет программно 
  присваиваться как ЧП1/НП1 в зависимости от направления светофора, а при необходимости 
  может быть задано явно
- доработать ShapeChanger, чтобы он мого обрабатывать имена с пробелами, точками и т.д.

Проставить вручную коды ЕСР или подкорректировать имена станций
  648400 - Круглое Поле
  Набережные-Челны.shp


- Бьянка, Тахтиманово, горят УКСП на табло, не горят на схемах станции, на схеме станции ош. выражения
- Иметь возможность отключать ЕСР станций по сообщениям АСКПС - бывает нужно

- Кравец
- MergeNSI. не работает удаление связей при удалении станции из БД
- сделать визуализацию данных АБТЦМ
- при приеме полного пакета данных обнулять буфер ТС
- cs_logger с возможностью приема и архивирования бинарного потока 
- встроить в пакет от модуля Управление номер работающей версии
- судя по всему есть глюк в механизме отображения при сранении состояния на прошлом цикле и сейчас
  если имеем несколько представлений одного объекта  
- Причесать документацию и дистрибутив 
- Рашиду от Пружины
- Протопопов и Инфотекс - ТР по перегонам
+- не подключается ко резерву последний GidUralPlugin (Метлин)
+ ECP ArmTools

- разобраться и протестировать ограничение 48 в StationNet
- расписать общий случай блока ТС. 
  - модули ТС с миганием
  - данные РПЦ/МПЦ без мигания
  - диагностика РПЦ
  - данные перегонов без мигания
  -- Максимум без мигания - 384 байта = 3072 сигнала
  -- Максим. число ТС реальных модулей = 1536, Еще столько же может быть всего остального
  -- Максим. число при 2 РПЦ - 2048 + 128 бит диагностики
- сделать страничное отображение ТС в шлюзе ГИД УРАЛ
- при приеме ТС есть ограничение на число модулей 48. Это несправедливо, может быть 72 с учетом 
  РПЦ Диалог и ДК (АПКДК, АБТЦМ)
- якушев рекламации
- чтобы выдержать алгоритм отмены маршрута можно добавить ТУ
- погонять Рузаевка-Красный узел
- в протоколе Разъезда-1 нет направления задания марщрута (писать в RouteSrc)
- когда в станции связи одна станция (Разъезд-1) и задан опрос
  и по основному и по резервному каналоам, а отвечает станция только по резервному,
  то станция связи наполовину думает, что связи нет (модемы горят красным, 
  направление опроса не запоминается)

- Проблема: по Сызрани-2 имеем 2*64 = 128 групп по 16 бит = 256 байт (1024 сигнала ТС)
  Плюс 74 байта сигналов АБТЦМ. Не влезаю в отображение. 
  - Отображать 4 (а не 3) страницы по 24 строки по 4 байта: 24 * 4 * 4 = 384 байта
  - Проверить, не вылезли ли уши
- В станции связи иметь возможность изменить опциями времена ожидания соединения для 
  активного и пассивного модемов, например: WAITINGORGANS=30,20 (возможно нужны для PCM)
- ТР Величковка контакт с Аверкиевым по вопросам
- Талалаев
- Шохры
- при импорте министерского графика стоянки поезда при переходе через 0 часов дают сбои
- уметь задавать логи для ком-портов отдельно
- ShapeChanger имеет проблемы с именами папок с точкой 
- Оптимизация класса DStation условной трансляцией только вносит бардак (#ifdef RAS)
  - вынужден дублировать переменные для ГИД УРАЛА. Плохо
- УПРАВЛЕНИЕ валится при ошибочном номере кнопок и при пустых полях номеров объектов в табл. ТУ
- КЛУБ, Кравец, Шухина, Уманский
- КП-2000. Белореченская. Уметь конфигурировать прямой стык и работать без инициализации модемов
- позвонить в Бомбардье по поводу Черниковки  
- таблицы по Величковке
- КТСМ
- связаться еще раз с Романовским Дмитрием Вадимовичем, Инфотекс
- блокирующий сокет-клиент сделать юникодовским
- сделать блокирующий сокет-сервер сразу юникодовским
- блокирующий TCP-сервер для Win CE, пусть упрощенный
- автономный модуль загрузки обновлений
- веб.службы; в целом понятно, 
  - разобраться с установкой и тем, как передать соисполнителю средства для создания клиентов на разных языках
  - попробовать сделать прокси вручную и включить в проект не автоматизированно
  - разобраться, что нужно оставить для службы
  - где хранится 
  - сделать службу для удаленного доступа к БД: обновление, выборка, удаление
- транспаранты КПП, ЧКЖ/НКЖ не прорисовываются в пассивном состоянии в модуле ТАБЛО
- Встроить обновление баз данных для TABLOEX как для Управления

- SHAPE
  - у Юрченко в shp файле всякая хрень, видимо "бъется" память, 
  - по просьбе Юрченко ввести поиск объектов, незадействованных на схеме станции
  + сделать постоянный контроль буфера на корректность примитивов во время работы и при сохранении
  + делать перед записью бэкап копии всех файлов в папке LOG
- Рустаму: + на станциях АУ установка маршрута от светофоров для отладки
           - SapRel, при разрыве станции проблемы с описанием связей, 
             имеющих стрелки разных станций. стрелки 13,15 
- Обдумать, как можно "встроить" программную эмуляцию БПДК, и как выдавать ОТУ.
  видимо, надо оставить диалог ОТУ, чтобы можно было автоматически сбрасывать ПО 
  в исх.состояние. Режимы: 
    - запрос связи
    - опрос ОМУЛ
    - передача ТУ
    -- надо отображать состояние связи с ОМУЛом на схеме станции или в состоянии КП

- CBlockTcpClient 
  - не реализована распаковка при приеме :-(
  - нет контроля переполнения буфера. Спасает только его размер = 64К

- Инструкция по инсталляции ПО на редакции у Арзуманяна
- сделать обратную инверсию сигналов при чтении потока СПД в Шлюзе ГИД УРАЛ
- падает ШЛЮЗ ГИД-УРАЛ по Сосыке
- разобраться с тем, как работаю с резервной  станцией связи из управления при передаче ТУ (?)
  использую ли алресацию для определения куда передать ?
- Якушев. не забивать протокол сообщениями об установке связи с молчащими станциями
  в то же время, дать знать, что нет соединения. Может дать сообщение: принудит. разрыв.
- вставить маршруты, потерянные при импорте по Инзе, и один по-моему по Налейке
- опционировать проверку ESR и вывод сообщений в АРМ ШН
- протестировать прием упакованных данных от шлюза СПД- централизованный мониторинг каналов связи 
- Станция связи. Отбрасывать ТУ, если нет опроса ТС более 3 сек во избежание буферирования - возвращать 
    "отвергнуто", возможно со своей специф.квитанцией 
- нулевые значения номеров кнопок и BMP в Stations допустимы - работают умолчания, там же контроль
- отобразить основные ошибки КП непосредственно в станции связи
- улучшить станцию связи АРХИВ - показывать реальные станции
- предупреждать о совпадающих номерах кнопок и рисунков в станции связи и Управлении

- что и как передать Клепачу. Лучше всего - как в ГИД УРАЛ и мониторинг, но принимая данные от шлюза
- просмотр файлов ГИД-УРАЛ 
- ViewGidUral - проблема, что не можем с одного IP-адреса передать несколько участков,
  Варианты: - несколько портов
            - идентифицировать участок путем анализа файла (можно использовать поле cReserv заголовка)
- опционировать MONITOR.EXE с блокировкой управления
- нулевые значения номеров кнопок и BMP в Stations допустимы - работают умолчания, там же контроль
- обрабатывать в Модуле Управление, АРМ ШН и ТАБЛО более 4-х станций связи
- предупреждать о совпадающих номерах кнопок и рисунков в станции связи и Управлении
- уметь работать с > 4 станциями связи в мониторе: Инза-Рузаевка + Инза - Новообразцовое
- можно сделать репликатор нескольких станций связи
- супераларм блокирует приложение при появлении во время открытого контекстного меню. Сделать немодальным
- ДЦ МПК. пригласит.сигнал с удерживанием кнопки

- вставить ведение лога для RemoteLoader (вложенная папака, логи по числам)
- MergeNsi. таблица ESR не объединяется
- MergeNsi: скрытые диалоги при пакетной обработке 
- MergeNsi: таблица СПОК не импортируется ?
- вычислять максим.значения счетчиков после удаления данных по всем станциям
- сделать сервисные функции по обслуживанию БД: сжатие, восстановление и т.п

- КП. сравнение ТС основного и резервного блока и индикация несовпадений
- Для мониторинга КП2007 можно сделать функцию вывода сообщений в СОМ-порт и 
  регистрировать их на ноутбуке или стационарном ПК
- В КП-2007 встроить проверку указателей
- Подумать как лучше отключать структурно части системы (и какие )
- АРМ ШН. Подвисает при поиске изменений ТС если нет изменений и ограничен набор фвйлов
- если ТС в АРМ ШН устарели, надо показывать время отставания, иначе плохо

- ТаблоЕх c выборкой нужных станций 
- класс архиватор
- найти Рустаму длины путей
- документация

- список запрещенных адресов в Шлюзе СПД DISABLEIP=...
- ответ на тренажер Тищенко и Требину
- совместить парки в одном кадре, как у Башилова
- решить что-то с обзорным кадром
- ViewGidUral в режиме слежения
- встроить сжатие 
  - в прием блокирующего клиента, 
  - в передачу блокирующего клиента, 
  - в сервер по приему, 
  + в клиента по передаче

- все пакеры, которые у меня сейчас работают на стеке надо проверить: опасно
- технология ввода ОТУ по ДЦ МПК
+- обработка квитанций ТУ от КП в блоке диагностики в станции связи и модуле Управление
- rssMPK блокировка ТУ опцией (защита паролем как в станции связи)
- править документы для КБШ в одном месте: у Аракелова в шаблоне
- дать возможность в ТаблоEX задавать не все, а выборочные станции
- BLACKBOX. Дать возможность выполнять удаление старых записей до указанной даты

- RSSMPK arhextractor
- в rssMPK может быть нужно слушать и 14351 порт, чтобы слышать ТУ
- Идуков. ТУ
- По Суре если неправильно указаны составные маршруты - улетаем
- была идея Shape-у что-то писать в свойства файла, например, версию - облом- реализация ТУ для РПЦ ДИАЛОГ на уровне КП и АРМ ДНЦ
- нарисовать УКСПС 
- связаться с ИДУКОВЫМ: 
  - ОТУ и доп.ТУ в ДЦ МПК детально с Идуковым каждый тип команд
  + прверка ТУ
  - проработать выдачу всех ТУ
  - пригласит.сигнал с удерживанием кнопки
  + Диалог ответственных команд ДЦ МПК - не нужен
  - описать диагностические сигналы ДЦ МПК и видеть их хотя бы на АРМ ШН
  - обрабатывать состояние КП в основном наборе ТС: активность/авария комплектов и т.д.
    описаны в impulses.kp.xml
- докуметировать чистые вирт.ТУ  
- если не сконфигурированы БМ в КП (пустой список), виснем. почему ?
?- если МПЦ/РПЦ не работает - обнулять массивы принудительно
- протестировать глюк отложенного использования буфера при передаче Send на сокете 
- запоминать в реестре время переключения осн/рез. Следить можно в модуле УПРАВЛЕНИЯ 
  но как передать это клиентам в сеть ?
- вариант оптимизации изображения: иметь две страницы: мигающую и немигающую, 
  и если ничего не меняется в ТС - не рисовать, а только выталкивать их на экран
- можно вставить инкремент версии в файл схем. Можно было бы менять расширенные свойства файла, куда писать
  доп.информацию.
- претензии у лиспетчеров по участкам Кряж-Кротовка, Сызрань-Узел

+- КП. ОТМЕНЕНО (всегда включаем): бит D14 объема памяти отведен под состояние сторожевого таймера 
+- КП. ОТМЕНЕНО                    Новая директива ТУ: включить сторожевой таймер. Код: 000E
      
- Диме Бесюлькину:
  - диски отправить так, как скажет Катя
  - ПК можно отправлять на СпБ
  - 
+ выводить линейный адрес КП в диалоге КП
+ База Сызрань-Средневолжская у меня от 2009.03.13 - взять за основу
  - проставил номера РЦ сигналам блокировки и ложной занятости
  - добавил имена в таблицу ТС Т1.ЖСК, Т2.ЖСК,и т.д.
  - добавил виртуальный сигналы Т1.ЖСК, Т2.ЖСК,и т.д.
+ ложная занятость РЦ
+ блокировка РЦ
+ Зеркальный разворот схем в SHAPE
+ MdmAgent. 28.02.2009. Проблема на Рузаевка-Кустаревка. Подключены два клиента с разных участков
  Включены 2 канала, но используется только один. 
  В какой-то момент происходило зависание опроса станций.
  Если на входе будет сыпать мусор постоянно, я могу не выйти из цикла приема данных. 
  Это так ?   Если это так, надо писать это в протокол и как-то индицировать
+ Богословская: маршрут приема от Ч на 3П. Последняя команда должна быть не Н3К а Ч3К
+ МЕТЛИНУ: 
  - Модуль УПРАВЛЕНИЕ с возможностью сдвига схем
  - Саранск-2 влево на 5мм на табло
  - обновленные схемы
+ можно ли раскрывать отдельные станции на нижнем, а не верхнем экране ? - сделать смещение для схем
+ Кизляр-Олейниково
  при просмотре архива если стоим на табло крутимся до посинения а при нажатии на СТОП падаем

+ имена каналов ТУ по Симской и Ералу поменялись
+- Кравец ответить
+- при расшифровке ТУ попытаться делать что-то разумное (давать коды двух команд, например)
+ Симская: не прописаны НАЧАЛО КОНЕЦ в таблице маршрутов
+ Симская, Миньяр - ГРУосн, ГРУрез - несоответствие в таблице ТУ и на схеме
+ ЕРАЛ, Рашиду
+ ответить Кондратьевой
+ переслать Диме письмо про диски, связаться
+ Идуков на контроль
+ Shape 1650 * 1050


+ Якушев: расширить поле для имени сервера и порта в Шлюзе ГИД УРАЛ
+ Якушев: Блокировать запуск более 1-й копии оболочки Shell запуска ЩЛЮЗОВ ГИД УРАЛ
+- АСКПС. Станции с 0 кодом ЕСР передаются всем АРМ ДНЦ. Лучше пытаться искать ЕСР по имени
+ Метлину Руководстуво АРМ ШН
+ откорректировать АСКПС, поменять на серверах
- файлы СПОКОв отдал Рашиду. Подготовить, прожечь, включая Разъезд-1
  ------------------------------------------------------------------------------------------------------
  + Никашновка-Алнаши       
  + Рузаевка-Красный узел
  + Махачкала-Самур
  +- Кизляр-Олейниково                                   - Улан-Холл не доработан
  - Сызрань-Средневолжская, Разъезд-1                   - сделать гипотетический набор с АГАДЖАНОВЫМ
  ------------------------------------------------------------------------------------------------------
  +- Белореченская-Туапсе (Комсомольская, Куринский)
  +- Тимашевская-9км (Кирпильский)
  +- Овечка-Минводы (Подкумок, Богословская)
  +- Батайск-Кавказская
  +-Прохладная-Беслан
  ------------------------------------------------------------------------------------------------------
- УГИ стандарт реализовать
  +- закрытое состояние входных светоыоров
  - блокировка светофора бирюзовым цветом фона светофора и надписи
  - неисправное состояние светофора красным цветом фона надписи
  - автодействие светофора синим цветом основания светофора
  - занятость и замыкание РЦ окантовкой красной РЦ цветом маршрута
  - маневровый маршрут - красный, установка - белый
  - стрелка по прямому напрвлению - цвет надписи зеленый
  - стрелка на ответвлении - цвет надписи желтый
  - стрелка закрыта для движения - красная окантовка надписи
  - стрелка нп макете - желтая окантовка стрелки
- документацию в соответствии с УГИ переделать, доработать.

 


---------------------------------------------------------------------------------
Порядок замены КП-1999 на КП-200 на ст.Овечка, Нагутская, Богословская
  1.Изменить IsKp2000  (внести исключение для нужных станций)
  2.Установить все переключатели номера участка в 1
  3.Исправить du.dat и бд с учетом того, что модули ТУ имеют 64 выхода, а не 32
---------------------------------------------------------------------------------

+ Не работает ТаблоЕхDirect на Сызрань-Громово, Сызрань-Узел
+ Документация АРМ ШН
+ встроить желтый огонь для светофора: описать сигнал как .ЖСК
+ встроить обработку 16 бита в байтах 14-14 дл передачи признака опроса с обводногого канала
+- Идуков. Имя канала другое
+ Идуков. Титульный лист ТР
+- Яковлев. Клиент radmin осталось 8 дней
+ список диалога сообщений супераларма налезает на кнопку
+- не обрабатывать ЕСР=0 или подставлять код по имени станции
+- вывести ЕСР в сообщение
+- растяжка диалога
- если можно, сформировать ошибку ЭЦ
+ About
+ строка сообщений диалога
+- сделать логику запуска: 
  +- восстанавливать ID последнего сообщения
  +- запрашивать в список сообщения за последние сутки
  +- не передавать старые сообщения в сеть и в лог, только в список
+ очищать старые сообщения в списке

+ Моисеенко Александр Петрович
+ письмо по СПОКам с утра
+ позвонить Кисельгофу насчет ТР
+ позвонить Бесюлькину
+ распечатать Смагина
+ не отображается признак инверсии в РПЦ/АБТЦМ Кирпильский,Величковка - DEBUG
- 
- проект связи по Сызрани
+ классы с Потаповым

+ обработка данных АБТЦМ на разъезде глючит
+ валится с -stations tabloex (Метлин)

+ реализовать обработку квитанций РПЦ
+- некорректно обрабатываются сигналы АПК ДК в GidUralPlugin (метлин, рекламации)
+- изменение алгоритма задания маршрутов по Разъезду1: пауза должна составлять 4 сек.
+- исключение станций в таблоех
+- Марюкина заказ
+ ОТПРАВИТЬ БОРИСУ ИВАНОВУ ИНФОРМАЦИЮ ПО ОТУ
+ проверить, могу ли я изменить число групп в первой БМ  
+- разъезд-1 сквозные маршруты
+ таблоех - встроить обработку опции ENABLEDSTATIONS или -STATIONS
+- Рузаевка - Кустаревка Кравцу
+- Адаптация Ерал, Бианка, Симская (Шакша - Кропачево)
+ Установка/отмена маршрутов на ст.Тойма Никашновка - Алнаши
+- Набережные Челны Ч.О, Н.О 
+- Нумерация можклей ТУ - АБСОЛЮТНАЯ !!! (см. Наб.Челны)

 
+ УМЕТЬ управлять станциями связи типа [EXT] - (делать подстановку при управлении) !!!
  Для этого изменять номер станции в посылке ТУ и отправлять только на станции-соседки
- Никашновка - Алнаши

+- ПРОБЛЕМА: уметь делать подстановку номера станции при обращении к доп.ст.связи
  (брать со ст.связи только нужную станцию, изменяя на лету ее номер)
  ВАРИАНТ: тип станции EXT. Если имеем данные от этого типа, делать подстановку
+ Кирпильский,совместная работа с модулями ТС
  + Config=EBILOCK МТС=1(1)
+ в шлюзе ГИД УРАЛ если имеем станцию связи BRIDGE, выводить в список виртуальные ТС
+ Отправить Диме Рябину и обновленный ШЛЮЗ
+ Повторитель маневрового сигнала
+- Нагутская
+ Сделать проверку версии .NET в АРМ ШН более интеллектуальным: 1.1 или 2.0
+ Как будет обрабатываться МТС по Кирпильскому ? 
+ Обновление в АРМ ШН защитить более сильно - вылетает при обновлении
  Сделать обновления с откатом
+ Станция связи: учитывая странную ситуацию на Тимашевская-9км, 
  если разрыв соединения, то закрыть/открыть порт
+ УПРАВЛЕНИЕ
    - Клеммы ТС
+ Крылову реализовать доп.ТУ вместе с ОТУ. Описать в таблице ОТУ
  RPC.CPP
    МОДУЛЬ = 0, ВЫХОД = 3   - ОТУ ПРЕДВАРИТ
    МОДУЛЬ = 0, ВЫХОД = 4	- ОТУ ИСПОЛНИТ
  - ОТЛАДИТЬ НА КП ОТУ1, ОТУ2
 
- ИМПОРТ Разъезд-1:  
  + проблема с регистром в именах ТУ/ТС
  - проблема Shapera с точками в имени файла
  - проблема с таблицей клеммы ТС. Лучше всего вставить и забыть. В то же время не выводить 
    диалог, а зарегистрировать в логе
  
+ адаптация Рузаевка-Красный узел, Улан-Холл, Разъезд 8км

- РАШИДУ: 
  - по Рябине светофоры на перегоне горят зеленым, а блок-участки заняты. Может убрать светофоры ?
  + 2 варианта отображения тяги: текстом или через новый транспарант
  +- Рашиду по Кара-Джалке дать на табло замыкание маршрута, так как оно висит, а диспетчеру не видно

+- ViewGidUral - возможность принимать с одного IP-адреса несколько участков (на разные порты)

+ ТЗ Шухиной
+- АРМ ШН глюк обновления
+ ViewGidUral - глюк отображения и 10-чная таблица
- определиться со связью на 
  - Сызрань-2
  - Сызрань, маневровый район
  + Разъезд-1
  - Новообразцовое

- работа с 8, в крайнем случае с 6 станциями связи
  - Управление
  - ГИД УРАЛ
  - АРМ ШН
  - ТАБЛО
  
+ Описание технологии передачи в ГИД-УРАЛ
+ Кряж-Кротовка, Кротовка-Абдулино, Кротовка белая
+ РАШИДУ:передать ТР КП-2007 в части ТУ РПЦ Диалог
+ Задание числа строк для МПЦ Ебилок в настройках, при этом лишние ТС обрезаются
  может надо передаетвать максимальное значение из заданного и полученного ?

+ ТР Кирпильский Величковка Рашиду

+ ТР Радиоавионика
+ ТР Сименс

---------------------------------------------------------------------------------------------------
- РАШИДУ: Кошехабль. В БД, которую скачал из Ростова стрелка 8/10 прописана как 8
Белореченская-Туапсе
1. стрелки на табло1 и табло2 на перегонах, смежных с Куринским, я взял с соседних станций, так как соотв. 
   сигналы на Куринском не меняются. Потом разберемся, почему. 
Кроме того, сделал правки для отображения поезда на слепом перегоне Куринский - Навагинская:
2. на Навагинской и Куриснком я поменял номера слепых перегонов на серых стрелках
3. убрал связь ЧП2[Rehbycrbq]  - НП2[Навагинская]  в редакторе связей, так как там слепой перегон
4. в Таблице перегонов Peregon исправил поле занятости перегона BuzyOdd для перегона Куринский-Навагинская 
   ЧКП[Куринский] на НКП[Навгинская]

Куринский
1. Не отображается контроль наличия фидеров на схеме станции.
   ПРИЧИНА: на схеме станции в транспарантах Ф1 и Ф2 для нормального состояния фидера  (зеленый цвет) 
   прописан 0, должна быть 1  
2. Все время горит несоответствие зависимостей.
   ПРИЧИНА: в БД сигнал ЭЦ.ОШБ на ст.Куринский посажен на место 4/4/3, на готором сидит сигнал НПТ 
   (видмо, место сигнала ЭЦ.ОШБ наши проектировщики не поменяли при изменениях станции, так как это 
   не проектный, а "виртуальный" сигнал). Его надо посадить на свободное место, например 5/6/1

- контроля свободности перегона Гиагинская - Гончарка в нечетном направлении.
  Там в схемах в двух случаях из трех описка.
1. Схема станции Гиагинская, транспарант Стрелка нечетного направления Гиагинская - Гончарка 
    Красный цвет    ЧКП.З&ОН
    Зеленый цвет    ЧКП.С&ОН        - все правильно
2. Схема станции Гончарка, нечетное направление с горловины Гиагинской:  
    Красный цвет    ЧКП.З&ОН
    Зеленый цвет    ЧКП.З&ОН     - не правильно, должно быть как и в п.1.  ЧКП.С&ОН
3.  Схема Табло1, нечетное направление перегона Гиагинская - Гончарка  ст. Гончарка
     Красный цвет    ЧКП.З&ОН 
    Зеленый цвет    ЧКП.З&ОН     - не правильно, должно быть как и в п.1.  ЧКП.С&ОН
---------------------------------------------------------------------------------------------------
+ индикатор состояния КП для РПЦ Диалог горит красным, если нет связи с РПЦ, это не так
+ индикатор сравнения ТС для Диалога и Ебилока нужно гасить, так как он ничего не значит

+ РПЦ
  + проблема времени 1.5 сек
  + проблема задержек между ТУ+ ответ Шатковскому: какой протокол ? почему RS422 ? ошибка в схеме
+ анализ релейной увязки с АБТЦМ
+ для АПК ДК проверить передачу диагностики и описание

+- АБТЦМ. Реализация. Уметь конфигурировать отправителей с учетом емкости сигналов
  Или как вариант можно заложиться на максимум
+- анализатор логов станции связи (C# + графика состояния связи по портам)
+- описание нормального функционирования тестовой конфигурации оборудования.
+ обдумать, какой механизм лучше использовать для отображения события КТСМ    
+ откорректировать имена столбцов диалога Список ТУ для РПЦ Диалог 
+ РПЦ Диалог, при задании маршрута переводить стрелки "вручную" несмотря на наличие маршрутной команды
+ тест АБТЦМ у Толика
+ АРМ ШН на примере Минв-Прохл, 22:38 30.07.2008 - отработать "гашение" станции в архиве сравнивая время архива 
  и время опроса станции
+ оболочку для ГИД УРАЛ Якушева
+ ТУ РПЦ. Реализация в КП и АРМ ДНЦ
+ ТУ РПЦ ДИАЛОГ на уровне КП и на уровне АРМ ДНЦ
+ адаптация Сызрань-I маневровый район
+ Рашиду: письмо Бесюлькина
+- масштабирование шрифтов для печати Графика
+ отправить списки ОТУ для прошивки
+ адаптация Кинель (Кряж-Кротовка)
+ просмотреть, почему может не срабатывать обновление даты в remoteloader
+ прожиг УЦ
- Зубков Виктор Александрович, Кавказская, просит АРМ ШН для ДС
-? Для участков с Невой выключать при запуске признак маневровых маршрутов
+ Корректировка Величковки
+ Merge Nsi должна давать статистику: число стрелок АУ/ДУ и т.д.
+ Поставить Трафик Инспектор
+- OCS NN - кабели, мебель, модемы
+- модем 9LC-MDM-USR-Courier_56K / modem USR Courier EXT 56K rtl
  http://www.techhome.ru/catalog/computer/81101473_3.htm
+ Оплатить счета OCS NN
+ Адаптация Новообразцовое
+ тестирование АБТЦ-М в составе SUBSYSTEMSmoct
+ Официальное письмо на Радиоавионику
+ обоснование использования новых КП на Кирп, Величковке
+ ГОЛОВАНОВОЙ СПИСОК НЕДОСТАЧИ
+ АБТЦМ 
+- РПЦ
+ Адаптация Кирпильский, Величковка
+ Кравец
+ Адаптация Белореченской
Рашиду, Леше:
 - Таблица ТУ, поле TYP - задействовано под вирт.светофор, должен стоять 0. Мне считать 255 нулем
 - Запищиково, маршрут 134 = 130 + 143(ОШИБКА) 
+ Шахову: из Ставрополя отправили на ремонт в Минводы: модем, МТУ(1), МТС(2)
+ адаптация Белореченской
+ ПЗ Метод.указаний
+ КП. При переходе на резерв и контролировать на основном работоспособность резервного
---------------------------------------------------------------------------------------------------------
- Подготовить все перепрошивки СПОК (- Куринский, ОТУ)
- разобраться со всеми проблемами ТС на новых участках
+- Рашиду/Рустаму: Табло, Ночка: Ч2,Ч2М, Ч4, Ч4М не привязаны
---------------------------------------------------------------------------------------------------------
+- увеличить число станций на станции связи до 30 
+ ОТЛАДИТЬ КП-2007 в станции связи
+ на станции связи показывать состояние резервного блока; 
+ на станции связи блокировать переход на неготовый резерв
?- Тихонький. Проблемы 16:30
- выслать корректировки Башилову по Широкополью
- рекламации тренажера Батайского техникума
+ поправить копирайт: 1996-2008
?- АРМ ШН вылетает, если указан IP адрес с 5 лексемами: 10.64.88.12.13
+ оставить масштабирование в АРМ ШН при UserAccount = ON  - ОТ ДАНИЛА
+ дать возможность брать настройки в реестре

- Инструкции о порядке пользования для Сызрань-Громово, Инза - Рузаевка
- обработка ошибок при копировании
- Падает TabloExDirect
+- предложения от Якушева В.Н.
  +- обновление с сохранением предыд. версии и откатом.
  +- если случился казус во время апгрейда - можем потерять БД. Надо уметь откатывать при запуске приложения
  - автообновление
  - перезапуск приложения
    1. Считаем эталоном папку c:\ArmDnc\Update\
                              c:\ArmDnc\Update\Arm.mdb
                              c:\ArmDnc\Update\Pictures\*.shp
       При обновлении создаем папку Update\2008.02.08_10.55\
    2. При откате читаем имена всех папок в папке Update и создаем меню отката
                      создаем папку Uninstall\2008.02.08_10.55\
      ReadRegText(lpszRegKey,_T("REMOTESERVER"	),	sRemoteServer,		lpszIniFilePtr);
      ReadRegText(lpszRegKey,_T("REMOTELOADER"	),	sRemoteLoader,		lpszIniFilePtr);
      ReadRegText(lpszRegKey,_T("REMOTEUPDATEPATH"),sRemoteUpdatePath,lpszIniFilePtr);

- приказы Войникову
- откатать гибрид с Башиловым с подслушкой RETIME
- опробовать интеграцию участка Сызраньский узел с Башиловским.
  + лажа: есть имя ТС = 11п'7


http://www.mozilla-europe.org/ru
http://www.phpbb.com
http://www.phpbbguru.net

+ Управление: если ебилок, ВСА выбор стрелок не показывать
+ уметь объединять ESR как в составе импорта, так и отдельной возможностью
+- синхронизировать проекты Станции связи на 12 и 26 станций
+ Самонина АПК ДК - послать, обработать
+ GidUralPlugin опционировать с чего начать отсчет: с 0 или 1
+- Шлюз ГИД-УРАЛ. Пожелания Якушева: тултипы, более прозрачные по смыслу иконки, вывод ТС  в текстовом виде
+ Исключение станций из списка передачи
+- Шлюз ГИД-УРАЛ: прием данных от шлюза СПД
+ Шлюз ГИД-УРАЛ: состояние ТС и 
+ Инза-Рузаевка, Рузаевка-Кустаревка: модули ТУ фактические, а не относительные
+ на Сызрань-Громово заменить версию Управление (баг с ТУ перевода стрелки, внесен в процессе правок 
  сообщений о взрезе, выявленных на Рябине при отключенном механизме повторного перевода)
+ уметь работать с разными параметрами отрисовки SHAPE 
+ Сорокина. Пост1606 уч.Чишмы-Шакша. Вписать явно ЕСР ?
+ ПО для ноутбука АРМ ШН Ставрополя
+ Асланову Артему Владимировичу таблицы проверок А-Б
+ выслать Сорокиной обновления по ДЦ МПК
+ сравнение форм - сравнение на полную идентичность с выводом не совпадающих 
  номеров строк. Можно сравнивать непосредственно в SHAPE c визуальным выделением несовпадающих элементов
+- АБТЦМ
+ обработать бит совпадения ТС
    Байт 0, бит 5.	«1» - несовпадение ТС основного и резервного блоков
+ Управление: проверить, как задаются команды, выдаваемые при переходе на ДУ
+- Проанализировать АПК ДК, прогнать архивы, убедиться, что все попадает на места
  Судя по всему, надо сдвинуть описание на 1
+ меню КП в АРМ ШН не убирать, если есть хоть одна станция КП, а только блокировать
+ Прищепе пошла фигня с новым модулем. Проверить
+ Просьба Данила дать возможность работать с разными ключами реестра ArmTools (на одном ПК > 1 АРМ ШН)
+- GidUralPlugin - исключение станций
+ GidUralPlugin - архивировать то, что передаем
+ GidUralPlugin - восстановлена связь есть, а потеряна нет
+ Убедиться, что станция связи при подключении клиента сбрасывает номера сеансов
+ Обдумать все варианты для мониторинга и архивирования
+- Вариант службы доработать
+ поднять вариант мониторинга, вести логи
+ индикатор коннекта с сервером
+ 9км-Транзит, Армавир-II - коды ЕСР

+ ответить Самониной
+ Шлюз ГИД-УРАЛ - опционировать блэкбокс 
+ уметь фильтровать отчеты RssRetimeTester
+ связать Соловьева и Рашида (вопросы по РПЦ)
+ Дубов Владимр Насонович, сметы по Никулино
+ адаптация Сызрань-2 (Мишин), Разъезд-1 (Миронова)
+ адаптация Кисловодск
+ Новосызранский парк = парк приема
+ Сызрань Центр = парк отправления
+ добавить в нашу БД поле SetunConfig
+ объединить БД
+ контакт с БОМБАРДЬЕ возобновить
+- увеличить число страниц в диалоге ТС для РПЦ/МПЦ
+ Если нам надо передавать блоки информации от систем АДКСЦБ, АПКДК, они добавляются 
  к ТС дополнительными виртуальными модулями по 32 сигнала. 
  Информация описывается в БД как обычно, но можно указть, что это вирт.модули
+ сделать утилиту содержательного сравнения схем SHP. Можно встроить в редактор схем
  важно сверить состав и атрибуты примитивов независимо от сортировки и форматирования пробелов
+ Куринский, ехать в понедельник Агаджанову и Юрченко
+- Базовое программное обеспечение БМ-04, БТ-04, БД-03
+- Протопопов Олег (Викторович).  - позвонить насчет СПД ЛП и КТСМ
+ В модуле Управление для КП-2007 как минимум, а лучше для всех передаем ТУ в ту станцию связи,
  откуда были получены последние ТС
  - Ретайм  - надо передавать в обе
  - ДЦ МПК  - надо передавать в обе
  - КП-2007 - надо передавать в одну - ту от которой получили ТС.
    УБЕДИТЬСЯ: 
      две станции связи на 1 участок, получаем пакеты от обеих, часть на одни станции, часть на другие
+ Можно было бы вести лог изменений. Это очень хорошее дело для нашего сопровождения - 
      	писать лог редактирования файлов в папку Pictures - автодокументирование. Можно писать в файл 
	c именем станции и расширением log, например Овечка.log. Так проще отслеживать все изменения
 
+ Проверить, а что будет с командами ТУ для ДЦ МПК, отправленными на 2 станции связи ?
  в RSS вроде есть механизм связи по сети О/Р
+- искать уши в одновременной работе двух станций связи - нет ли проблем с очередями ТУ - если не 
  можем передать ТУ
  - убрать из очереди!
+ АРМ ШН. Во время прокрутки архива не писать в лог сообщение о несоответствии потока
+ Прокатать Рябину по ТУ/ТС
+ Если блок не подключен к линии - игнорировать прием по СОМ-портам (принять и сбросить в корзину)
    по всем подсистемам: СПОК, МПЦ/РПЦ, АПКДК, АДКСЦБ. Вплоть до того, что закрывать COM порт, если он
    открыт и открывать при подключении к линии. 
+ Рашиду 
  - сделать замечания по ДЦ МПК и структуру INI файлов
  - сделать замечания и список вопросов по ДИАЛОГУ
  - забрать БД по Рябине с корректировками
+ опция IGNORETRAINSNO=ON не прошла
+ отредактировать в дистрибутиве mdmagent.ini
+ инсталлятор ствнции связи: не переименовывает mdmagent_o.ini
+ не устанавливает paArchiveSvc
+ АРМ ШН. Не пишет имя колодки
+ Рашиду: Рустаму. Сызрань объединенный. Arm.mdb Transparants. Обновить (РФ1, РФ2, и т.д. - признак пассива)
+ Рашиду: Пассивное состояние лучше не завязывать на сигналы ТС. Назначение - показать, что этот контроль есть на станции
+- Инза-Новообразцовое.Протестировать не вылезут ли проблемы при выдаче ответственных команд. 
+- Инза-Новообразцовое.Продумать, не вылезут ли уши при объединении участков на РСС ДЦ МПК и ДЦ ЮГ
+ объединить БД Инзы и оттестировать. 
  + проблемы с пересечением старых и новых адресов.
  + скрипт для корректировки таблицы krurs
  +- проверить прием и обработку сигналов ТС
  +- проверить ТУ и ОТУ
  +- проверить работу с разными станциями связи
  +- проверить работу rssMPK
+ продумать что будет на шлюзах. Видимо надо так: 
  	Инза - Рузаевка 	- станция связи 1
	Инза - Новообразцовое	- станция связи 2
+ АРМ ШН по Батайск-Кавказская засирает БД сообщениями "Переход на резервное управление"
+ Добавить графу "откуда получены последние ТС по станции
+ GidUralPlugin. Проблема: при объединении баз данных закладываюсь на номер порта
  если собираю с разных сашин, но с одного порта, тиею проблемы.
+ 27-113СП логичнее обозвать 27-111СП. Определяющая стрелка: 111
  27-113/111СП = 1 , если 111-
+ интегрировать изменения в дистрибутиве по КТСМ
+ изменения в настройках MdmAgent.ini по Сызрань - Громово
+ расширить отображение состояния до 4-х станций связи
+ ШлюзГидУрал с отключением блокировки запуска
+ Проверить ШлюзГидУрал с двумя станциями связи
+- Дистрибутив объединенного участка Инза-Рузаевка-Новообразцовое
+ установить АРМ ДНЦ Сызрань-Громово
+ установить СПОК
+ сверить MergeNsi с ноутбуком

+ Рашиду все контакты, замечания, планы и порядок объединения БД переслать по email
+ Рашиду: Что за поле Numder_ в таблице маршрутов Инза-Новообразцовое
+ звонил Сидоров Михаил, с 4-го надо ехать с ними в поле
+- подготовить 4 станции связи и 2 шлюза
+- подготовить дистрибутив
+ убрать сервер времени в настройках
+ Если ебилок отключен, пакеты ТУ периодически шарашат с КП - это метки времени
+ КП2007 Толику. 
  + см. файлы по дате: 
  + форматирование ТУ и контроль времени в пакете ТС.
  + Common.cpp.     WORD MakeOutgoingDiag(PBYTE pBuf)
  + DataPacker.cpp  bool DataPacker::MakeTs(); 
                    int PackTs(BYTE * ptrSrcOld, BYTE * ptrSrcNew, BYTE * ptrDst, int Len)
  + MakeSysInfo вызывается из разных потоков, в том числе из основного для передачи сисинфо соседу. 
    Убедиться в безопасности
  + MpcPolling::GetTs() 
    - не надо сваливать из функции, если прошло более 5 сек. Можно вообще не проверять
    - надо бы где-то сообщить об игнорировании ТС по времени 15сек.  
+ ГИД УРАЛ слетает на объединенной БД
+ скопировать имитатор ебилока
+- почему на Инзе при занятии блок участка гаснет путь, не имеющий замыкания ?
  подозрение: для КБШ ввел такую реализацию логики маршрутов, чтобы маршрут рассыпался 
+- если имеем ошибку модулей ТС/ТУ - изменить цвет индикатора ТС/КП
+ почему срабатывает контроль стрелок при переводе на ebilocke
+ Соломатиной Подкумок
+- привести в порядок дистрибутив КП
+ откорректировать файлы для АПК ДК
+ Голованова сволочь. Узнать у Димы Бесюлькина 
+ Рустаму: исправить Пишлю и адреса второй станции связи по Рузаевке

+ EBILOCK
+ эмулятор ЕБИЛОКА
+ подготовить прожиг для СПОКА
+ ответить Григорьеву
+ созвониться с Идуковым
+ посмотреть, почему мигает состояние АТУ и МВВ1
+ сторожевой таймер универсальный. Опробовать
+ скорость на станции связи
+ проект 9 км.
+ отправить Юле исполняемые модули

+ не отрабатывается отсутствие связи КП - РПЦ ДИАЛОГ
+- учитывая безобразную связь, надо что-то делать со сжатием информации в канале.
+- обработка обновленной информации в модуле УПРАВЛЕНИЕ
+- передача обновлений:
+ обработка поля Question
+ уметь читать архивы станции связи
+ можно ли оптимизировать затраты, связанные с большим числом имен ТС
+ при запуске станции связи писать инфо о версии и основные настройки, как в УПРАВЛЕНИИ
+ Позвонить Головановой

+ сформировать АПК ДК
+ ОТУ по Рябине отправить во ВНИИАС
+ диалог ТС: + страница/i/j
             + для виртуальных не писать клд, кнт

+ связаться с Идуковым
+ связаться с Диалогом
+ Связаться с Бомбардье
+ уметь обрабатывать пакетные sql запросы
  INSERT INTO TS_Name (NameTs, Cod, Comment) VALUES ('', 0, '')
  INSERT INTO [MailBox] ([IdFrom],[IdTo],[Msg]) VALUES ('%s','%s','%s')",pFrom,pTo,pMsg
+ вывод таблицы ТС для объединенной БД
+ уметь удалять станцию и все что с ней связано из БД назначения
+ на контроль поставка дисководов
+- выслать Кудрявцеву модуль проверки протокола
+- АПК ДК
+ 9 км
+ сохранить один нормальный бэкап SHP файлов
+ один раз на сессию удалить лог шэйпера
+ насильно вставлять в таблицы TS_Names, TU_Names пустые мена ТС, иначе не работают запросы
+- На Овечке КП-2000 вместо КП-1999

- Зависимости поля NoSt
  - Stations		NoSt
  - Krugs: 		NoStUp, NoStDown, Stations, StationsMonitor, ExpandSt
  - Peregon		NoStUp, NoStDown, 
  - TS			NoSt
  - TU			NoSt
  - RouteSrc		NoSt
  - TuSpok		NoSt

  - ListOfTables
  - Personal		NoSt
  - RecivingRC		NoSt
  - RenameTrains	NoSt
  - ReportDistance	FirstStation, LastStation
  
+ в Мониторе нет групп АПК ДК по Ералу (был косяк)
+ группы АРК ДК начинаются с 201
+ ДЦ МПК. Если нет инфо по станции - не обновлять время обновления ТС
  CGidUralPluginDlg::ChekExpireTS()
+ сделать шлюз ГИД УРАЛ для ст.связи РЕТАЙМ
+ сделать чтение ЕСР из отдельной БД опционально
+ сделать сжатие GidUralPlugin опциональным 

+ взять все по РПЦ Диалог
+- адаптация Бензино-Черниковский узел, 
+ адаптация   Пенза-Узел

- Рашиду
  - ТУ Ерал, НДМ.О  NoSvtf=464, а надо 463
  
+ РУСТАМУ: 
  - Сызрань парки, Stations, Поля: Addr, Рис, Кнопка  взять от меня
  - Инза-Новообразцовое, Stations, Поле Ras для табло и Рузаевки = 0

+ бронь
+ билеты туда
+ билеты оттуда

- посмотреть, какой механизм контроля соединений реализован в службе архивирования
  там если нет данных - удаляем клиента. Нужно ли это делать здесь ? Не факт. 
  Проверить отключение клиентов
  
+ сделать службу paGidUralSvr
  + приведение путей к полным, или запоминать тек.каталог
  + не вижу лога - он в Windows
  
+ Блокирующий сервер TCP
- игнорировать в ГИД-УРАЛ станции с нулевым номером
- подключаться GidUralPligin к шлюзу
- Чишмы - Шакша. MDP
- добаваить TS с кодом 0 в rssMPK и утилите работы с БД

- Толику. 
  - Описание утилит: TstRs, Edit
  - на вычитку и правку описание КП

- лог в АРМ ШН (в папку LOG)
+ Шлюз ГИД УРАЛ должен удалять файл при старте
+ rssMPK
+ вторая страница ТС в rssMPK
+- АРМ ШН. Меню "Распечатать таблицы ТС" некорректное
+- Отправить подписанные ОТУ Базюку почтой
+- Рустаму: прописать все ЕСР
+ воткнуть в поток от Управления ЕСР станции
  - читать ЕСР станций в потоке и уметь просматривать их
  - сообщать о проблемах - несовпадении ЕСР
  + сделать совместимость со старой версией. Переделать в соответствии с ткущим кодированием Rsrv

+ опционально переключать УПРАВЛЕНИЕ в режим совмещения светофоров при просмотре ТАБЛО  mSvtfCompact, DStation::sShpTablo, DStation::nShpTablo
+ ответить Свете
+ читать NoStOrg в ADO версии
+ ACCESS2000
+ Чишмы - Шакша. Release, 
+ считывать 2 БД ы ГИД-УРАЛ
+ в RSS_MPK используется наше имя станции, а не из поля синонима ДЦ МПК
+ подтвердить в СБ ТРАНС корректность таблиц СПОК
+- транспарант Ф и КПП в пассивном состоянии

+ подготовить дистрибутивы и документацию
+ отправить СПОК Мартынову
+ отправить ТС Федорчуку
+ вроде бы блокируются команды кправления резервом для ДЦ МПК в режиме РУ
+- ИОПП для КП-2007 с ОТУ
+ отправить Бесюлькину документацию
+ ДЦ МПК, АРМ ДНЦ и RSS. Дать опционально отправку ТУ либо блоками, либо по одной
+ ДЦ МПК RSS работает на отдельной машине, переделать инсталлятор
+ Документацию по участкам ДЦ МПК Бесюлькину
+ Бушкову Олегу Борисовичу выслать ПО Батайск-Кавказская - у них нет Сосыки
+ проверить архивирование, сделать отдельно архивирование ТУ
+- КП-2007; если на станции выполняется тест, надо дать предупреждение
+ при чтении ESR в GidUralPlugin Дема 2 пробел мешает идентификации станции

+ выйти на связь с Сураевым
+ выйти на связь с Григорьевым АПК ДК
+ отправить во ВНИИАС задание на программирование УЦ для новых участков
+ документацию по СТО для СКЖД
+ контакт с АПК ДК
+ объединить станции ПО базы 

+ инсталляторы и документацию по всем отчетным кругам
+ для Рузаевки ГИД и таблицы для ГИД-УРАЛ
+- инсталлятор для ПО кругов ДЦ МПК и дистрибутив с учетом rssMPK и т.д.

+ подготовить шаблон инструкции о порядке пользования
+ IP адреса кругов, IP адреса СПД, 
+ тест UDP для CE
+ генерация паролей в инсталлятор  
+ инсталлятор с защитой паролем. Пароль можно генерить из названия участка
+- резервирование MdmAgent - связь между основной и резервной более сложно - 
  там определяет дело та, которая имеет канал. 
  Обе передают и принимают UDP  7101 - передача основной прием резервной
                                7102 - передача резервной прием основной
  Передача датаграммы выполняется ТОЛЬКО при успешном приеме
  Если видим, что у соседа работает, а у нас нет - не передаем в АРМ ДНЦ ошибки
+ инсталлятор должен переименовывать файлы rssMPK_o.ini, mdmagent_o.ini,mdmagent1_o.ini, mdmagent2_o.ini
                                           rssMPK_r.ini, mdmagent_r.ini,mdmagent1_r.ini, mdmagent2_r.ini
  
+ проверить, не заблокирована ли отправка и обработка уведомлений от модуля Управление 
  в станцию связи о смене активной станции. 
  Да, игнорируем в CMonitorView::NotifyRasAboutActSt() и CMdmDlg::OnReceived
  Приоритетный опрос все таки не стоит исключать,
  хотя как при этом быть сос станциями, которых нет в опросе (например при управлении с табло табло)
  ИДЕЯ: делать актуальной ту станцию, на которую была отправлена последняя команда ТУ
+ у Ерша взять ьаблицы ТУ/ТС п Сызрани
+ индикатор ТС сделать зеленым для КП-2007, а не прозрачным как для ретайм
+ АПК ДК, Ebilock, РПЦ

------------------------------------------------- ДЦ МПК --------------------------------------------------------
- пройтись по всем ТУ и посмотреть, есть ли нюансы
- пройтись по всем ответственным ТУ
- реализовать ОТУ

- НЕ АКТУАЛЬНО (рекурсии, как таковой, нет) можно просчитывать глубину вложенности выражений для
  - контроля бесконечной рекурсии при ссылках друг на друга
  - вызова вычислителя столько раз, какова вложенность

+ левая кнопка как в ретайме
+ резервирование rssMPK: могу ли я иметь более одной rssMPK ? Теперь да
  можно попробовать не широковещательные а адресные датаграммы
+- докуиентировать новые диалоги (КП, ТС), новые транспаранты и средства отображения
+ возврат в блоке диагностики: 
  блоки по 3 байта:
     - 0,1 - ТУ
       2   - тип квитанции
          •	0x00 – команда ТУ принята;
          •	0x01 - команда ТУ принята к исполнению;
          •	0x02 – команда ТУ отвергнута. 
          •	0x03 – команда ТУ исполнена. 

+ зимний график  
+- перегон Назаровская - Дондуковская, четные поезда, время на перегоне сделать = 0
+- уметь передавать от АРМ ДНЦ в станцию связи несколько команд ТУ в одном блоке
+- сделать упаковку команд ТУ в протокол ДЦ МПК на уровне станции связи
+- выяснить как даются команды установки/отмены маршрутов в ДЦ МПК
+- либо тултип для диалога ТС, либо выбор как в КП
+- Сделать НСИ ДЦ МПК для установки взаимного соответствия
+- При выдаче ТУ ДЦ МПК писать в протокол номер группы и номер импульса
+ ПРИЗНАК ОТВЕТСТВЕННЫХ КОМАНД, ВЫВОДИТЬ ТОЛЬКО С КЛЮЧЕМ И ТОЛЬКО ИЗ СПЕЦ ДИАЛОГА
+ индицировать при просмотре ТС номер группы/импульса
+ GidUralPlugin с учетом КП-2007 и ДЦ МПК, 
		а лучше всего сделать универсальный механизм. Там же подумать об ушах вывода списка ТС
-----------------------------------------------------------------------------------------------------------------
- деинсталлятор иметь
- сделать автоопределение размеров страницы и масштабирование в ArmTools
- похоже, что при определении размеров схемы используется X1 вместо X2
- инсталлятор с подменой локальных IP адресов на адреса СПД

+ rssMPK показывать в какую группу выдали конкретную ТУ
+ RssMPK. Иконка Ошибка связи перекрывается иконкой нет связи. Значит надо запоминать состояние ошибки и иметь
  приоритет перед отсутствием связи
+ хорошо бы иметь признак того, что основной переключен на резерв по времени или совсем
+ Толику:  заменить слово "байпас" на "отключение"
+ диалог КП не показывать в МОНИТОРЕ для ДЦ МПК
+ Инза-Новообразцовое - 3 стойки на 4 участка. На одном участке должно быть либо две rssMPK,
  либо одна rssMPK должна работать на два участка.
  Для этого должно быть:
   - Вариант1: ретрансляция в другой порт. Проблемы - передача ТУ. Плохо
   + Вариант2: на одной станции связи иметь несколько БД. Проблема - таблица имен - решил
     -  для каждой БД порт для коннекта или IP адреса клиента, чтобы отличить кому какую 
      станцию отсылать. Либо слать все, а отсеивать на уровне АРМ ДНЦ
     1+. Прием ТС осуществляется на одном порту со всех участков. Оставялем только свои станции
     2+. Отправляем по TCP/IP только тому кому надо (вычисляя по IP адресу клиента, например)  
     3+. При приеме ТС как и раньше проставляем для каждой станции направление опроса (прямой/обратный)
     4+. При получении ТУ от АРМ ДНЦ переправляем его в соответствии с направлением канала станции

+- Диалог ТУ для МПЦ и РПЦ
+ состояние КП-2007 с учетом расширенного блока диагностики
+ описать все доп. типы контролей (в памятке ДЦ МПК)
+ АРМ ШН. после ускоренного просмотра наступает ступор в отбражении картинки
+ синхронизацию времени в КП пореже и опционально

+ уточнить у Бесюлькина, сколько имеем мониторов под круги ДЦ МПК
+ расширение системной информации в КП-2007, например состояние ОМУЛа, состояние обмена 
  с другими подсистемами
+- диалог ТУ для итерфейсного модуля ДЦ МПК
  
+ ТРИГГЕРЫ: 
  +- описать использование
  + сброс командой ТУ
  + надо уметь взводить триггеры командами ТУ, например: 1=ТУ:Ч1.О
  + установку сброс как по ТУ, так и по ТС
  - нач. состояние
  - триггер с задержкой срабатывания
  - триггер с задержкой сбрасывания
+ rssMPK:  станции, не имеющие опроса, должны быть красными
+ IsPrgNoProblem - блокировка встречных маршрутов - описана на уровне ПО
  надо раскомментировать и для реальной работы
  уши: не все станции имеют правильное описание ЧН
+ поменять механизм приема и отправки ТУ в РСС ДЦ МПК. Принимаем на 1 порт, вычисляем IP
  запоминаем в справочнике станции, отправляем туда, откуда пришел ТС

- Рашиду: передать обновленные исполняемые файлы MonitorDbg.exe, Shape.exe
+- доделать Шлюз ГИД-УРАЛ, чтобы он мог работать с Ebilock
+- пути по КБШ ж.д. на схемах станций для Бесюлькина
+ Подготовить выставочное ПО
+ возможность явного определения условия мигания сигнала, например: АДН,КАДН
  + обновлен 
+ встроить сеть в MdmAgent и КП-2007. Это несложно
+- можно реализовать чистые вирт. команды в ДЦ МПК
---------------------------------------------------------------------------------
- Толику: 
  + МПЦ EBILOCK - передавать квитанции ТУ в поле диагностики : по 3 байта: код ТУ, квитанция: 0/1/2
  + РПЦ и МПЦ - если не подтянут - можно не связываться с МПЦ - состояние ожидания
  + зачем поток UINT ThreadMpcSend	(LPVOID pParam)  (он пустой)
  + как блокируется поток ThreadTU для РПЦ, МПЦ (иначе он будет "отбирать" ТУ)
    (не создавать поток, если число МТУ=0)
  + в опросе МПЦ нет блокировки списка ТУ при выборе ТУ: m_Tu = GetToDo();
  + запись ТС от МПЦ/РПЦ должна производится после последнего модуля ТС КП
---------------------------------------------------------------------------------  
+ поставить evc на сервер, может там будет быстрее

+ ТРЕНАЖЕР для КБШ
+- В КП2007 работа с IP адресами
+- встроить РПЦ 
+ отобразить все состояния объектов
+ расширить контекстное меню
+ для транспарантов, имеющих мигание, проверять второе и третье состояние
  НО: Рашиду включить синалы мигания в свойства текста
+ сделать серые транспаранты однотипными плоскими с одинаковым фоном. Иначе порнуха

+  Распечатать ТР и переписку  РПЦ Диалог (CRC, ОТУ)
+-  Распечатать протокол Ebilock
+-  Добыть таблицы ТУ/ТС, лучше от производителя
+-  Кодирование ТС, ТУ, ОТУ, лучше сделать одинаково  (ТС - номер ТС, ТУ - Номер ТУ), не факт, что можно
+-  Доработать типовое ПО  
+- Протестировать ПО КП со всеми нюансами

+- привязать текст к номеру РЦ, тогда все объекты (стрелка, светофор, РЦ) 
  могут менять цвет названия
+ Ответ Крылову
+ контекстное меню для светофоров
_____________________________________________________________________________________________ТС
__________________________________________________Стрелки
+ .ЗПР	Стрелка	  ДЦ МПК  - красная окантовка стрелки
  .УВК	Стрелка	  ДЦ МПК  - желтая окантовка стрелки
+ +.У	  Стрелка	  ДЦ МПК  - желтая окантовка и +/- в shape
+ +.У	  Стрелка	  ДЦ МПК  - желтая окантовка и +/- в shape
+ +.ВК	Стрелка	  Ebilock - желтая окантовка и +/- в shape
+ -.ВК	Стрелка	  Ebilock - желтая окантовка и +/- в shape 
+ .ВЗ	  Стрелка	  Ebilock   - красный цвет надписи, штриха плюсового положения 
                            и сообщение в подсистему логич.несоответствия
+ .ЗПР	Стрелка	  Ebilock   - красная окантовка стрелки
__________________________________________________РЦ  
+  .УРИ	 РЦ	      ДЦ МПК  - мигание как РИ
+  .СЕИР РЦ	      Ebilock - мигание как РИ
+  .РУУ	 РЦ	      Ebilock - мигание как РИ
+  .Б	   РЦ	      Ebilock - красная окантовка имени РЦ, привязанного к номеру 
__________________________________________________Светофоры
  .МРШ	Светофор	ДЦ МПК    - белая подложка надписи
  .Б	  Светофор	Ebilock   - красная окантовка надписи и белый крест на ячейке светофороа
  .ОМ	  Светофор	Ebilock   - желтая подложка надписи
  .АД	  Светофор	Ebilock   - зеленая окантовка надписи
  
_____________________________________________________________________________________________ТУ
__________________________________________________Стрелки
- реализовать блокировку ТУ пдля блокированных объектов
.ЗПР    Стрелка	  ДЦ МПК, Ebilock - блокировка стрелки    - добавлена в контекстное меню
.ОТПР   Стрелка	  ДЦ МПК, Ebilock - блокировка стрелки    - добавлена в контекстное меню
+.ВК    Стрелка	  ДЦ МПК, Ebilock - блокировка стрелки    - добавлена в контекстное меню
-.ВК    Стрелка	  ДЦ МПК, Ebilock - блокировка стрелки    - добавлена в контекстное меню
__________________________________________________РЦ  
__________________________________________________Светофоры
.ОМ	    Светофор	Ebilock	отмена маршрута             - задается в таблице маршрутов
.АВК	  Светофор	Ebilock	автодействие включить       - добавлена в контекстное меню
.АОТ	  Светофор	Ebilock	автодействие отключить      - добавлена в контекстное меню
.О	    Светофор	Ebilock	повторное открытие светофора- используются в существующем контекстном меню
.З	    Светофор	Ebilock	перекрытие светофора        - используются в существующем контекстном меню 
 

+ Обнаружение ошибок в конфигурировании: макс.числло шкафов = 4
+- неполучение данных от РПЦ - как и от МПЦ - ошибка ТС - не обновлять время приема ТС
  можно обнулять
+- обдумать в АРМ ДНЦ механизм оценки отсутсвия сигналов ТС от РПЦ/МПЦ 
+ ПРОБЛЕМА: а кать быть, если два шкафа РПЦ ?  Надо формировать виртуальные ТС
+ отобразить объем свободной памяти в КП

+ учесть адрес БМ, от которой получаем данные в старших разрядах
+ ввести ТС признаки работоспособности БМ:  БМ1-1, БМ1-2, БМ2-1, БМ2-2
+ Диалог ТС, дать расшифровку номера сигнала для МПЦ и номера БМ, группы, импульса для РПЦ
+- ТУ Ебилока
+ дать ответ Крылову
+ Павловой факс

+ можно диагностику БМ дописывать в конец блока ТС или в блок ДИАГ
+- убрать в окончат.версии все MessageBox, так как для необслуживаемого режима с 
  удаленной перезагрузкой они недопустимы

+ 5-03-92 - Прокопенко Юля. Сообщить о времени прибытия
+ 5-05-19, 8 919 8770548 - Артур (выставка в ДК железнодорожников)
+ Дать возможность мигать транспаранту по выражению, например
  АДН,АДН.XX
+ встроить команду синхронизации времени, выдаваемую автоматически в КП
+- индикация мигания у Толика и проверка выполнения функции мигания
+- чтобы иметь возиожность поиска отказов КП, можно сформировать больше вирт.сигналов 
  - СОСЕД.БМ.ОШБ, ОМУЛ.ОШБ
  - EBILOCK.ОШБ ДИАЛОГ.ОШБ АДКСЦБ.ОШБ АПКДК.ОШБ СЕТЬ.ОШБ

+ установить ПО у Алексея и Ивана
+- реализовать идею Рашида с описанием виртуальных команд с помощью нулевых IJ и полей пролог, эпилог, полюс
    реализована с помощью ненулевых IJ
+ довести до ума прием информации по соседнему блоку, проверить
  если информации по блоку нет более 30 сек - показываем серым
+ показать индикатором наличие межблочной связи, один из вариантов - разница времен опроса
  более 5 сек
+ гасить блок при отсутствии информации по блоку более заданного времени

+- индикатор подтяжки(готовности) соседнего блока отображать в своем квадрате
  
+- сеть UDP Client 
  ИСПОЛЬЗОВАНИЕ:
    1.межблочная связь
      основной  использует порт 7701 на прием, 7702 на передачу
      резервный использует порт 7702 на прием, 7701 на передачу
      передаем периодически состояние КП в виде блока системной информации
      в этом случае можем передавать этот блок наверх ( можно не каждый раз, 
      а один раз в 10 циклов, к примеру) тогда будем иметь состояние КП 
      
    2.связь с отладочным ПК
      прием на 7703, передача на 7704
      принмаем данные, обрабатываем как с ком-порта, готовим ответ, выдаем
      формат полностью соответствует оригинальному
+ связаться с Мишей Прищепой (5-89-62) и подготовить изменения для Батайск-Кавказская
  272 87 15(12)

+ ввести команду Тест МТУ/МТС в станцию связи
+ проверку соответствия описания ТС/ТУ описанию конфигурации модулей в ConfihKP2007 
+ отобразить расширенное состояние ошибок МВВ: АТУ/Выход/Ключ
+ отобразить состояние самотестирования
+ отобразить состояние подтяжки
+ почему время опроса меняется и по основному и по резервному блокам ?
+ протоколирование директив, выданных в КП в диалоге КП модуля Управление
+ Встроить в инсталлятор проверку версии Win2000 и установку MDAC_TYP.EXE на Win2000

+ В теории можно было бы ввести ТС с памятью. Идея: иметь два выражения: одно для установки,
   другое для сброса. Очень хорошая идея.

+- ввести сигналы ТС.ОШБ
+ добавить директивы 0a, 0b - отключить пистание себя и соседа
+ отправить Башилову все пути
+ потестировать MONITOR под 2000 в части переноса записей из BlackBox в SQL Server

+ сформировать ТС АТУ.ОШБ,  МВВ.ОШБ
+ длины путей от Юрченко. Проверить, провести изменения отправить

+ если вызывать вычисление косвенных сигналов два раза подряд без их обнуления,
  можно таким образом обеспечить использование косвенных сигналов в выражениях одного уровня.
  Если вызывать вычисления N раз, можно обеспечить уровень вложенности N-1

+ если модуль не прописан,  а по нему идет ошибка - дать желтый
+ если нет второго МВВ, дать по его серым цветом
+ встроить в ArmTools
+ Рустаму: новое поле в табл.Stations   
+ сопровождение от Башилова провести изменения 

+- вопрос: можно ли передать в АРМ ШН состояние отказов модулей ТУ/ТС ?
 
+- расширить блок системной информации (см. файл Блок системной информации.doc)
   - обработать и отобразить доп.сист.информацию
+- доделать Шлюз ГИД-УРАЛ, чтобы он мог работать с ДЦ МПК
  - таблица ТС при значении группы больше чем 128
  + отображение приема по станции в списке GidUralPlugin
  + отображение передачи по станции в списке GidUralPlugin
+- доделать Щлюз ГИД-УРАЛ, чтобы он мог работать с КП-2007  
  - проверить детально вывод ТС в том числе для МВВ2
  

+ похоже в GidUralPlugin не работает IsTsInverse для ДЦ МПК
+ провести изменения по КБШ длин путей в дистрибутиве
+- обнаружил проблему в функциях DRoute::FindAssocRoute(WORD Svtf), DRoute::IsAllStrlOk()
  если маршрут составной, то он удовлетворяет условию IsAllStrlOk(), так как стрелки 
  не прописаны. Надо делать итеративный проход

+ Дуристика. Нельзя однозначно идентифицировать ТУ по группе и импульсу. Нужен еще канал
  УБЕДИТЬСЯ, ЧТО НЕТ УШЕЙ В УПРАВЛЕНИИ
+- вопрос у Алексея по Налейке и проблема канала ТД = База + 4
+ rssMPK Похоже сейчас номер канала ТУ отображается не из пакета, а из БД. Это плохо!
+ Monitor убрать Полюс и добавить признак ОТУ и номер канала, можно выделить цветом
+- Monitor при выдаче команды в лог писать не только группу и импульс, но и номер канала

+ rssMPK при выборе станции в диалоге ТУ менять ее в списке
+ rssMPK выделить цветом ответственные команды и команды нестандартной группы
+ каталог для лога вычислять относительно текущего, а не ArmDnc
+ Сызрань дистрибутив
+ 9 км дистрибутив

- Дема-Иглино у того же ДНЦ, что и Шакша - Кропачево
	ПОДУМАТЬ: объединить эти круги в одном круге.
	Есть проблемы. Одна из них - посмотреть как УПРАВЛЕНИЕ будет работать с разными типами станций 
	в одной общей очереди ТУ, сможет ли работать
	Для этого надо уметь интегрировать (сливать) базы с корректировкой атрибутов и SHP схем станций
	Алгоритм:
		Надо 
		1.  сделать соответствие старых и новых номеров станций, перегонов, РЦ, стрелок, сигналов, имен.
		2.  импортировать недостающие TsNames
		3.  импортировать недостающие TuNames
		4.  импортировать Stations
		5.  импортировать Peregons
		6.  импортировать TS c перенумерацией станций, кодов имен, номеров стрелок, светофоров, РЦ
		7.  импортировать TU с перенумерацией станций, кодов имен, номеров стрелок, светофоров, РЦ
		8.  импортировать TsExpress с перенумерацией 
		-   перенумеровать RcRelations
		9.  перенумеровать номера объектов в схемах станций
		10. все писать в лог
		11. уметь делать эту операцию итерационно, чтобы при обновлении оригинала можно было 
			обновлять сателлит. Для этого можно подгружать имеющиеся справочники соответствия,
			и если соответствие есть - использовать старый, если нет - генерить новый номер
		Такая вещь была бы ОЧЕНЬ полезна при изменении границ участков, организации подслушек и т.д.
		Один участок может иметь более одного доп.подключения, поэтому каждая интеграция - 
		отдельный проект. Например. МинВоды-Прохладная имеет две интеграции: МинВоды из Овечки 
		и Прохладную из Беслана

- синхронизировать БД
	- Дема-Косяковка 		у Данила каша
	- Инза-Ульяновск-Нурлат		у меня стрый
	- Косяковка - Мурапталово	у меня на 1 день новее
	- Кряж - Кротовка		у меня 3 станции новее
- проставить длины путей
- перезаписать Сызрань-Молвино-Цильна
- Пенза №74, Ульяновск №75

+- имеет место несовпадение толкования пакета данных, блин
  - сигнатура
  - длина - включает илм нет заголовок. Разобраться
  +- в результате теряем 4 байта при передаче в ГИД УРАЛ

+ Участки ДЦ МПК Рашиду на тестирование
+ ДИАЛОГ ТУ для КП-2007
+ ДИАЛОГ ТУ для ДЦ МПК 

+ Для ДЦ МПК принимаем решение помещать команды в общую очередь, 
  а при извлечении выбирать из очереди все команды для одной станции и упаковывать их в один блок
- текут ресурсы (id) BridgeTcp
- Число страниц ТС (TS_PAGES) > 1 завязано на KBSH, лучше разделить
- МНОГОПОРТОВУЮ КАРТУ
+ КП2007 - диалог на весь экран


- встроить UDP или малтикаст в КП
- КП-2004. Расписать диагностику СПОКа, СОМ-портов
- КП-2007 
  + имя клеммы
		
+- Сосыка не передается в ГИД УРАЛ. Почему ?
+ тултипы с учетом масштаба

- остаются доп. переименованные ярлыки при установке индексированных АРМ ДНЦ (Крот-Абд)
+ не ставится один АРМ ДНЦ поверх другого
- индексированная служба видимо не должна синхронизироваться по малтикаст
- документация на ПО КП
- Инза-Новообразцовое

+ Куринский сверить план и сделать адаптацию
+- Инза-Новообразцовое
+ 9 км
+ Прищепе тестовую программу

+ для станций на СУ дать возможность ввода команд ТУ, так как при пропадании к
+ оболочку для запуска АРМ ШН

+- подслушка Косяковки на Дема - Карламан
+ Три инсталляции на 1 сервер: Сызрань-Узел, Пенза-Узел, Кузнецк-Новообразцовое:  192.168.10.ХХ
+ Сызрань-Узел стал коряво
+ Поставить Кротовка-Абдулино
+ 9 км адаптация
+ ярлыки должны быть другие
+ установка службы paArchiveSvc под разными именами (с индексацией, задаваемой параметрами)

  
+ инсталляторы
+ корректное отображение команд ДЦ МПК в строке состояния

+ фиксировать размеры окон
+ показать время
- попробовать оптимизировать это дело по времени
- подумать плотно о мигании напрямую в окне
- поэкспериментировать с масштабированием
+- упорядочить окна, фреймы и переменные внутри них


- можно ввести избыточное кодирование для команд ТУ по принципу ДЦ МПК (сдвигать, дублировать)
+ Дистрибутив АРМ ШН Кряж-Кротовка
+ опционировать цвет замыкания
+ интегрированный репликатор ШЛЮЗ СПД
+ возможность описывать в САПРЕЛЕ стрелки по разным станциям

+ Спецификация оборудования ПОлозову
+ АРМ ШН. Сделать изменение скорости воспроизведения
+ ликвидирован баг в Shape по замечанию Агаджанова
 
- Подлипаеву рецензию ЦП

- если диалоговое окно СУПЕР-АЛАРМ выскакивает в момент контекстного меню - возникла блокировка
  диалогового окна на 20 сек.
- адаптация Чишмы-Шакша
+ GidUralPlugin - передачу данных в сервер диагностики
+ Протокол обмена с ЮГ ПА
+ Протокол обмена по отладочному стыку


+- летний ГИД

- Агаджанову новый модуль Управление и замечания
- Таблицу перегонов и выражений по Пензе-Кузнецк
- Дистрибутив по Пензе-Кузнецк
- Документацию по Пензе-Кузнецк
+ Изменения по Илино-Дема - в дистрибутив.


+ Табло для Поляковой
+- Английская стрелка (см. парк отправления)

- мониторинг участков 
  имея файл id, можно пройтись по всем каталогам АРМ ШН, сделать информационную базу, подключиться к участкам и мониторить
- обработка исключений и переполнений по всему тексту
- отказ от CString в местах частого пользования
- отправить Прищепе описание протокола
- выводить имя объекта при щелчке правой кнопкой мыши или 
- на шлюзах-серверах отжирается память, подумать, где
- иметь дистрибутив ЮРЦУП с нормальными датами

- не работает инсталляция ВСЕ на АРМ ШН
- адаптация 9км
- попробовать встроить сжатие на лету в архивироание ТС
- запрашивать имя файла для скриншотов Управления (имя станции).
- в редакторе схем при открытии схемы раскрывать ее на полный размер
- АГАДЖАНОВУ:
  - клм. ЕРАЛ
  - Таблица СПОК
  - отцентрировать схемы


- вопрос: можно ли показать направление опроса станции в модуле УПРАВЛЕНИЕ ? Если нет,
  то реализовать это в новом КП. Можно даже давать время опроса на левом и правом КП, но боюсь, это накладно
- проверить буферирование команд ТУ при передаче из Монитора в станцию связи. 
  У меня были сомнения на этот счет, уже не помню точно, в каком месте, возможно при очень 
  быстром вводе команд и записи их в станции связи

+ Пенза-Кузнецк
  + адреса + документация + дистрибутив + таблицы проверок + 2 флэшки
+ СНИТКО: тендерные цены на оборудование ЦП
- 	  от Агаджанова титульные листы
+- при печати ГИД не решена проблема не помещающихся предупреждений
+ Диалог предупреждений с возможностью удаления
+ В АРМ ШН дать информацию по объектам через щелчок мыши
  сделать виртуальный метод GetObjectInfo и реализовать его для всех производных классов

+ документацию на: 
  + Письмянка - Круглое Поле
  +- Пенза - Пачелма
  +- Пенза - Рузаевка
+ в целом за сутки отжирается 20 МБ памяти, 5 суток - 100Мб. 
  Надо искать: отключить приложения на резервных серверах, сравнивать статистику
+ у меня старая БД Ряжск-Пачелма
+ добавить графу SUPERALARM в TsExpress

- Идеи: 
  + преамбула
  + повтор обращений
  - повысить частоту опроса выбранных станций
  - понизить частоту опроса выбранных станций
  - поэкспериментировать с полным опросом
  - запустить отдельную станцию связи на хвост. 
  - почитать текст КП в части ретрансляции и потенциальных ошибок ретранслируемых данных памяти 


- Идуков
- ЮГПА. Передача объектов мониторинга
- Блокировка маршрутов отправления н занятый по приему перегон 
- Разобраться с приемом от Потапова. Судя по всему - есть накладки квитанций и пакетов ТС.
- Разобрать ситуацию по Черемшану для других станций. Если это регулярно - то исключить программно
  замыкание пути из маршрутов приема, иначе всегда будет лажа

- Станция связи
  - анализ несоответствия коннектов на смежных станциях и перезапуск КП, в дальнейшем для нового КП - только разрыв
  - увеличение мощности по максимальному числу станций до 24
  - возможность чтения параллельного порта для анализа коммутатора О/Р
  - установка связи по TCP/IP основной и резервной станций связи

- удобно было бы запоминать фильтры ПРОТОКОЛА событий в реестре
- сделать таки воспроизведение ретаймовских архивов
- подготовить аналогичные изменения для предыдущих
- транспарант ЭЦ.ОШ для остальных участков сделать и воткнуть
- связи РЦ для контроля проезда запрещающего для остальных сделать и воткнуть
- последовательность РЦ в маршруте проверить в реальной Бд
- изменить шаблон таблицы PEREGON на будущее и согласовать вснесение этих данных для следующих участков


+ признак инверсии ТС в таблицу ГИД-УРАЛ
+ станцию Пятигорск в ЮГПА
+ поменять звук супераларма на сирену
+ Иван Николаевич, подсистема логич.контроля
+ Прищепе описание протокола
+ ПРЕЗЕНТАЦИЯ ДЦ ЮГ на русском и английском
  Данилов Сергей  svdanilov@yandex.ru   499-504-01-42, 4-01-42


+- при выборе станции щелчком на названии, некорректно отображаются имена ТС в списке диалога ТС
+ печать документации
+ доделать документацию Пенза-Пачелма, справки - на диске d, документ - у меня в C:\KBSH\Пенза-Пачелма\Doc
+ таблицы проверок на 2 участка


+ В генератор таблиц внести фамилию ШНС Чернов Г.Б.
+ опционировть для КБШ / СКЖД цвет маршрута
+ не нахожу проекта с выводом отчетов по архивам (делал для СПОКОВСКИХ команд)
+ повторная команда установки маршрута
+ RegisterMessages должен уметь читать arm.mdb readonly
+ Командировочное удостоверение
+ договориться насчет доставки
+ вопрос: может ли Сосыка не работать с новым exe файлом

- ДИСТРИБУТИВ
	+ обновления Инзы, Средневолжской, Ряжск
	+ Письмянка
	+ с учетом сжатия: DLL
	+ таблицы Инза-Нурлат
	+ таблицы Сызрань-Средневолжская
	+ документация Инза-Нурлат, 
	+ документация Сызрань-Средневолжская


+ взять БД Рашида с TSEXPESS
+ передать диск Агаджанова в САНТ 
+ IP адреса для Письмянка - Круглое поле
+ встроить в сервер аремени передачу multicast, а в службу ArchiveSvc - прием, уйти от соединений с сервером

+ встроил в сервер времени передачу MULTICAST в группу 224.1.1.2 : 64465
+ ArchiveHeaderTag дополнить структуру ( резервное поле (3-4 байты)) чтобы иметь возможность использовать
+ при подкачке в пустой каталог TEMP дает "Не найдены архивы"
+ опционировать транспарант ТС для КБШ / СКЖД
+ отступить на 1 пиксел вправо подпись нечетных светофоров при размере 17 пикселей

+ вставить опции SQL-лога в monitor.ini всех участков КБШ

- вирус-червь 	Win32/PSW.QQRob
		Win32/PSW.QQpassJF
- обновить:
  + АРМ ДНЦ     (О/Р): 	pictures, arm.mdb, monitor.exe
  - шлюз/сервер (О/Р): 	pictures, arm.mdb, armtools.exe, bridgetcp.exe
  +дистрибутив		pictures, arm.mdb, armtools.exe, bridgetcp.exe, monitor.exe
+ Чтение ArmTools.ini, опция FORMNAME не допускает имена станций с пробелами
+ факс бронирования номера в гостинице
+ наклонные светофоры не мигают 
+ СЫЗРАНЬ - ЦИЛЬНА. Последовательность маршрутов нарушена на Молячкино: 3, 4, 5, 10, 11, 12
+ восстановить скриншот на ArmTools
+ разблокировать управление с кнопок на станциях СУ/АУ
+ размеры областей подогнать для 4х мониторной конфигурации
+ поправить Инза-Ульяновск-Нурлат на АРМ ДНЦ
+ Ошибка проследования
+ Табло1, Табло2   Сызрань - Цильна
+ Увеличил буфер CTcpClient
  собрал ArmTools, BridgeTcp

- плюхи эмулятора по участку Шакша - Кропачево
- RouteSrc, описание РЦ, дать возможность индексировать имя станции с пробелом
+ опционировать размер виртуальной страницы в Табло, ArmTools, Shape
+ при загрузке модуля Управление давать размер виртуальной страницы не меньше размеров окна
+ опционировать размер виртуальной страницы в Управлении, 
+ ЮГПА
+ Башилову SHAPE

+ дать признак обзорной схемы, можно в настройках (TABLO)
+ дать возможность переходить на обзорную схему повторным щелчком на названии 
+ дать возможность скрыть панель кнопок (HIDESTATIONSBUTTONS) станций для очень больших участков

+ поменять ЕСР для Армавира-2
+ при реинициализации модема открывать / закрывать COM-порт
+ Соломатиной Армавир
------------------------------------------------------------------------------------------------------
- дистрибутив Сызрань - Цильна

+ руководство для РАшида
+ руководство по подсистеме 
+ подсистему Кинель - Безенчук
+ документация Кинель - Безенчук
+ дистрибутив Кинель - Безенчук

- встроить обработку ошибок при передаче квитанций в РСС СЕТУНЬ, может там лажа ?
  и поанализировать передачу вокруг этого

+ ДОСТУП к именованному аккаунту SQL на DC-UG-1:  DC-UG-1\SQLPERSONAL
- взять ретайм с Иглино - Дема
- протоколировать обновление БД и схем в ArmTools

- доработать воспроизведение архивов
- доработать запись протокола из Управления в SQL
- дистрибутив + АРМ ШН
- Кинель - Безенчук создать таблицы для подсистемы

- Сделать перенумерацию RC_Relations
  Алгоритм: считываем старые и новые данные: номер РЦ - станция и имя, устанавливаем соответствие
	    считываем старые и новые данные: номер РЦ - станция и имя, устанавливаем соответствие
	    сохраняем с подменой номеров
- попытаться сделать многоярусный доступ к ШЛЮЗАМ, архивам ТС, архивам сообщений

+ проверить протоколы сообщений по участкам
+ IP адрес шлюза СПД ИГЛИНО-ДЕМА - 10.64.88.125
+ Кинель - Безенчук поставить АРМ ДНЦ
+ отключил контроль стрелок

------------------------------------------------------------------------------------------------------
ИЗМЕНЕНИЯ ПО ПОЕЗДКЕ РАШИДА
 - Кинель - Безенчук: база, схемы
 - Нурлат - Бугульма: ст.Акбаш, схемы
 - Сызрань - Цильна : база, схемы
 - Инсталлятор АРМ ШН
 - 
------------------------------------------------------------------------------------------------------
- Таблица peregons
- Последовательность РЦ в маршрутах блок-постов откорректирована для след маршрутов:
  - БП 12: 1,2 
  - БП 27: 2 6 
  - БП 48: 3
  - БП 74: 3
  - БП 89: 3

- НЕСООТВЕТСТВИЕ СХЕМ:
  БП-76.shp  		- 3сп[БП 76], 5сп[БП 76]
  Безенчук-Кинель.shp 	- 3сп[БП 79], 5сп[БП 74]

- КОРРЕКТИРОВКИ таблицы RouteSrc, поле РЦ:
  - БП 45: 1 : 6сп[#8]			( БП-45 имеет РЦ 2-6СП[БП-43], 4СП[БП-48] )
	   2 : 4сп[#10]
  - БП 76: 1 : 5сп[#13]			(см. несоответствие схем ниже, возможно РЦ 3сп,5сп [БП 76] работают. 
					Тогда убрать индексацию)
	   2 : 3сп[#15]

- таблица Krugs. Очистил роле "Контроль станций". 
  ПРИМЕЧАНИЕ: если это поле не пустое, то станции, не входящие в перечисление этого поля, ВООБЩЕ не будут обрабатываться,
		то есть их ТС не будут обрабатываться при приеме от RDC (будет сообщение об ошибочном идентификаторе станции)
		Сообщение об отсутствии кнопки - не страшно.
- Таблица TSExpress
- увеличил размерность Stations.ShortName до 4
------------------------------------------------------------------------------------------------------
+ Приуралье.    СННО.    Ошибка в описании составной команды: =АСНН__5[Карламан]
+ Приуралье.    СННО.    Ошибка в описании составной команды: =СННП__2[Карламан]
+ Серменево.    СНЧО.    Ошибка в описании составной команды: =АСНЧ__6[Белорецк]
+ Серменево.    СНЧО.    Ошибка в описании составной команды: =СНЧП__4[Белорецк]
+  Белорецк.    СННО.    Ошибка в описании составной команды: =АСНЧ__6[Белорецк]

+ Логический контроль
  + транспаранты
  + saprrel	(RC_Relations)
  + перегоны	(Peregon)
  + признаки управляемых станций (Stations)
  + последовательность РЦ в маршрутах (RouteSrc)
	+ Серменево	11
	+ Улу-Елга	14,15,16
	+ Айгир		5
	+ Тюльма	5
	+ Зуяково	12
	+ Равтау	5
	+ Приуралье 	6,7,8,14,15,16
+ Карламан ответсвенные команды с ошибкой
+ Белорецк ответсвенные команды с ошибкой
- в таблице Stations станции АУ не должны иметь птичку в ДУ/АУ
- в таблице Stations короткое имя станции - уникальное (вместо Пост дать номер поста)
-------------------------------------------------------------------------------------------------------

+ по команде отмены менять состояние на ожидание размыкания и убирать зеленую полосу
+- потестировать сбои связи УПРАВЛЕНИЕ как с клиентами, так и с серверами
+ ввести лог в конструкторы/деструкторы сетевых объектов -----------------------------------------------
+ встроить логи в функции удаления сокетов и других ситуаций.
+ заменить модуль УПРАВЛЕНИЕ
+ проверить проезд запрещающего


+ SAPRREL -  стрелки.У
+ SHAPE - альтернативное имя светофора затирается именем сигнала при редактировании

+ проверить в службе разрыв сокета только при коннекте
- доработать RssRetimeTester так, чтобы можно было читать архивы и отправлять в УПРАВЛЕНИЕ !!!
  ЭТО БУДЕТ БЛЕСК! (ВЫБОР ВРЕМЕНИ, ВЫБОР АРХИВА, ВЫБОР ВОСПРОИЗВЕДЕНИЯ)
- желательно сохранять в архиве IP адрес отправителя
- уметь позиционировать на время
- сделать экстрактор записей архива РЕТАЙМ
- включение цветов Сетунь  и отключение приводит к ярко-зеленому
- проанализировать, как ведет себя управление в условиях сбоя одной станции связи
  читать и воспроизводить архивы ретайма
- накопленные маршруты отображаются только если выбрана активная станция, надо отображать все скопом !!!
  чтобы всегда были видны

+ выбор станции при щелчке на имени станции
- встроить буферирование сообщений и запись в SQL непосредственно в модуль УПРАВЛЕНИЕ
  это должен быть отдельный поток. Буферирование - в момент записи в БД,
  а поток будет работать аналогично службе (взять текст оттуда). При этом уходим от проблемы разделения доступа

- двойная удаленная загрузка удаленных файлов
  - файлы, показанные определенным образом, подгружаются удаленно
	REMOTEBDPATH=[192.168.41.12]c:\ArmDnc\Bd
	REMOTEARCHIVEPATH=[192.168.41.12]c:\ArmDnc\Bd\Save
	REMOTEPICTURESPATH=[192.168.41.12]c:\ArmDnc\Pictures
		LOADER IP SRC DST [/u] 
		SERVER:GETFILES

- опцию Title, а кроме того, можно взять название круга как в Табло
+ доделать кнопку
- добавить в БД транспвранты 63, 64


+ транспарант ТС не ярко зеленым
- не понятно, как работает в табло сохранение размеров экрана.
  Похоже, не разворачивает на неосновном мониторе

- возможно, АРМ ДНЦ при отсутствии квитанции от клиента молчит навечно. Это неверно, лучше разорвать

+ запретить ТАБЛО писать в протокол
+ шлюз не своравчивается
+ на шлюзе на строке резервного сервера если нет коннекта все равно проскакивает лажа
+ сохранение скриншотов схем в разные имена файлов

- дистрибутивы

- заменить службы:
  - paArchiveSvx на шлюзах
  - paBlackBoxSvc + УТИЛИТА jetcomp.exe на АРМ ДНЦ

- в редакторе схем при редактировании колпачков после copy/paste меняем станцию и слетает описание полей,
  что неудобно! Подумать
- awsd - горячие клавиши тулбара (учеличить/уменьшить c шифтом, переместить без Shifta),
- внести в документацию описание добавленных возможностей
  - закрепление размеров окна
  - подсветка положения стрелок
- строка состояния лажается ( из-за системных проверок разрешения монитора ?)
- проверить сохранение пропорций при уменьшении съездов

- минимизировать сообщения, чтобы не засрать протокол

- обработка типа станции ДЦМПК для Агаджанова

- Использовать CString DShape::sLastError для расширенной диагностики проблем в схемах 
- работу с Идуковым
- мультикаст

- настройка IP по шаблону и БД НСИ с возможностью корректировки
- сделать корректную интеграцию пакетов команд в станции связи при приеме, а не просто дозапись
- mdb протокол в АРМ ШН (может быть очень много сообщений ?)
+- Включить jetcomp.exe в инсталляцию (c:\utils или ArmDnc), описать в инструкции
+ показывать в архиве дату переноса записей
+ цвет под часами: 236, 233, 216
+ проверить, есть ли сигналы ОШ.ТС - есть !

- ввести для актуальной станции другие переменные. (и что это даст ?)
- ввести тип станции - табло, тогда при выборе этой станции не будет меняться ActualSt
- Ввести 2 виртуальных сигнала (принудительно выставляемых) - КТС-1, КТС-2 - контроль достоверности сигналов 
  по основной и резервной РСС
- анализатор архивов Ретайм
- при принудительном разрыве соединения клиентом (Управление) в протокол хотелось бы записать наше сообщение о принудительном разрыве
- обновление в RegisterMessages
- В идеале надо держать НСИ и оперативные БД в разных папках, чтобы разграничить доступ по чтению и записи
--- сделать разрыв соединения при отсутствии связи. Почему-то служба впала в клинч и не архивировала на сервере-1
--- потерял соединение 
- Четко разобрать все нюансы обмена с Ретайм, состояние индикаторов
- Встроить трассировку в лог основных точек входа/выхода

+- судя по всему ТУ (и СПОК) не уходили. ВАРИАНТЫ:
  +- не уходили из МОНИТОРА
    + дать записи в протокол о передаче (или невозможности передачи) ТУ
    - обдумать механизм квитирования; на перспективу можно включить в протокол квитируемый счетчик 
      и время отправки по примеру трактовского протокола
    - проанализировать очередь ТУ	
  - потерялись (затерлись) в СС
    +- расширить вывод в лог

- купить БПДК с полным набором адресов, сделать документацию, стандартные шлейфы и т.д.
+ доработать спокер, чтобы иметь уведомление о приеме данных от PC и передаче в СПОК
+ установил новую версию службы на основных серверах НУРЛАТ-БУГУЛЬМА и БЕЛОРЕЦК-КАРЛАМАН
+ попробовать восстановление БД 2000
+- Анализатор архива должен уметь: 
    извлечь и показать (можно логом) 	все ненулевые пакеты ТУ 
					все ненулевые пакеты ТУ для данной станции
					все пакеты ТС для данной станции   

+ защититься от дурацких коцаных записей, тестировать на коцаной БД
+- архивирование ТС в жопе на Нурлате, смотреть логи
+ служба нормально не перезапускается - из-за Sleep. Исправлено
+ контроль приема и разрыв соедиений в ArchiveSvc
+ забрать архив ДЦ МПК
+ опционировать логи станции связи с указанием имени файла, чтобы иметь возможность (опция LOG= задает путь)
  писать разными станциями в разные файлы

+ виснет протокол в АРМ ШН (может быть очень много сообщений ?)


+ командировка
+ документация
+ деинсталляция Remote
+ транспарант: здание вокзала маленького размера (в 2 раза меньше)
+ есть подозрение, что при описании ответств.команд недопустимо иметь пробел в имени станции. ПРОВЕРИТЬ !!!




+ ошибка BridgeTCP
+ подсветка стрелок
+ если нет связи с РСС, команды должны удаляться из очереди с уведомлением
  ИЛИ НЕ НАДО ИХ ТУДА КЛАСТЬ... 
  Иначе они накапливаются и передаются при установке связи хоть через час
+ для размеров окна менее 1280 делать шрифт времени маленьким
+- различать большие и маленькие буквы в ТС
+ закрепление координат окна
+ вывод астрономического времени
+ фильтр выборки сообщений по диапазону времени
+ центрирование в строке состояния - по левому краю, наверное, или опционировать
+ дать в SHAPE координаты с учетом многомониторных возможностей
+ опционально не показывать желтым цветом потерю контроля стрелок на СУ
+ уметь растягивать Управление на 2 монитора и запоминать состояние
+ аналогично для Табло

+- Привести в соответствие файл исполняемого ПО kp2000.exe и документацию

+ 58 примитив - лпмпа 	зелена/белая
  59 			желтая/белая
  60			желтая/зеленая
  61 стрелка 15*16	четная
  62 стрелка 15*16	нечетная

+ подготовить таблицы, вписать ОТУ, оставить Вихрова, можно распечатать

 
- сделать контроль файлового ключа более строгим за счет сравнения с эталоном
- опробовать ввод ответственных команд с общего кадра
+- встроить кирилицу в чтение всех выражений (текст, может еще что-то)
+ дистрибутив
+ долги Башилову

+ в меню БЕЗ СИГНАЛА убрать составные маршруты
+ анализ наличия изменений. Игнорировать (не вызывать SpellTs), если чаще 5 сек
+ обработка ТС нулевой длины с уведомлением ошибки в канале
+ RssRetimeTester не синхронизирован 
+ Убрать из настроек MouseDll - не актуально, а лишняя завязка имеет место
+ обработка некорректной длины (усекаем, контролируем CRC)
+ инсталлятор: + ШН - админ
	       + устанавливать .Net на АРМ ДНЦ
               + установить RemoteExplorer на АРМДНЦ
	       + сносить установленные ранее службы 
+ документация
+- Ефимову сделать две схемы, отправить 3 схемы и замечания. Созвониться  
+ протоколировать ошибку невозможности создания виртуальной страницы
+- аппаратный ключ - обработка (в крайнем случае - флэшка)
+ признак ответственных команд - добавить графу или использовать таблицу ОТУ или использовать сложное описание 
  для пометок
+ ответственные команды выдавать только при наличии ключа
+ ожидание запуска до n секунд и автостарт. 
+ выдавать запрос на подтверждение ввода ОТУ и протоколировать с пометкой ОТУ


+ Тестирование RDC разрывом ЛВС
+ изменить опции ArchiveSvc для сервера времени (- не выполняется синхронизация времени на АРМ ДНЦ)

+- архив позорный; почему-то сплошная лажа - не все сигналы. Проверить на первом сервере

-------------------------------
Накладную в ЖЕЛДОРАВТОМАТИЗАЦИЮ
198095 Санкт-Перербург, а/я 55 
ООО НПО Желдоравтоматимая
-------------------------------

ИЗМЕНЕНИЯ:
	- Анализ пустых пакетов и запись в протокол об их наличии каждую минуту
	- Протоколирование включения / отключения колпачков
	- Желтый цвет индикаторов связи при отсутствии данных от РСС в течении 15 сек.

	BOOL DRoute::IsRcNoProblem(BOOL Msg/*=TRUE*/)	- смягчил проверку замыкания для последнего 
							бесстрелочного участка маневрового маршрута
	BOOL DRoute::IsRcNoProblem(BOOL Msg/*=TRUE*/)	- смягчил проверку замыкания для последнего
							бесстрелочного участка маневрового маршрута 
	
	bool	DRailChain::IsRcHasStrl		() { return bRcHasStrl; }
	void   static DRailChain::MarkRcHasStrl    (WORD NoRc);
	
	inline void DRailwaySwitch::SetNoRc1(WORD n){ NoRcS1 = n; DRailChain::MarkRcHasStrl (n); }
	inline void DRailwaySwitch::SetNoRc2(WORD n){ NoRcS2 = n; DRailChain::MarkRcHasStrl (n); }
	
	Monitor.cpp bWins = false (Тормозит при запуске определение имен ПК, закрытых фаерволом)
	Ввел виртуальные ТУ и виртуальные ТС (отделдьный слой, накладываемый на ТС при обработке)
	

- на занятиях:
  - без контроля
  - норма - с общего кадра, если проблемы - индивидуально
  - ОТМЕНА через Shift-F2 и список
  - накопление установки
  - осутствие накопления отмены

- уметь давать список доступных команд отмены маршрута от светофора
  НАПРИМЕР: горит лажово светофор, как дать команду ?

- выяснить КСУ, СУ, су_1, су_2. Мне уметь гибко задавать выражения для СУ, ДУ. РУ
- при щелчке на транспаранте ТС давать ТС станцмм выбранного транспаранта, а не участка
- можно при отсутствии ТС по аналогии не гасить транспарант, а показывать отсутствие связи - красное мигание
- при отмене маршрута Невы можно не только снимать полосу, но и выдавать команду отмены
- не отображаются станции связи в ARMTOOLS

- транспаранты, имеющие пассивное состояние, дать блекло при отсутствии ТС
- нарисовать транспарнты ОШ.ЭЦ на схемах 
- подключить общий кадр в Управлении и управлять с него
- распечатать бумаги

+ встроил усекание пустых срок при чтении из БД
+ транспарант АДН горит если ТС expired. Это плохо
+ заблокировать сжатие БД
+ устанавливать ТС ош.связи
+ более крупный шрифт наименований светофоров в ТАБЛО

+ добавил сигналы ЭЦ.ОШБ, ТС.ОШБ
+ дополнил таблицу Transparants (56, 57), изменен транспарант 25 (красный фон)
- двойную ножку для управляемых светофоров

+- при ошибке связи - давать ТС ОШ.ТС и завязывать гашение экрана на этот сигнал
+ переслать БД Transparants c КТСМ, описать нюансы использования АЛАРМ


+ анализировать ТУ на уникальность
+ При выборе БД - сообщать про ретайм, можно из БД Install.Krugs
+ BridgeTcp.ini - лишние настройки
+ Ярлык протокол с настройками
+ Настройки ArchiveSvc проверь
+ протокол Ретайм трафика в Monitor.ini

+ аванс в САМАРУ: + 3980 авиабилет, +10000 аванс, -760 возврат. ИТОГО: 13220руб.

- Вихрову
  - ТУ ВК,ОК на транспарантах Демы
  - соображения 1600*1200, сбросить схему
  - TSExpress все аварии
  - новые таблицы
  - новый SHAPE c ограничениями12:30 09.12.2006
  - пост ЭЦ норм.состояние - не горит
  - соображения по описанию маршрутов
  - что за контроль ПО ?
  - сжатие БД


- помещать ярлыки в папку всех пользователей
- проверить инсталлятор
- подготовиться к Николаенко
- Тех.решения с ДЦ МПК
- OCS 
- БАШИЛОВ:
  - лажа в отрисовке стрелок 10/11 или 8/9 типа (+- не совпадает с плюсом и минусом)
  - нужны 4 типа наклонных стрелок с ответвлением вверх-вниз
  - нужны светофоры без ножки - поездной, маневровый и отдельно ножки в разных направлениях
  - иметь возможность вставлять комментарии в конце примтива
  - снять ограничения на размер файла и число примитивов

+- ИНСТАЛЛЯТОР
- АРМ ШН. Определиться с настройками и загрузкой БД, схем и архива ТС
- табло
- основная/резервная станции связи сделать гибче, чтобы можно было использовать все светодиоды
  и не выползать за ограничение 4(2) штук
- растянуть строку в диалоге  О Программе
- пока время берем от диспетчера, на сервере синхронизируем по АРМ ШН, на станции связи не синхронизируем
- опционировать размер виртуальной видео страницы, чтобы не гонять лишнего
- хорошая идея - набрать мигающие примитивы в массив указателей и мигать ими прямо на экране
  тогда очень хорошо развяжемся по производительности и обеспечим качественное мигание

- таблицы 

22326 Йорш Юрий Иосифович

+ ошибка BlackBoxSvc
+ ММ/КММ
+ При отсутствии команды дать предупреждение

+ ПС мигать наоборот - длинный белый, короткий серый
+- Бесюлькину: нужно 2 монитора на Иглино - Дема
+ защитить критической секцией запись архива ТС в файл, так как там 2 независимых потока
+ архивирование пакетов от/в РСС Ретайм  
+ MonitorView - проследить не только за очисткой строки, но и сбросом флагов F2 (там где блокируется OnEscape)

- скинуть свежие инсталляцию и дистрибутивы ЮРЦУП 
- Заготовку для Инструкции о порядке пользования 
- Руководство АРМ ДНЦ без графика

+ Руководство сисадмина объединить с руководством по установке
+ не убирается команда из строки ввода после выдачи
+ описать опции BlackBox.ini сисадмину
- определиться с опциями ArmTools
- определиться с расшариванием ресурсов АРМ ДНЦ (можно ли иметь readonly)
- рисовать мосты, платформы
- отображать основной и резервный АРМ ДНЦ 

- в адаптации нет контроля КММ для маневровых маршрутов. Это нехорошо - может быть путаница
  Может надо дать предупреждение об отсутствии контроля КММ ?
  Лучше так: если включаем маневровый и сетунь и нет КММ - дать ТУ ММ
             если выключаем маневровый и сетунь и КММ - дать ТУ ОММ
	     если даем команду маневрового маршрута и сетунь и нет КММ - сообщить
             если даем команду поездного маршрута и сетунь и КММ - сообщить

- ИНСТАЛЛЯТОР. Учесть основной и резервный ! Дать в диалоге
  Можно запрашивать параметры (IP, порты), а можно и дать файлы для редактирования
  АРМ ДНЦ - число станций связи, порты и адреса, основной/резервный, IP адрес и порт основного
  Службы - порты и адреса Управления и Шлюза-сервера
  АРМ ШН - уметь копировать БД не удаленно, а простым копированием по сети. Или просто читать оттуда !!!!!!!!


- Исполняемое ПО, настройки
- описать отличия от СКЖД для Рашида
- multicast
- выделять цвтом стрелки без контроля
- Инсталлятор c учетом резервного АРМ ДНЦ (два варианта настроек!!!)
  	- АРМ ДНЦ		
		- Управление
		- Служба архивирования
		- Служба BlackBox
	- Станция связи	
		- АРМ ШН ?
		- Служба архивирования
	- Шлюз-сервер
		- .dotnet	
		- MSDE
		- Служба удаленного доступа
	- АРМ ШН		

- феномен Батайск-Кавказская (АРМ ШН съел все время ЦП), интересно исследовать, почему
  в таких случаях использование службы - спасение
- опционировать размер вирт.страницы
- проанализировать протололы 72 сервера. Что за бред ?

- взять все по Идукову. Иметь существующие ТР
- выложить на FTP все изменения

- Юля Полякова у Бесюлькина. АПО. Подготовить диск с САПР
- что инсталлируем в связке с ЖТА: 
  - Управление
  - Табло
  - АРМ ШН
  - Протокол
  - Шлюз СПД
  - Службы
  - Сервер времени
  
- документировать структуры данных, форматы пакетов
- сделать развернутую визуализацию архивов по типам (Станции связи, Управление)

- SHAPE - наклон съездов
- ВОЙНИКОВ:
  - печать селектированного графика (министерского и с фильтрами)
  - нерабочий парк. Прохладная-Аполлонская, 9001(5376 001 5373) 11:00 из Прохладной
  - нет станций Олейниково, Самур
  - уч.скорость по подучасткам
  - мин.график по забитым в БД временам перегонного хода независимо от нитки
    - выделять отклонения времени хода, связанные с предупреждениями

- paBlackBox - импорт таблицы станций
- документация в варианте ЦУП Самара - на ПО, систему, службы, Инструкции о порядке пользования
- инсталлятор отдельных модулей и компонент в архитектуре Куйбышевской ж.д.
- описать, упорядочить, уметь инсталлировать службы
  - paArchiveSvc + син
  - paBlackBox
- встроить передачу признака ОСНОВНОЙ/РЕЗЕРВНЫЙ АРМ ДНЦ
  и попутно можно использовать другие биты для доп.информации

- Потапову
  +- saprrel
  - сколько может быть ТС по максимуму - у меня не более 8 страниц, при этом теряем последний сигнал 32*32
- отработать отсутствие контроля по станции - отсутствие ТС в теч.30 сек.
- Алибекову Протестировать адаптацию 
+- проверить ТУ побитно, встроить отображение импульсов в ТЕСТ СВЯЗИ
+- предусмотреть расширение матрицы в кратное число раз, уметь смотреть ее (для Ретайма и Ebilock)

- реализовать протокол Ebilock
- ИДУКОВ - контакт и макет технических решений

- недостаток службы paArchiveSvc - умеет работать только с одним участком
  неплохо иметь возможность конфигурировать несколько участков. Тогда одна служба могла бы архивировать 
  ТС по нескольким участкам, что актуально для удаленных рабочих мест
- Идея.
  Так как для архивирования используется новая служба,
  можно распараллелить архивирование от основного и резервного АРМ ДНЦ и при просмотре архива выбирать нужный
  - 	@_0.arh	 - основной
	_@_0.arh - резервный
- подтянуть службу времени в службы paBlackBoxSvc, paArchiveSvc
- если станция связи РЕТАЙМ молчит - не передавать данные клиентам - нет информации
- реализовать протокол с Ebilock на уровне ПК
- ПРОВЕРИТЬ в станции связи обработку ошибки СПОК, чтобы можно было работать с 

- РАБОТА В УПРАВЛЕНИИ И АРМ ШН с новым КП-2007
  - классификаторы в таблицах ТУ/ТС БД
- хорошая идея - автоматически архивировать БД и схемы станций при их изменении в 
  отдельные файлы; то есть сделать автоматический репозиторий. 
  Можно хранить копию последней БД, периодически сравнивать и отслеживать изменения копируя 
  файлы с префиксом даты даты обновления файлов. Можно иметь средство извлечения архива

- служба сервера времени - можно сделать сервер времени службой
- объединить paArchive + paBlackBox ?
- техничекие решения по увязке:
  - с Крыловым
  - с РПЦ ТУМС
  - с ДЦ МПК (как передаются команды уточнить у Идукова Антона)
- датаграммы, протокол PPP
--------------------------------------------------------------------------------------------------------
- Ольга Николаевна Схемная группа Туапсинской дтсьанции 026 72645, 026 73645
  ГТСС: Хвостова Марина Николаевна
        Баберенко Алексей Павлович
  СОГЛАСОВАТЬ ЛИКВИДАЦИЮ КНОПКИ ОСНОВНОЙ НА ПУЛЬТЕ АРМ ДСП участка Белореч-Туапсе

МОСНИПРОТРАНС по 6 экземпляров
  + до 4  ноября - техническое решение по увязке ДЦ ЮГ и Ebilock
  - до 15 ноября - адаптация ПО
--------------------------------------------------------------------------------------------------------
+ очистка Moved при записи в протокол из PutLog
+ опционировать обнуление номеров поездов в УПРАВЛЕНИИ
+ fromWordIJ - не отрабатывает для 32 строки ТС в варианте ЛОМИКОНТА
  ВОЗМОЖНО И ДЛЯ РЕТАЙМА !!!
+ блокировать отображение импульсов Невы ЧДЦ а ретайме
  полным опросом
-----------------------------------------------------------------------------------
- Муртазово, 25.10.2006. 
  9:50:18. Теряем связь. 
  9:50:27. Связь восстанавливается, рисуем лажу 
  9:52:09. Норма
  Таким образом полторы минуты была срань на экране
-----------------------------------------------------------------------------------
+- ArmTools от двух серверов
+- подключение к двум серверам для шлюза СПД 
+- пакетные запросы
+ ПОМЕТКИ на печать
+ Доработать ArmTools, прокомментировать MONITOR
- Доработать связь основного и резервного MONITOR
+- Целесообразно состыковать основной и резервный АРМ ДНЦ по TCP/IP так, чтобы они знали 
  +- кто основной,
  +- кто резервный
  +- кто активный
- Войников: сделать анализ уч. скорость по направлениям: Мин-Воды-Прохладная, Прохладная - Стодер.
  Джегута - Зеленчук
  Овечка - Мин-Воды
  Мин-Воды - Кисловодск
  Мин-Воды - Прохладная
  Прохладная - Ищерская
  Прохладная - Беслан
  Беслан - Владикавказ
  Беслан - Слепцовская
  Темижбекская - Палагиада
  Палагиада - Ставрополь
 
+- подключение к двум серверам для АРМ ШН
  - можно сделать 2 АРМ ШН: основной АРМ ДНЦ, резервный АРМ ДНЦ
  - можно сделать одновременное подключение к двум АРМ ДНЦ и отображать либо выборочно, либо то, что приходит

+- Работа с черным ящиком для ПРОТОКОЛА и АРМ ШН
+- ArmTools. DlgMsg.cpp 
  bsConnString = sSqlConnStr;

+- Для Мосгипротранса документацию
- В проекте Рузаевки с новым КП идиотская система пропуска модулей ТС
  если ее оставить, то желательно оптимизировать передачу ТС
  Имеем 1МВВ - 32*24 = 768 сигналов, 96 байт * 2 = 182 байта с учетом мигания. 
  Нужно как-то сообщать в КП какие модули задействованы, например:
	Станция  3   4[1,2,8,9]  2 9600 9600

+- УПРАВЛЕНИЕ должно знать, что оно без периферии и не отправлять данные клиентам

+- Блекло серый цвет заменить и опционировать
+- Убрать сообщение "Не все сигналы открыты"
+ синхронизация времени возможна для LocalSystem, но при этом служба будет 
   именно локальная и не сможем брать ТС по сети
- сделать датаграммного клиента
- сделать сервер на блокирующем сокете
- ТАБЛО с управлением - не вопрос
- Деревянко ответ

- Меняется ЭЦ на Ebilock: Апшаровка, Правая Волга (Октябрьск - Жигули). ДК Башилова.  
- Меняется ЭЦ на Ebilock: Пенза-1, Пенза-2. 
- Радиоавионика: Кузнецк, Сызрань-2, 
- Раевка, Кинель - ЭЦ МПК


- рвутся нитки Палагиада - Ставрополь, Ставрополь - Рыздяная
- не видно поезд с Виноградной на МинВоды на слепом участке перегона

+ У Крылова уточнить стоимость адаптера
+ Полозову описание всего, что входит в стойки и АРМ ШН
+ от пустых светофоров полное меню команд
+ Управление по левой кнопке мыши
+ Включение автодействия с первого раза дает выключение автодействия
+ Сапррел вылетает. Переслать версию Потапову

- протокол совещание СКЖД
- ЛОМИКОНТ:
  - состояние КП
  + документация
  + опрос ТС
  + включение режима ТУ
  + отключение режима ТУ
  + включение ТУ

+- Сураеву
+ КРЫЛОВ - схему


+ письмо Филатову
+ 1) почему нельзя перенести Сетунь-2 на новое железо
+ 2) возможная технология без Сетунь-2
+ 3) разделение работ при интеграции с Сетунь-2
+ собрать Шахову вариант 
+ взять с собой документы для Сураева и подписанные титульные листы
+ титульные листы Сураеву
+ послать Крылову замечания
- послать Идукову документацию на ЦП
- в новой версии КП предусмотреть возврат:
  - ТУ принятых к исполнению
  - ТУ отвершгутых
  - ТУ исполненных
- службу подкачки архивов на лок. машину (Юрченко для МинВод)
+- хочу службу на основе протокола TCP/IP
+- хочу реализацию сокетов на потоках
+- хочу датаграммы
- НА ставропольском подтянуть Гетмановскую и Темижбек в ГИД
- на Беслановском подтянуть удаления друг к другу, чтобы сливал нитки
+ опционировать время передачи клиентам в МОНИТОРЕ

ИНСТАЛЛЯТОР НЕ СТАВИТ КОМПОНЕНТЫ DAO

+ слить ПО
+ связаться с Потаповым
+ спецификация Полозову

+ Ломиконт
- замечания
- станция связи - КП2007

- Рашиду: если не может переимновать Pictures (убит каталог) - не копирует, а надо
- сделать пакетное копирование всех участков с построением инсталлятора
- учитывать все изменения. можно хранить адаптации в SourceSafe

- Беслан-Дарг-Кох, рвется. Склейка ниток огрубить
- Нальчик - Нартан рвется, 
- прогнать Беслановский по архиву
- хотят, чтобы удалялись незарегистрированные поезда, дать опцию
- зерновозы (порожние) не выделяются цветом
- детские выделять (спросить у Войникова, как определять поезда)
- нарисовать ему пометки разных типов

- откорректировать БД-11 основной и резервный
  Ураковская ЧУ1	1710 клм
  Ураковская ЧУ2	1715 клм
  Зеленчук   Т5Ч	1720 клм
  Зеленчук   ЧБП	1725 клм
- заменить Arm32.EXE
- добавить транспаранты в БД-11
- 
- поставить службу на 16 станцию связи
- поставить новый BlackBox (новые поля)
Настройка для скачивания обновлений БД (надо иметь RemoteLoader.exe,CG.Animation.dll, .NET)
 AUTOUPDATE=ON
 REMOTESERVER=192.168.0.100
 REMOTELOADER=c:\ArmDncSrc\Release\RemoteLoader.exe
 REMOTEBDPATH=c:\ArmTools\11\Bd



- Работа с датаграммами
- Встроить чтение BlackBox в Протокол и АРМ ШН
- Отобразить мигание видимо при задании маршрута
- Инсталляция Армавир - Белореченская
- Встроить версию ПЗУ-7 для нового КП
+ Станция связи для Арзуманяна
+ Ошибка SaprRel

- ЗАДАЧА по сохранению и восстановлению БД 
  - сделать более частым архивирование SQL БД
  - повесить на 71 сервер удаленную подкачку бэкапов
  - сделать автоматизированную закачку нужного бэкапа и восстановление


- Блокировка отображения импульсов для Ретайма
- почему на ноутбуке работает reset5 (srvany.exe), может это обновления ?

- Встроить в станцию связи обработку полного пакета с коррекцией местонахождения блока СПОК, 
  если на нужном месте сидят нули. Это позволит решить проблему без перепрограммирования
- Встроить анализ данных, принимаемых системой СПОК с выдачей диагностических сообщений как на уровне
  станции связи, так и на уровне АРМ ДНЦ
- подумать о более интеллектуальном СПОКЕРе, который бы давал анализ след.состояний:
  - переданы данные БПДК в АРМ
  - получен пакета от АРМ ДНЦ
  - получен ответа от БПДК
  - не получен ответ от БПДК
- анализ архива станции связи
- мониторинг связи
- протоколирование через SQL-сервер (Станция связи, Управление, АРМ ШН, Шлюз ГИД УРАЛ)
  МОЖНО сделать сервис, запускаемый на АРМ ДНЦ, который будет выбирать данные из локальной BlackBox.mdb и 
  перекидывать их на сервер. АРМ ШН надо заставить уметь работать с сервером, если задано опцией
    Достоинство: если сервер умер или перезапускается - нет проблем, пишем локально, как только оживем - 
    все будет ОК.
     - вопросы: - инсталляция сервера
                - как быть с резервом 
  - вариант 2 - создать доп. поток в Управлении, который будет скидывать на SQL сообщения, 
    буферируемые в очереди при PutLog. Проблемы - выделение памяти под буферируемые сообщения.
    Надо подумать и, возможно все-таки встроить, а какой механизм окажется удобнее-смотреть далее
    Таким образом, можно будет не расшаривать папки станции связи

  Вариант: сделать
- подключение к SQL-серверу из локального и удаленного АРМ ШН

+ Транспаранты КТСМ
+ ПО КП. Исправить некорректный расчет длины блока
+ Ввести опцию блокировки записи сообщений для ГИД и проверки наличия этой БД
  Можно дать OFF или DISABLED или пустое поле БД (последнее лучше всего)
+ Отображать прием данных от станции связи в Управлении
+ Отображение состояния коннекта станции связи
+ Обдумать идею оптимизации циклов обхода объектов контроля
  Можно по каждой станции хранить массивы CWordArray по "родным" свтофорам, РЦ, стрелкам
  И кроме того, иметь глобальные CWordArray, хранящие рабочие номера. Очень неплохо!
  Тогда сохраняется прямая индексация при обращении к справочникам, но ускоряется обход
 перенос протокола в фоновым режиме (например, службой)
  

+ компьютеры,
+ мониторы
- мебель,

- Нет опозданий на кисловодском участке на КИСЛОВОДСКЕ
- Войников хочет иметь опоздания по приему на участок

- Сейчас не контролируется потеря контроля стрелок на участках Нева/ЧДЦ
  Это не хорошо, по причине того, что нужно контролировать зависимости
  Видимо, надо задавать либо в настройках участка, либо в таблице Stations
- ПО КП
- встроить номер версии и инкремент ее в файлы SHP

- поворот, флип, 
- разобраться откуда лезут сообщения о несоответствии перегонов
- постановку задачи по мониторингу связи
- Вихрову / Потапову 
  - SHAPE и рекомендации 
  - запрос на протокол
  - как передают в ГИД УРАЛ ?
- СУ вместо АУ
- включить таблицу _ID
- Написать км вместо клм
- вывод алармов у ДНЦ
- можно попытаться снизить задержки либо снижением множителя, либо изменением (уравниванием)
  коэффициента удаленности
- мониторинг связи по всем участкам
  - подключиться ко всем шлюзам
  - считать все [Arm.mdb].[Stations][_ID] (добавить в ID IP адрес шлюза BridgeIP,BridgePort: 10.52.19.31,1010)
  - упростить DMntr так, чтобы можно было звлекать только то, что нужно без лишних справочников.
- инсталляция подслушек для Ирины Леонидовны
- Вывод диалоговых окон при срабатывании УКСПС, ДИСКИ, КТСМ в Управлении и АРМ ШН
- пунктирные линии на графике. Уметь описать их в БД. 
- ПОРЯДОК оформления графика от Багрова
- штрихование окон
- Бардак с РУ
- Почему-то на Краснодар - Кавказская подвисает передача данных из шлюза в АРМ ШН
  Проверить механизм квитирования, лажа может быть как в изменниях BridgeTcp, 
  так и ArmTools 
- разобраться откуда лезет отрицат.номер поезда. Завис

КБШ
- документировать формат примитивов
+- ПРОТОКОЛ
+ проблема больших участков
+ с панелью кнопок Управления есть проблемы
+ можно зафиксировать ширину панели кнопок 
+ привязать изменение положения кнопок МОНИТОРА к изменению размеров окна
+ обдумать вариант широкой левой панели МОНИТОРА 

+ ПКТБ ЦШ - отчет
-+Сураеву - по поводу состава сигналов ТС
- Уточнить тип коммутатора (на 2 устройства или 8 ?)?   и наличие мышей
+ Прожечь  ПО КП для ЮРЫ
  + подготовить CD-ROM
+ Подправить копирайт 2004 -> 2006
+ В случае отсутствия сетки плохо меняю длину съездов - лажа
+ Диалог несоответствия не должен включать название станции

+ Ответственная команда "ВКС". При получении контроля "ВКС" дать в меню команды 
  установки маршрутов приема Ч и Н. Думать...

+ команды разворота переона четверные на смежную станцию
+ ограничение индивид.перевода стрелок на участках Невы
+- возможность дать пролог и эпилог без тела команды - 
   можно давать, но оставить пустым поле битов, и учесть это в DStation::PutTuToFuffer()


- Негабаритный стык. Остается сигнал ТС, ненужный в транспаранте. НАДО УБИВАТЬ НЕ НУЖНЫЕ ИМЕНА ТС в ТРАНСПАРАНТАХ
- выравнивание по правому краю
+ генреация отростков на стрелках
- НДВ
- Аверкиев Сергей Аркадьевич (0912) 3-34-75
+ Информсвязь
+ Андрею список классов SHAPE
+ Подлипаеву чертежи и спецификации
+ Новожилову
+ нет индикаторов ОШ.ЭЦ
+ проверить выражения типа НКП[Беслан]&НСН[Беслан]
+ Светофоры Н31, Н32 - маршрутные, а не выходные 
+ проверку всех выражений и запись в файл протокола, в том числе и из БД !!!

+ после перемещения клавиатурой и выбора мышью - грязь
+ сетка
+ сортировка + UNDO - крах
+ лажа на тексте при смещении указателя с элемента на элемент вправо влево
- можно запоминать именованные группы в спец. карманы
- состыковка углов примитивов (магнит)

- описать транспарант ДУ, СУ
+ описать МОНИТОР DBG
- заблокировать ненужные опции


- В БД SAMPLE убрал заблокировал сообщения по Хадыженской

+ корректировка Arm32/Trains/Draw
+ корректировка БД Минводы - Прохладная, путь 10БП = путь

- Можно выполнить безопасную передачу, архивирование и воспроизвеение в новых версиях
  доп.информации, например данныз по РПЦ в DDataFromMonitor в блоке опций LenOptionsInfo
  Однако, это может быть как исключние, так как там нет разбивки по станциям.
  Более гибко учитывать возможность переменной длины блока данных по станции
  Все, что нужно - иметь возможность передать доп.инфу
+ График Краснодар - Кавказская
+ ЗАБЛОКИРОВТЬ ОРГАНЫ УПРАВЛЕНИЯ ДЛЯ ВСЕХ КНОПОК, КРОМЕ РОН/РОЧ для станций АУ

- Замечания Войникова
- УТОЧНИТЬ У РУСТАМА ИСПОЛЬЗОВАНИЕ вспомог.управления ВУ
  есть сомнение в строчке  if (!fBegEndRoute || Stn.GetTs("ВУ"))
  должно быть if (!fBegEndRoute && !Stn.GetTs("ВУ")) или if (!(fBegEndRoute || Stn.GetTs("ВУ")))

- При анализе справки 42 сейчас игнорируется номер, но это не правильно, так как
  имеет место изменение состава и новый состав вписывается в старый номер поезда
  Возможно, нужно проверять номер хотя бы тогда, когда имеем более одного поезда
- Есть предположение, что при нанесении пометок и предупреждений по КЛМ надо свернуть станцию
  Попробовать сделать это принудительно
- Графически выделять переезды с заграждениями
- обдумать предложения Прокопенко
- Каяла, Койсуг Батайскому ШЧ сбросить по СПД

- 30.01.2006. Себедахово. 19:57. Маршрут приема на 1АП,1БП не размыкается 
  при длинных поездах и я имею проблему с зависимостями
- ЛАЖА: не пишу в протокол ArmTools события с одинаковым временем 19:57:33
  поэтому не видно команды на отправление маршрута
- ЛАЖА: ArmTools грузит архив текущих суток 2 раза через RemoteLoader
- Откатать на отладке, почему не установился реальный маршрут отправления со 2 пути

- Рашиду: не вижу Батайск - Кавказская по RemoteExplorer
+ с 21.11.2005 не пишется архив ТС на Минводы - Прохладная
- обновить Армавир - Белореченская с учетом Андрее-Дмитриевской

- ТР сопряжения с Ebilock 950
- ТР с АПК ДК
- ТР с Крыловым
- обновления Рашида
- техусловия и задание на проектирование междорожных стыков
- КП2004
  - связь
  - СПОК
- КП2000 + многопортовая карта
- Предложение Войникова о показе на ГИД режимов работы станции (ДУ/АУ/РУ, АДН/АДЧ)
- НДВ


- ИНСТАЛЛЯТОР
  - Имею Лажовые БД на Кавказская - Овечка  - BridgeTcp.ini - настройка СПД
  - обновить GidUral
  - разобраться с включением службы фаервола в сервере
  - сетевые адаптеры нумеруются в обратном порядке ???
  - не запускается InstallTimeDnc на 2000 из-за отсутсвия консольной биб-ки
  - при инсталляции задания на голую машину оно создается от старого имени ПК
    если нет возможности задать явно, сделать после перезагрузки
  - включить уч.запись гостя 
- обновить monitor.ini Беслановский




- Почему пишем "Потеря контроля стрелки" на станции ДУ если дали команду на перевод ?
- реализовать двойной alias по Беслану
- реализовать подгрузку НСИ для АРМ ШН и Графика
- реализовать интеллектуальный RemoteLoader с ключами:
  - -y - перезаписать без вопросов
  - -r - переписать каталог файлов
  - -u - переписать обновленные файлы или каталоги
  - -t - выдавать запрос, если требуется обновление НСИ


- прописать для подслушек номер станции и RAS-PORT, сделать универсальный механизм
  - например  1[1050]  1[1051]
- брать номер перегона для слепых перегонов не из станции, а непосредственно с РЦ
  тогда уйдет весь геморой с логикой odd/even
- продумать как быть с номерами поездов на псевдонимах при развилках типа Котляревская-Муртазово,
  Котляревская-Докшукино
- в Гид-Урал иметь скринсейвер (таймер, "гасящий" отображение ТС, если нет обращений более N минут)

- Сделать в УПРАВЛЕНИИ рекурсию синонимов, чтобы обработать тройные станции
- Добиться прорисовки ниток по всем участкам.

+ инсталляция тренажера изменяет второй октет IP адреса ДСП
+ инсталляция тренажера выдает ошибку при вызове системного диалога изменения размера шрифта
+ для инсталляции InstallTime не хватает msvcp60.dll

ГИД УРАЛ
+ контролировать отсутствие приема от клиента более 5 сек, после чего делать тестовую передачу
+ расширить диалог с учетом разрешения 1024*768, мелкий шрифт
- мониторинг на удаленном раб.месте с выдачей звукового сопровождения
- откорректировать документацию
- сделать инсталлятор
- сделать акт передачи ПО и документации

Тренажер:
  + на ДСП надо либо блокировать, либо имитировать или добавить команды ДЕНЬ/НОЧЬ, ДСН, и т.д.
  - возможно, надо дать отдельно доступ к ТРА
  - надо заблокировать управление станциями АУ от диспетчера и, возможно, научиться перереводу ДУ/АУ
  - надо сделать аккуратный инсталлятор. Привязываемся к слову "Тренажер"
    - сетевые имена, IP адреса
    -- можно установить MSDE
    - ТРА безусловно
  - можно убрать сообщение работа с БПДК отключена
  + заградительная сигнализация на переезде Тихорецкой не нужна
  - Схема логических соединений тренажера
  - Документация

- КП2004 
  - переключение задач в1-2 мсек
  - скорость загрузки

- купить ПК
  - чтобы можно было вставить PCI video Matrox
  - 256 ОЗУ, >= 40Gb, P4, LAN, Sound, CD-ROM
  - Мышь опто, Клавиатура, Колонки
  - 3 17' ЖК монитора 1280 * 1024
  - 2 видеокарты PCI >= 64 Мб (можно 32)
- ПО
- Альтернативный GidUralPlugin. Задолбал

- Со слов Рашида. Управление не запускается, если кем-то открыта БД
+ Изменил BlackBox так, чтобы он не блокировал Arm.mdb
+ Изменил ShapeDnc,так, чтобы он не блокировал Arm.mdb
+ В GidUralPlugin встроить SingleInstance

+ Ввел проверку валидности номера перегона в функциях взять с перегона в SprRc_.cpp
  (Почему-то на Беслановском пытаюсь взять с нулевого перегна; смотри БД)
- Беку можно рисовать номера модемов на Табло_ серым или зеленым цветом
+ 26.08.2005. Ввел PastelColor для занятых отключенных РЦ (Segment,Angle)
              Откорректировал ShpTransp в части транспаранта Working
	      Наметил возможность динамического выключения сигналов, стрелок, путей, перегонов
	      Надо реализовать диалог. Можно сделать Property, но боюсь будет лажа со шрифтами
- колпачки, запрещающие отправление на перегон в горловине; возможно, колпачки на стрелки
  23.09.2005. Есть неприятность: я сейчас не блокирую прием на локированный путь, поэтому
              выключение пути в диалоге не дает нужного эффекта. Надо либо блокировать установку маршрута
              либо использовать другое чвойство LOCK


- В принципе, я имею плюху в механизме необрамленной идентификации клиента по TCP
  СЕРВЕРЫ: - МОНИТОР 	для ТАБЛО,АРМ ШН,ШЛЮЗА
	   - МОНИТОР 	для ГРАФИКА
	   - ШЛЮЗ АСОУП для ГРАФИКА
	   - ШЛЮЗ СПД 	для клиентов
   Возникает в след.случае: клиент подключается и передает идентификатор и сразу за тем данные, 
   данные "сливаются" и квитанция на первый пакет не приходит. 
   В результате клиент разрывает соединение, коннектится еще раз, и так далее


- Можно сделать сервис, который будет выполнять мониторинг приложений
  - контроль наличия и запуск в случае отсутствия
  - контроль зависания и перезапуск

- Можно сделать сервис, предоставляющий Ремоутинг механизм для записи
  - У Андрея запускаем как сервис ремоутинг-сервер, который предоставляет ремоутинг
    для записи в файлы
  - На шлюзах пишем сервис, который пишет файл, созданный GidUral через ремоутинг на сервис
  - Дешево и красиво
  - Существующее приложение вырождается в смотрелку файлов при необходимости

+- доклады на круглый стол
- Если станция не отвечает, в архиве она не сереет. Хотя данные для этого есть: есть
  время архивной записи, и есть время опроса КП. СДЕЛАТЬ
  См. DStation::IsTsExpire()

+ Запретить включение контроля по ЧДК для слепых перегонов
+ Сервер ГИД УРАЛ. 
  15.08.2005. Подвис сервер. Лог в файле c:\AllSave\ОБМЕН\Log.txt
  Долговский шлюз работал. Вылечилось перезагрузкой всего сервера
  Надо проанализировать возможные нюансы при ошибках записи
  Надо проанализировать 
  - виснет при открытии протокола

+ ArmTools. Удаленная подгрузка БД BlackBox.mdb из меню


+- Доделать инсталлятор:
  + настройка фаервола
  + настройка синхронизации времени
- Обновить диск инсталляции ПО по всем участкам с 
  - новыми базами, 
  - обновленными INI-файлами
  - новыми EXE файлами и 
  - скорректированными ArmRt.mdb в соответствии с SQL.Config
  - воткнуть синхронизацию времени в инсталлятор
- добавить в инсталлятор установку SP1 для MS Windows Server 2003

+- сделать инсталлятор удаленного АРМ ШН с выбором участка. 

- Уметь работать с двумя ОМУЛами на одной станции
  - Arm.mdb.Station.Config - адрес ОМУЛА, станция с двумя ОМУЛАМИ имеет 2 смежных адреса
  - Arm.mdb.TuSpok - номер команды для второго ОМУЛА начинается с 20, таким образом,
            номер команды содержит номер ОМУЛА и номер команды
  - MONITOR.exe определяет адрес станции и номер команды с учетом вышесказанного
  - MONITOR.exe понимает, что на станции 2 ОМУЛА
  - MONITOR.exe упаковывает данные для двух ОМУЛОв в одну станцию
  - KP2000.exe умеет работать с многопортовой картой и имеет DIP настройки, чтобы знать, надо ли это делать
  - KP2000.exe раcпознает номер ОМУЛа и работает с соответствующим COM-портом
    


- Передача окон в ОСКАР из GidMsg используя TimeModified
- Рустаму. Сделать свежую БД Кавказская - Овечка включительно
  - формируем БД
  - со стороны Овечки даем для обмена вход по неч.приближению
  - со стороны Коноково оставляем перегон
  - проверяем ГИД, Krugs, 
- макет КП в Ростове 

+ На сервере Хошафяна есть (Install\OS) корпоративная версия Windows XP SP2 Rus. Взять.
+ info@sant.samara.ru
+ комм.предложение
+ ГИД по ПРОХЛАДНОЙ
+ 2048-1042
+ ОСКАР
+ Пройтись по 2048 сообщениям. Как бы не было у меня там конфликтов с ЦУМР
  и т.п. Как включить передачу, как проконтролировать
- не плюсует поезда 830,644 - видимо считает непассажирскими
+ документация Белореченская - Туапсе
+ документация Батайск - Кавказская (Сосыка)
  Тестовая документация (описание тестов и испытаний, описание результатов тестирования и т.д.)
Кирилл Полозов. 101 02 25

21.06.2005
  - колпачки, запрещающие отправление на перегон в горловине; возможно, колпачки на стрелки
  - упоры (УТС) на Невинномысской
  + прозрачная загрузка архивных файлов с помощью RemoteExplorer

- комплексные задачи:
  1.Создание шлюзовых серверов, реплицирующих данные основных серверов в СПД
  2.Создание объединенной БД и единого доступа к информации  
    ПОДСЛУШКА: 	один порт, один адрес, каждый клиент запрашивает свой участок и вперед
    ГРАФИК:	одна БД, в которую попадают сообщения ото всех участков.
		Идея: 1) создаем единую систему классификации (НСИ)
		      2) создаем алгоритм маппирования частной информации в общую
		      3) 
		      4) ставим триггеры на добавление, изменение, удаление в базовых таблицах:
			- Trains, Windows, CarrOff...
		      5) выполняем обновление единой БД по этим сообщениям 

- смена состава и машиниста
- В названии ГИД давать две даты с переходом для ночной смены
- Расширить поле для ДНЦ
- Диалог обмена по стыкам развить, иметь порожнюю груженую части, 
  а также раскладку на : Чертково, и т.п.
- Войников 15.03.2005. Накладываются предупреждения на брошенные
- Перегон КОНОКОВО - ОВЕЧКА - на ГИД
- Можно дать пометку в месте бросания поезда для свернутых станций. Красиво !
- -----  ТРА  через шлюз с сервера ТРА  ------
- СМЕНА ЛОКОМОТИВОВ, МАШИНИСТОВ, СОСТАВА НЕ ОТСЛЕЖИВАЮТСЯ
--- отслеживать смену машиниста
- зависла по Бештау проверка зависимостей
- досовская версия arj не работает (не вызывается средствами ArmTools)
- прописать автоответ для Лихой
- по Овечке - прием - сразу по приему, сдача - по отпр. с Овечки на Коноково
- Нужно внести пометки к поездам на сортировочных станциях:
  1. Предъявлен, 2. Обработан, 3. Дан локомотив, 4. Отцеплен брак, 5. <Центра> в поезде и т.д.
- По Станции МинВоды ввиду работы на вытяжке №25 разборочные поезда
  вытягивают на четный путь, а получается, что поезда отправляются и от этого «страдает» участковая
  скорость.
- добавить перегон Прохладная - Баксан
- расширить перегон Овечка - Коноково
- Посмотреть перегонные времена хода, есть претензии
- проверить окно по нескольким путям на Беслане
- Невинка. Четные рвутся при заходе на 4-16 пути
- Пятигорск. Рвутся четные грузовые
- сохранение поездов на слепых перегонах точно так, как на РЦ для перезагрузки
- уметь рисовать английские стрелки
- прием, архивирование, бэкапирование ТС обязано быть сервисом.
  причем, дублированным на станции связи и сервере. Тогда можно входить-выходить из АrmTools

- Уметь генерить инсталлятор для экспертизы - без ТРА, без MSDE
- ArmTools При перемещении назад через границу часа не подкачивает нужный файл, 
  а берет то, что есть в TEMP 
- УМНАЯ СТАНЦИЯ СВЯЗИ
  -Если нет коннекта > 3 мин. на крайней станции, а есть коннект на станции сязи -
   разорвать станцию связи
  -Если нет коннекта > 3 мин. на станции связи, а есть коннект на крайней станции - 
   перезапустить станцию связи
  -Если > 3 мин. имеем несоответствие коннектов на смежных станциях - перезапустить 
   станцию с показаниями полного коннекта. ИЛИ иметь команду принудительного разрыва
   соединения в заданном или "ПРОТИВОПОЛОЖНОМ" направлении
- кто пишет индексы 123 3456 6789 в протокол ? 
  как поезда получили один номер на минераловодском ?
  возможно - при вводе индекса в графике ?
- как будет передаваться с 3-х Кавказских ? Тоже с Тихорецкой. Проблема единого ESR
- встроить более устойчивый разбор DataFromMonitor, чтобы было можно читать узкий набор станций в широком,
  иначе падаем при включении доп.станций, напр. прослушки
 - новая версия tcp_cli от Свердлова
- 10.52.20.21 wclient - ОСКАР (о сколько нам открытий чудных)
  Возникает проблема организации шлюзового взаимодействия
  а-ля Сириус 
  Есть: -сервер
        -шлюзовое ПО, принимающее справки, это может быть и AsoupSvr
	-система справок
  Либо: каждый SQL сервер обновляет свою внутреннюю БД, а АРМ ДНЦ ее юзает +++
        Механизм определяется технологией, то есть тем, что можем взять и обработать
  
- выделенный сервер.
- 1) FTP
  2) Web на нестандартном порту - Архивы инсталляций

- Сделать регистрацию имени, совпадающего с именем станции связи РСС, принимать
  на него данные и отображать их
- Отображать то, что передал
- ПЕРЕДЕЛАТЬ НА ВСЕХ УРОВНЯХ ПЕРЕДАЧУ НЕОБРАМЛЕННЫХ ДАННЫХ
- подработать TraViewer, чтобы избавиться от необходимости чтения Arm32 и настроек из реестра
- не надо по умолчанию скрывать брошенные
- подготовить подслушку Табло и ГИД
- сделать класс телеобработки
- откатать netbios
- вооружиться средствами работы с netbios
- не может ли возникать путаница в работе Proxy (имеем прием на адрес ТУ блоков ТС, а на адрес ТС
  блоков ТУ)


+ И как же отловить сообщение TaskbarCreate?
  Зарегетрировать это сообщение вот таким макаром
  const UINT WM_TASKBARCREATED = ::RegisterWindowMessage(_T("TaskbarCreated"));

Можно в одном сервисе на шлюзе совместить несколько функций 
 + информация о дисках, файлах и загрузка
 - информация о процессах
 - информация о ресурсах 

Кавказская - Овечка:
ОТК: Сменить тип на МРШ:  Н3,Н4,Н5, Ч7,Ч9,Ч11
ОТК: УБРАТЬ КЛМ: 1АП

+ подготовиться к комиссии по подсистеме
+ передать Демьяненко данные по Кавказской

+ Во время выполнения ответственных команд СТР, ОСТР, надо 
  заполнить вспомогательный списоком всех команд управления стрелками .ВК
- выяснить, какой ТС контролирует собственно выполнение ответсвенных команд СТР/ОСТР,
  чтобы встроить в логику разблокирования кнопки  

- По Черноярской херово нумеруются четные поезда

+ ПОДГОТОВИТЬСЯ К ПЕРЕДАЧЕ ДАННЫХ ПО КАЯЛЕ В БАТАЙСК
+ Если все станции отключены, СТАНЦИЯ СВЯЗИ дохнет позорным образом
+ При печати брошенных сделать логику как и при просмотре: - если нет пути - игнорировать !!

- при отсутствии диагонали МОНИТОР блеклый, а АРМTOOLS и ТАБЛО нет ПО МИНВОДЫ-ПРОХАДНАЯ
  есть подозрение, что это на удаленном рабочем месте без контроля времени
+ Проверить БЭКАПЫ
+ Забрать БД СТАВРОПОЛЬСКУЮ
+ профилактика
+- Обновить подслушки всем
+- среднюю скорость по Прохладной
+ БД на 11 участок и ДежПоОтд с печатью приложений и к.хода
  СВЕРИТЬ развернутые станции
+ Новый Arm32 на 11,16,12

Что делать в МинВодах:
 +- UPDATE3 для основных и резервных БД
 +- БД 12 и 13 участков
 +- DbSynch
 +- новый Arm32.exe
 - ИСПРАВИТЬ: На Невинномысском в приложении к графику печатает поезда отправленные из МинВод на Прохладную.
 - опробовать новые фичи
   +- печать 13-го на 2-х листах
   - регистрация
   +- печать доп.приложений
   +- обмен пометками
   +- удаление машинистов, локомотивов

Изменения в Управлении
  + введена опция меню Сервис -> Протокол составных команд ТУ
  + введена опция LOGALLTU=ON или OFF настроечного файла monitor.ini
    НАЗНАЧЕНИЕ: включить/отключить запись в протокол элементарных команд телеуправления

  + введена опция меню Параметры -> Автоматически разворачивать перегон  при отправлении
  + введена опция AUTOPEREGON=ON или OFF настроечного файла monitor.ini
    НАЗНАЧЕНИЕ: включить/отключить функцию авторазворота перегона при установке маршрута
    Если опция отключена, и при установке маршрута требуется перевод, система будет выдавать предупреждение
    и выполнять команду
    Если опция включена, система выдает команду смены направления и контролирует ее исполнение в течении 15 сек.
    Если перегон не развернулся - выдается предупреждение, и далее выдаются команды на установку маршрута
+ Добавить перегон Стодеревская - Ищерская
+ печать брошенных на принтер вместе с ГИД
+ печать предупреждений вместе с ГИД
+ печать пометок вместе с ГИД
----------------  добавить в список таблиц: строки: "Брошенные вагоны", "Предупреждения", "Пометки" ----------------

+ доделать ДСЦ - заполнять список ДСЦ, читать запись и анализировать, 
  уметь работать без этой строки в БД (новые exe-шники должны работать в старой БД)

-+ По Беслану имеем разные станции, но ПОМЕТКИ И ОКНА ДОЛЖНЫ ОТОБРАЖАТЬСЯ И ТАМ И ТАМ !!!
  Можно красиво решить проблему через DBsync
  ОПРОБОВАТЬ !
+ На графике Беслановском не нужны пути: Муртазово 5 путь, Колонка 5 путь, Докшукино 5 путь
- Планирование по Беслану не работает. Судя по всему, не находим в министерском поезде ничего 
  близкого по расписанию

+ Возможность удаления лишних локомотивов и машинистов из Arm32
+ по Прохладной и Беслану хотят писать ДСП, ДСЦ, ТЧД, ВЧД. Как вариант, можно предложить писать через запятую
+ На Невинномысском - добавить время контрольного хода
+- нельзя вписать машиниста, если его нет в справке
+- ОБМЕН ПОМЕТКАМИ МЕЖДУ УЧАСТКАМИ ПО СТЫКОВЫМ СТАНЦИЯМ
+ проверить отмену предупреждений

-+ Прохладненский на 2 листа, Прохладная на обоих. 
  Вчерне есть. Но если надо фильтровать поезда, придется встраивать отсечение в рисовании
+ На Прохладненском не обсчитывает участковую скорость за смену
+- Продумай пометки у Прохладненского и Невинномысского диспетчера совмещение, 
  а так же у Прохладненского и Беслановского.
+- МинВоды-Прохладная. Нумерация нечётных поездов по прибытию в Мин-Воды ставит не на нитке графика. 

+ убрать кисловодские поезда
+ нумерацию - по отправлению (четные - МинВоды-Виногр)
+ Разбить приложение на 2 группы
+ длинные имена локомотивов
+ нет Нальчика в регистрации
+ поднятые брошенные видны в регистрации смены. При регистрации надо инициализировать
  чтение брошенных с другим временем - временем начала смены

- не гаснет изображение станции на ArmTools при отсутствии контроля у ДНЦ. Это плохо
+ ВНЕСТИ Default = NULL для времени подъема брошенных В СКРИПТ UPDATE3 и СКРИПТ ГЕНЕРАЦИИ

+ Раздвинуть Осетиновская - Стодеревская
+ текст разовых окон не прорисовываются при сдвиге ГИД слева
+ подключиться и опробовать сохранение номеров
  можно внести в лог временные характеристики (время занятия РЦ)
  чтобы не обнулять время для "брошенных поездов"
+ Поменять шапки приложений Мин-Прох, Ард - Алагир
+ Стодеревская - стыковая
+ Наименование участка ГИД на ГИД и Приложении
+ По Прохладной дать несколько путей для подвязок локомотивов,
+ Добавить 35 путь по Беслану
- отключать лог BridgeTcp
+ прописать автоответы для Тимашевской
+ Изменить код пункта запроса
+ ВО ВСЕХ БАЗАХ НАДО УБРАТЬ ЗНАЧЕНИЕ ПО УМОЛЧАНИЮ now() ДЛЯ ПОДЪЕМА БРОШЕННЫХ
+ ВКЛЮЧАЯ РЕЗЕРВ
+ ТОЛЩИНА ПРЕДУПРЕЖДЕНИЙ - ГИБКО, привязать к пикселам и сделать настройки
+ проверить архив на всех участках, в т.ч. Кавк-Овечка
+ сделать учетные записи ШН либо с паролем
+-Алгоритм обнаружения логики проследования дырявый. 
+- Не ловит пропуск первой РЦ
+- Если занимаем через одну, но с освобождением предыдущей - тоже не ловит
+ ЧТЕНИЕ СПРАВКИ В АРХИВЕ
Замечания по ГИД от Войникова:
- Владикавказ и Нальчик - хотят только грузовые парки...
+ Апполонская - при раскрытии путей нечетные поезда - по неправильному пути
+ по Прохладной добавить пути сортировочного парка 27,28,29
+ по Георгиевску поменять порядок путей

ИЗМЕНЕНИЯ:
- ПЯТИГОРСК, маршрут приема на 4 путь оканчивается не путем, а 13СП
- Прохладная - МинВоды
   - 13. Arm.mdb. ListOfTables, AppTblColmns
   - 12. Arm.mdb. ListOfTables (Слепцовская),AppTblColmns
   - 11. Arm.mdb. Убрал стрелки 11,13,15 по Бештау
+- лажа при печати беслановского ГИД
+- Войников просит добавить поле "время контрольного хода" в разложение и Приложение к ГИД
  вводить вручную
  +- раскрыть МинВоды,Георг, Прохл, Моздок
  +- добавить Приближний
  +- Моздок плохо идем по 1АП
+ не работает сохранение номеров. Отладить
+ добавить в приложении брошенные поезда
В РОСТОВЕ:
  + комиссия
  + Войников
 
  - разрешение на подключение к ТРА
  - заменить везде arj.exe на DOS вариант

+ найти нормативы для подсистемы логич.контроля
+ выделить несоответствие зависимостей
+ смягчить блокировку АСОУП. Периодически (раз в час) открывать
  - установить новый ГРАФИК на Краснодарском отделении

+ организовать сервер времени - системный или по Рихтеру
  поставить себе Оскар и изучить
+ net time \\Andrey /set /yes
+- не передает ТС по МинВоды-Ищерская в ГИД УРАЛ
+ СИНХРОНИЗАЦИЯ ВРЕМЕНИ И ИНСТАЛЛЯТОР ЕГО
+ СОХРАНЕНИЕ НОМЕРОВ ПРИ ПЕРЕЗАГРУЗКЕ УПРАВЛЕНИЯ
+ Устранен глюк сохранения имени станции в диалоге ТС при смене станции
+ ОТКОРРЕКТИРОВАТЬ ФОРМУЛЯР ПО ПМИ
+ ОТКОРРЕКТИРОВАТЬ ARM32 до отправки ДИАСАМИДЗЕ с учетом rctsset.cpp
- что-то не то по Краснодар-Кавказская
 -------------------------------------------------------------------------------------------------
Изменения в исх. БД
  Б-К.	Добавил 3 пути (2ГП, 3ГП, 4ГП, косвенно привязал к 26СП, 28СП и стрелкам, дал КЛМ и признак 
        передачи
	БЕКУ: графы ALIAS и TimeRemoveNo должны быть ПУСТЫМИ !!!
-------------------------------------------------------------------------------------------------

- откуда лезет сообщение о нехватке параметров в РЦ ? (см.БД Ставрополя)
- ОТКОРРЕКТИРОВАТЬ ЯРЛЫКИ,АВТОЗАГРУЗКУ и 
+ сделать автогенерацию смены в ГИД, иначе будет лажа
+- Все таки SendToAllCliens - плохая функция
+ Развязать передачу в сеть с приемом от телеобработки. 
+ AsoupSvr падает, если получакм сообщение, а абонентов шлзов нет в uset.net
+- министерский график по Кав - овечка лажа...
------------------------------------------------------------------------------------------------
+- Не передавать неактуальные сообщения 5001 (старые)
+- При получении кода проследования не посылать отправление
------------------------------------------------------------------------------------------------
+ протестировать net time
+ подготовить изменения в БД для каждого участка
  СТЫКИ: Батайск - Кавказская
		+05. Arm.mdb TS:5ГП		(Кавказская)		есть в наличии
		+02. Arm.mdb TS:5ГП		(Кавказская)		есть в наличии
	 Кавказская-Овечка
		+02. Arm.mdb TS:Т14Н  Msg5002:Т11Ч (Коноково/Овечка)	есть в наличии
		+11. Arm.mdb TS:Т11Ч  Msg5002:Т14Н (Коноково/Овечка)	есть в наличии
	 Овечка-МинВоды-Кисловодск
		+11. Arm.mdb TS:7АП,1ГП,2ГП	(МинВоды)		есть в наличии
			+13. Arm.mdb TS:НП2		(МинВоды)		есть в наличии
		 МинВоды-Прохладная - Ищерская
			+13. Arm.mdb TS:ЧП2		(Прохладная)		есть в наличии
		-12. Arm.mdb TS:НБП2,НБП1	(Прохладная)		нет
	 Прохладная - Беслан
+ встроить запрос временных меток в шлюз АСОУП
+ защита от дублирования 5002 сообщений
+ защита от несвоевременных  сообщений
+- проверить блокировку множественной передачи сообщений
+- убедиться, что при отсутствии связи с АСОУП будут идти сообщения в АРМ ДСП
+- херово индицируется в диалоге АСОУП наличие связи со Шлюзом в ГИД (желтый цвет)
+ подготовить просмотр архива для Михаила
+ обработку этого сообщения в ARM32 также можно фиксировать в БД
+ почему-то 5002 сообщение попадает в статистику АСОУП и не пишется в БД
+ Не передавать 5002 себе!
+ Как-то более гибко отличать шлюзовые машины (иметь опцию)
+ опционирование передачи незарегистрированных номеров  [Arm32]SENDARMDSPNOREGTRAINS=ON
+ разобраться с путями
+ опционирование логов по типам
  LOGTS5001=ON
  LOGASOUP=ON
+ более четко разобраться с именами, адресациями и прочее
К МОСКВЕ:
 + координаты и телефоны Карпова, ЛОЭТЗ
 + переписку с Карповым, его документы, мои документы по РПЦ
 + переписку с Диасамидзе
 + дистрибутивы для Диасамидзе
 + комплект документов для Диасамидзе
+ Проверить передачу из ГИД в АРМ ДСП в SQL версии
+ Опционировать ЭХО-ТУ на прокси-Сетунь
+ ОСТРИКОВУ ПЕРЕДАТЬ КОНТРОЛЬНУЮ СУММУ
+ Армавир - Белореченская, откатать ГИД по ТС
+ ИНСТАЛЛЯТОР вставить создание c:\backup
+ ИНСТАЛЛЯТОР генерить базы по запросу
+ проверить комплектацию Тим-9км
+ ГИД по ТИМАШЕВСКОЙ-9км
+ синхронизация времени с сервером времени и по кругам
+ Добавить ТРА в инсталляции (копировать, если АРМ ДНЦ)
+ ВПИСАТЬ КАРТИНКИ С АРМАВИР_БЕЛОРЕЧЕНСКАЯ СО СТАНЦИИ СВЯЗИ

- доделать инсталлятор 
  + формирование задания
  - инсталляция UPDATE
  - активизация фаервола
+ КП КРУГ. Передача данных федорчукам из опроса !!!
+ не генерится номер по Сосыке
+ по Кавказской-4 и Тихорецкой генерится в обратном направлении
+ спецификации с Андреем
+ связаться с Зубковым
+ проехать в Ростов 
+ отправлять сообщения в CENTR на имя 207. А как это сделть, интересно ?

- БЕКУ и В РОСТОВ. 
    Мирская. ЧДП не связана с 14-18СП (12/14+)
             ЧП  не связана с 6СП 

ТРЕНАЖЕР
+ ввести фиктивные контроли по Кавказской-4 и задействовать их, в том числе по убиванию поездов
- не убиваются поезда на краевых РЦ
- не генерятся поезда
- отключить перевод стрелок и сигналов принудительно
- не работает TRAVIEWER
+ переделать или убрать панель кнопок
+ ИМИТАЦИЯ ОТМЕНЫ МАРШРУТА ДЛЯ СТАНЦИЙ АУ
+ Тихорецкая отправление от ЧПО (с 1МП) не работает из меню
+ Тихорецкая-2 - отпр.с 1АП на Тихонький не работает из меню
+ не рисовать переезды или убрать их

- из дома фото КП в Пятигорске


- СЕРВЕР АСУ ЖС FTP SERVER.  10.51.10.109  user:5100 pwd: 5100 Папка public\НОД3\DC-UG\

+ ВЫДЕЛИТЬ БАЗУ INSTALL.MDB
- Windows 2003 resource kit
- Samples


- винпоцетин
- Андрею: убедиться, что стоит все из апгрейда1 и дополнить скрипт
  выпонением FixVersion.sql
- БЕКУ: Алагир, Дарг-Кох[А] - первернуть клм, внести РЦ по моей новой БД
        Все что с КП - круг 1
        Контроль станций круга 1: 1 2 3 5 7 8 11 13 14  19 20 22 23 24
        Везде вставлять таблицу Install
	Номера рис и кнопок - взять от меня

- БЕСЛАНОВСКИЙ без бумаги (приложения, качество ТС)
- развернуть пути при печати: Беслан, Котляревская, Нальчик
- Хотят видеть на разных страницах уходящие поезда (хотя бы засечки)
- Добавить ПРИБЛИЖНИЙ
- Развернуть пути по Прохладной ? 
- допроверить на предмет работы с Access2000
- Нельзя дать номер при отправлении с Кисловодска - сбрасывается,
  надо увязать логику удаления номеров с направлением в базе данных
- Непонятное влияние настроек задержек на работу Модема,
  зависание при разрыве. Какой-то глюк...

- Почему только по Ставропольскому участку такая хрень с SetLinkRc ?
+- прием и обработка сообщений от АРМ ДСП

  - СИНХРОНИЗАЦИЯ ВРЕМЕНИ ПО КРУГАМ
  - ОБЩИЙ ОБМЕН ПО СТЫКАМ
  - РАБОТА С АСОУП И ОСКАР
  - ИСТОРИЯ ПОЕЗДА, разный состав, локомотивы в приложениях по направлениям

  - Не обязательно министерский читать каждый раз, можно дать принудительное 
    обновление по запросу
  - Удаление поездов при нехватке места в справочниках,
    либо сброс опции показа по путям
  - NULL в SaveInfoBD
  - Факт прибытия на станцию надо бы корректировать при полном освобождении горловин станции 
    поездом, а не просто по занятию пути станции (можно генерить дополнительное событие и
    передавать в ГИД)
  - при прокладывании поезда логично предлагать в меню ближайший из министерского,
    возможно, с временем тоже из министерского. Можно сделать критерием +- 5 минут
  - LISTOFTABLE - Белоореченская-Туапсе

-  АРМ ДСП. передача сообщений по ГИД , надо гибко дорешать вопросы с лишней 
   оскаровской фильтрацией, генерацией фиктивного индекса, обработкой в AsoupSvr и т.д.
- тренажер для участка БАТАЙСК - КАВКАЗСКАЯ:
  - имитационный вариант срабатывания устройств УКСПС, САУТ и т.д.
- подтянуть старые справки из АСОУП


Галигузов Сергей Николаевич, сот. 843-3786814
=============================== ЮРЦУП ==================================
- см. ГИД от Войникова
- Хранить историю РПС по поездам (думать, иметь несколько записей в БД)
- На Прохладненском развернуть Георгиевск, Прохладную, Моздок
- На Беслановском - Котляревскую, Беслан, Нальчик
- Уход на Беслан с Прохладной показывать на ГИД
- Есть претензии к простановке номеров на перегонах на коротких поездах на Беслановском участке
- ГРАФИК    Отправление по Кисловодску дать без задержек
- ГРАФИК    при переполнении трассы - убивать незарег.поезда
- ГРАФИК    Ошибки записи в БД (см.архив BlackBox.mdb) в (Personal,Locom)

- Тестовый модуль для Федорчука. Думать о реализации в КП
- Документация
- Учет заданного перегонного времени хода в планировании и прокладке ниток 
  (с учетом времени разгона и замедления при движении с остановками)
- Уметь красить спец.цветом отдельные поезда
- Уметь давать пунктиры, крестики, и т.п. (см.инструкцию)
- СТ.СВЯЗИ  есть подозрение, что станция связи не ловит подключение монитора
- иногда теряем иконки в трее, тогда приложение не видно вообще, а оно живое. ЛАЖА
- УПРАВЛЕНИЕ при подслушке МинВод, Прохладной с других участков - игнорировать время более гибко
- УПРАВЛЕНИЕ проследить сообщения о потере-восстан.связи
- УПРАВЛЕНИЕ как время могло уложить систему ?
- УПРАВЛЕНИЕ разобрать по косточкам и упорядочить работу с подслушкой
  исключить монополизацию
- АРМ ШН, УПРАВЛЕНИЕ какого хера рисую КП в ArmTools
- ШЛЮЗ BridgeTcp с квитированием, даже если это шлюз. Убедиться, что УПРАВЛЕНИЕ отсылает квитанцию
- ШЛЮЗ задолбали плохие клиенты шлюза. Ввести ограничение передачи по времени
  можно дать 10 сек для большинства клиентов
- ШЛЮЗ надо увеличить допустимое время паузы, особенно для удаленных клиентов
- ШЛЮЗ надо установить нового клиента ВЕЗДЕ, убедиться в квитировании,
  и распараллеливать на месте в МинВодах


- ШЛЮЗ АСОУП - дать время приема-передачи справок


-ИНДЮК: Отправление нечетного со 2 пути
       	PathFrom=4СП
	Path=
	РЦ=ЧПСП 2СП 4СП
-НИКОЛЕНКОВО: 
	Убрать из нечетной стрелки  !КЗПЧ[Кабардинская]
- Проверить аналогично по Куринскому
- расширить поля [Arm.mdb][Peregon][Dir1odd],[Dir2odd] до 80 символов
- добавиь поля   [Arm.mdb][RouteSrc][PrgTsExpr],[PrgTu]
-КАБАРДИНСКАЯ, ХАДЫЖЕНСКАЯ - перенести ТС и ТУ разворота перегона
-КАБАРДИНСКАЯ - Откорректировать названия маршрутов (убрать НА)

+ отмена запомненных маршрутов традиционным способом со светофора
+ при отмене основного маршрута надо активизировать очередной маршрут
+ Бештау - Лермонтовская, неправ.путь не рисует на ГИД
+ Невинка - Киан неправ.путь не рисует на ГИД при раскрытии станций
+ Электричкм участка Бештау - Железноводск не архивируются
+ Вылезла какая-то пурга по несоответствию зависимостей при проходе маршрутов. 
  (превышено время перекрытия сишгала) ПРОВЕРЯТЬ ВСЕ !
+ при задании маршрутов на ЭЦ с маршрутным набором, возникает сообщение
  о восстановлении контроля стрелки. Это неверно, так как стрелка должна быть переведена!

+ НАКОПЛЕНИЕ МАРШРУТОВ ГРАМОТНОЕ !!!
+ Плохо отрабатывается враждебность, если трасса желтая учитывается только направление
+ Автоматический разворот перегона при задании маршрута

======================================================================================================
  - Печать пометок можно сделать из общего диалога печати, передавая туда
   заданный интервал (т.о. диалог пометок будет открываться после печатти ГИД и приложений,
   а в идеале, окрываться и выходить на диалог печати)
======================================================================================================

Юре и Шахову: схемы КП, модулей ТУ/ТС, МКУ, занятия
Мне: - документация по сертификации и изменения по подсистеме
     + Создавать папку Rss автоматом в ProxySetun
     + Давать команду "ОТМЕНА МАРШРУТА" вместо закрытия светофора
БЕКУ
 - стрелки на рисунках смежных станций 
 - связи РЦ с Николенково
 - убрать лишние перегоны
 - убрать надписи НА СТАНЦИЮ/СО СТАНЦИИ в описании маршрутов
 - убрать сквозные маршруты по причине неработоспособности
 - транспаранты СУ для совместимости с другими станциями; по хорошему, надо бы переименовать
   ТУ СУ в СУ.ВК на других станциях, чтобы работала кнопка СУ


скорые пассажирские поезда круглогодичного назначения, ранее имевшие номера с 1 по 100, 
получили номера с 1 по 148. Скорым пассажирским поездам сезонного (прежнее название – летнего) 
назначения присваиваются номера с 201 по 298 (ранее – с 101 по 150). 
Кроме того, своя нумерация введена для скоростных поездов – с 151 по 169 номер. 

======================================================================================================
Проблемы организации сложных участков
 - деление на страницы представления
 - деление на подучастки в этих листах
 - ветвление при прокладывании ниток надо делать интеллектуальным: от Котляревской вниз 2 перегона, 
   а может быть и больше...
======================================================================================================
+ подвисание станции связи при нажатии CANCEL в диалоге параметров

------------------------------------------------------------------------------------------------------
				  ИЗМЕНЕНИЕ ФОРМАТОВ, СТРУКТУРЫ БД и т.п.
 - поле [Arm.mdb][Stations][ShortName] - длина поля увеличина с 4 до 8, следовательно, меняется 
					размер этого поля в [SQL Server][Stations]
 -      [Arm.mdb][TS]      [Alias]		- текстовое, длина 32 байта - перенаправление сообщений занятости
 -      [Arm.mdb][TS]      [TimeRemoveTr]	- числовое целое (2 байта)  - время для расформирования, надо бы увязать с направлением на пути
									      например - направление давать по отправлению и не удалять номер	
 -      [Arm.mdb][Stations][ArmDspAddr] 	- текстовое, длина 50 байт  - имя абонента для передачи сообщений
 -      [Arm.mdb][Peregon ][Dir1odd   ]
 - 	[Arm.mdb][Peregon ][Dir2odd   ]   	- расширить поля  до 80 символов
 - 	[Arm.mdb][RouteSrc][PrgTsExpr ]		- выражение для оценки свободности перегона
- 	[Arm.mdb][RouteSrc][PrgTu     ]		- команда на разворот перегона

 - изменен скрипт CreateArmErSql
------------------------------------------------------------------------------------------------------
					СУЩЕСТВЕННЫЕ ИЗМЕНЕНИЯ
 + Для АРМ32 введена опция ONEINSTANCE (по умолчанию ON). Есди OFF - можно запкскать несколько ГИД
 + Введена возможность работы с БД формата ACCESS2000 (опция ACCESS2000=ON)
 + Введена возможность работы на многомониторных видеокартах в STRETCH-режиме (опция DISPLAY=1(2,3))
 + Введена возможность не указывать файл настроек при отсутствии записей в реестре 
   (используется файл по умолчанию)
 + Сделан перенос строк в текстах пометок хотя бы на TooolTip
------------------------------------------------------------------------------------------------------

  ПРОБЛЕМЫ ИНСТАЛЛЯЦИИ

------------------------------------------------------------------------------------------------------
  			РАЗВИТИЕ ФУНКЦИОНАЛЬНЫХ ВОЗМОЖНОСТЕЙ
- технология архивирования, урезания архивов и т.д.
  1) для BlackBox.mdb
  2) для ArchiveSql
- Очередность задания маршрутов при задании составных маршрутов.
- колпачок на перегон, увязанный с ключевой РЦ (НАП, ЧАП, или светофором),
  тогда все маршруты, включающие РЦ или светофор, блокиовать)
- Уметь задавать списки IP-адресов для коннекта приложений. Это обеспечит супер гибкость
  ОДНАКО: при этом остается проблема доступа к разделяемой БД и каталогам. Вариант - корректировать
  пути в соответствии с каталогами (если путь задан через IP, просто поменять его)
- холелось бы отслеживать состояние подключения по ЛВС, перезапуски ПК
- Альтернативные IP адреса для поиска сервера
  1) станция связи - Монитор
  2) Монитор - Клиенты

------------------------------------------------------------------------------------------------------
  				БАГИ, СОПРОВОЖДЕНИЕ
- Не видны из-за масштаба коды служб на пометках
- добавить точек на Джегуте в сгенерированных поездах, иначе неудобно рисовать
Войников:
 - заменить таблицу ListOfTable и сбросить туда, где будем печатать
 - урезать AsoupMdb на участке Овечка - МинВоды - Кисловодск
 - претензии к расчету перегонного времени хода
 - не помещается текст длинных пометок
 - проверить прогноз на БД
- Беслановский участок
  + Прохладная - Беслан
  - Беслан -Консервный -Назрань - Плиево - Карабулак - Слепцовская
  - Беслан - Колонка - Владикавказ (2)
  - Котляревская - Докшукино - Нартан - Нальчик
  - ДаргКох - Ардон - Алагир
- Приложения к ГИД по участкам
- Протоколирование действий диспетчера по изменению ниток поездов
-- плюсует 2 минуты по Бештау Ж, а также при отправлении со станции поездов, для которых нет мин.ГИД
-- Нет нормативных таблиц для ГИД в БД на Прохладной 
++ Прогноз и планирование висли
-- Лермонтовская нечетные - большая стоянка
- ADO. IDispatch error еще бывают. 

- Белореченская - Туапсе. Думать о лаже
- ProxySetun
- GidUral в автозагрузке не успевает подключиться
- проверить возможность подключения более 10 клиентов
 - Можно везде поменять GidUralPlugin
 - Можно везде поменять ProxySetun
- истощение ресурсов на АРМДНЦ; не мог создать сокет. Подумать, кто мог так облажать
  возможно, ГИД + сервер АСОУП
- вывод ТС в Proxy в РВ

------------------------------------------------------------------------------------------------------
  					ПЛАНЫ

------------------------------------------------------------------------------------------------------
  					РУТИНА
- привести в соответствие таблицы CONFIG баз ARMRT.mdb по всем участкам
- сделать архивирование ArmRt и Asoup 1 раз в час
БЕКУ: Хадыженская, Кабардинская:
  - 5П Кабардинская
  + ЧГП, НГП вместо ЧП1, НП1
------------------------------------------------------------------------------------------------------
- Трассу в целях уменьшения трафика можно возвратить к 1206
- Команда СУ.ВК не соответствует на Сетуньских участках
-- слепые по неправильному ?
- определение начала и области просмотра архивного ГИД
- по Минводам откуда-то берутся номера поездов автоматом. Это плохо
  ВИДИМО ИЗ МИНИСТЕРСКОГО
- поработать с SQL
  - анализ ошибок
  ADO. IDispatch error #3099. Не удается определить идентичность вновь вставленных строк. [DTrains::WriteNewMes()] 
- сделать шаблон работ по инсталляции
- обдумать, как инсталлировать ПО, чтобы приложения ограниченной учетной записи 
   могли работать с БД, файлами и т.п: - либо разрешать доступ к папке, либо 
   создавать БД под своей учетной записью
- расчет участковой скорости для Гриневой
------------------------------------------------------------------------------------------------------
Андрею:
 - доработать приложение MS Access MinTrains.adp, убрать все лишнее
------------------------------------------------------------------------------------------------------
- имею несоответствие в БД Краснодар - Кавказская (Перегон № 4 нет в таблице перегонов, но на него
  ссылаются РЦ в таблице ТС
- По Гречишкино неправильные номер станции по двум переездам
------------------------------------------------------------------------------------------------------
- дать возможность ограниченного просмотра видеокадров на подслушке ArmTools
- не пишет в Asoup.mdb при пустой БД

- Очень легко можно идентифицировать стрелки с контролем состояния - те, которые не имеют
  заданных значений в ExtData на плюсовый и минусовый контроли, и РЦ которых не отключена
  Это можно использовать при контроле законсервированных стрелок
- ArmTools. Если включена фильтрация в протоколе, то шерстит всю БД от начала
- расформирование пассажирских по минводам (при получении справки дать признак и время хотя бы в справочник,
  а можно и в БД, после чего дать сообщение). Однако, по электричкам этого нет. Вычислять.
- Обдумать технологию быстрой инсталляции ПО и настроек на все участки на все машины
  Вариант: сделать архивы папок и настроек, сделать пакет разархивации и обновления реестра
  Можно автоматизировать присвоение имен и IP
  - уметь читать сетевое имя, IP
- Облегчить проверку корректности БД в отношении графика:
  - поверка корректности номеров перегонов, станций и т.д
  - разобраться, почему в Arm32Doc DPeregon::SetRcLinks() дает зацикливание 
    и раскомментировать DRc::TraceLinks() 
    ЧП2 на ЧП1 на Кирпильском ?

-- В Мониторе не читается БД министерского графика (так как ссылка только на Msg). 
  А там ЗАМЕЧАТЕЛЬНАЯ ФУНКЦИЯ АВТОМАТИЧСКОГО ПРИСВОЕНИЯ НОМЕРОВ ПОЕЗДОВ НА ПОДХОДАМ К СТАНЦИИ ИЗ МИНИСТЕРСКОГО ГРАФИКА
  ДОДЕЛАТЬ ОБЯЗАТЕЛЬНО, так как на таких участках, как МинВоды - Кисловодск очень неплохо!
  Доделать через ado !!!
-- В Arm32.doc есть еще пара указателей (напр. * ConfigSet). УБРАТЬ!
-- Красивая идея - сделать MAP при чтении опций из реестра или INI и общий класс для
   их визуализации (диалог) и доступа к ним из MAP (мало ли)
   В диалоге надо указать либо путь реестра, либо путь ini файла. ХОРОШО!



+ Техописание и Инструкцию на КП
+ На джегуте Ураковкский перегон дает вылет
+ передача из ГИД всего подряд, НО ТОЛЬКО ПО РЕАЛЬНЫМ СООБЩЕНИЯМ. Принципиально! Нужно вообще в 
  этом случае передавать не из ГИД, или обрабатывать отлично от ОСКАРА, так как 
  другая технологическая задача 
+ регистрировать принятые сообщения
+- Попробовать работать от разных имен с АСОУП и АРМ ДСП
+ передача сообщений блоками 
+ увеличить цикл опроса в 2 раза
+ ViewGidUral - вылетает, срывается запись, сделать ЛОГ
+ ПОМЕТКИ ПО МИНВОДАМ не блокируются в контекстном меню
+AUTOGENMINGID -не работает


***********************************************************************************************
  + Чтобы работал Железноводск, надо ввсести новую графы Alias и TimeRemoveTr в табл. ТС
    заполнить их и изменить тип светофора ЧМБ и НМЖ по Бештау с ВЫХ на МАРШР
    Бештау 1ЖП = путь
    УПРАВЛЕНИЕ и ГРАФИК - обновить
  + В моей БД по Прохладной нет номеров на перегонах. Лажа
    Взять там базу!
  + ЛУКОВСКАЯ Ось Клм = 1978
    ЧАП - связать с 6-10СП и с ЧП1,
    наверное - увеличить время слепого перегона Прх - Черн - Лук 
						    5      4
  + Аполлонская 2АП - УБРАТЬ признак пути
                    - КИЛОМЕТРАЖ = 1896,5
    Беку сказать, чтобы везде ставил прорисовку номеров на перегонах
  + Осетиновский. ЧАП = 4-8СП			    			   (не работает)
		  НАП = 3-13СП		           			   (не работает)
                  3П,5П - 3-5СП - наоборот положение стрелок в SAPRREL
		  5-15СП			     			   (не работает)
  + Георгиевск. Километраж по путям в обратном порядке с шагом 0.01
  + Моздок. 4П разблокировать
            ОТПР.Ч = 1988
  + Перегон Виноградная-Георгиевск время = 0 !!!
***********************************************************************************************
  + Бывает, что проскакивает НП1 перед НП2 и поезд не берется со слепого перегона
    Возможно, надо учесть такую бяку с учетом времени на перегоне
  + Не выводить сообщения об отсутствии полей RCALIAS в ГИД
  + Херовый министерский на Прохладненском по МинВодам
  + Проблема: Если поезд не идет графиком, то автоидентификацию делать не надо,
    но она делается. Результат - не могу изменить ГИД
  + Не блокируются опции контекстного меню
  + Отправление поездов на Кисловодск на МИнВодах выглядит херово. Игнорировать
    Точнее, рисовать вертикально вниз
  + проверить планирование
  + Убрать условную трансляцию по участкам
  + Изменения в версию mdb
  +- ПРОБЛЕМА: Железноводск, Беслан, Котляревская и т.д.
      Хотим иметь отдельное представление на ГИД для части станции (Бештау)
      Идея: в таблице ТС (или в отдельной таблице) прописать номера соответствующих фиктивных РЦ
      Тогда поток сообщений от реальных РЦ будет трансформироваться в поток сообщений фиктивных РЦ
      Кроме того надо иметь возможность помечать реверсивные пути, на которых: 
         а) номер поезда должен сбрасываться в ноль при прибытии поезда,
	 б) номер поезда должен генериться вместе с открытием сигнала чветофора
	 в) желательно брать номера с министерского ГИД
      ПЛЮС: - можно иметь даже два потока сообщений для того, чтобы иметь два представления на ГИД.
  + видимо при автогенерации номера надо "возвращать" сообщение из МОНИТОРА, т.к. если стоим
    то постоянно происходит реавтогенерация. ЛИБО - сразу писать в БД
  + Почему-то если имеем занятость ЧП2, а со слепого перегона брать нельзя, имеем номер
    прошедшего поезда, стоящего на пути. Бардак. См.Ессентуки, 12:12
  +- Проблема: Кисловодск, отправление. Видимо, надо при отправлении с краевых путей
    генерить сообщение о занятии пути



  + сделать на VIEWGIDURAL счетчики, имена станций вместо ЕСР

  + при регистрации смены по Овечке лезут лишние брошенные
  + ПЕРЕПИСАТЬ ARM.MDB, ARMRT.MDB на Батайск-Кавказская
  + Я: такое ощущение, что при занятии ЧУ1 происходит выбрасывание поезда на предыдущий слепой 
    перегон (было за счет проскакивания ЧП2/НП2)
  - проверить, почему запоздалая занятость НП2/ЧП2  (когда поезд уже чуть ли не на пути) 
    приводит к переносу номера и появлению сообщения в трассе ? Откатать в отладке
  + Опционировать масштаб на путях

РУСТАМУ
  - Койсуг - нет контроля 5/7-
  - Кущевка: ложная занятость 37СП, 35СП
  - Мирская, 18.07,  лишние сигналы: 2/7/5, 4/5/6
  - Авария переезда по Сосыке
  - Тихорецкая-2: 13:37 нет контроля 54+ в маршруте отправления с 11П на Краснодар
  - Тихорецкая-2: нет контроля стрелки 144А
  - Каяла. Входной четный не горит
  - Малороссийская - всегда горит НКЖ
  - Мирская - УКСПС
  - Кавказская-4 - САУТ, УКСПС
  - Койсуг - нет маршрута передачи с 3АП на 1П (1П не имеет замыкания)
  - Крыловская 12СП,16СП ложная занятость ?
  - Сосыка 13:34. Открыт маршрут с замкнутого, но не занятого пути 12АП ?
    Проследить такие маршруты.
  - Тихорецкая:   13:39 Показываем замыкание Сальского пути 3СЛП без маршрута. Зачем ?
  - В качестве примера отображения зашитой стрелки выбрана незашитая, взять что-нибудь с Кавказской
  - Очень маленькие дырки между секциями на рисунке. Особенно на съездах.
  - Кавказская. Отправление с 1КП на Краснодар. Путь 1КП голубой (замкнут, но не в маршруте)
    выглядит не очень


- После С.Петербурга.
  + подготовить материалы для Лосинноостровской: ПО по системам САПР и описание
  + фото для Аверкиева

- надо бы изменить опцию SENDMSGASOUP на SENDMSGOSKAR так, чтобы последняя при ее наличии
  "перекрывала" первую 
+- доделать передачу сообщений из ГИД с учетом нюансов ОСКАР/АРМ ДСП
+ взять INI
+ уметь иметь версию без ТС для работы с АСОУП без ФППИ (SERVER=)
+- лог исходящих(+) и входящих(-) сообщений
+ передача АСОУП в телеобработку вместо ФППИ
+ надо бы разделить статистику АСОУП и АРМ ДСП
+- прием сообщений, разбор (от АСОУП, от АРМ ДСП)
   - более четко разобраться с именами от кого и именем клиента в описании
+- разобраться с кодировками
+- еще раз разобраться с настройками телеобработки

================================== ЦИТТРАНС - 5001 =====================================
+ ввожу текстовое поле [Arm.mdb][Stations][ArmDspAddr] длиной 50 байт
   для адресации к АРМ ДСП (здесь должно быть имя, понятное AsoupSvr)
   (Адрес АРМ ДСП для передачи сообщений по этой станции в АРМ ДСП, опорные центры, ЦУМР)
+  думать, как лучше реализовать передачу состояния РЦ, стрелок, сигналов, маршрутов.
   это надо делать либо из ArmTools, либо из AsoupSvr, либо из другого приложения-посредника.
 
+ отправить таблицы СПОК в Москву
+ Толик КП

+ Использование архиватора RAR для оаботы с архивами ТС ( можно переходить! )
+ При воспроизведении актуального суточного архива смотреть, можем ли обновить файл,
  так как в Temp может оказаться неполная копия
+- ПРОКОНТРОЛИРОВАТЬ ВСЕ ВОЗМОЖНЫЕ ЛАЖИ в варианте Кабардинской
+- ОТЛОВИТЬ прием ТС от некорректных модулей (имеем на Кавказском и Батайском участках)
+- Сделать SAVETS для особо ТУПЫХ с возможностью работы на нескольких ПК
+- Что можно сделать для контроля нескольких участков на одном ПК
+ Табло - не рисуется УКСПС
+ Встроил опцию NOPRIORITY в станцию связи для возможности блокирования приоритетного 
  опроса активной станции
-+ Контроль проезда запрещающего дал сбой по Пятигорску. ДУМАЙ!
+ задержка занятости РЦ при обнаружении несоответствия логики проследования маршрутов, 
  так как может иметь место проверка работоспособности РЦ
+- лажа в логике работы станций АУ на Неве/ЧДЦ. Почему-то после переименования
  происходит защита от архивирования свежих поездов
+ индивидуальное время перекрытия на каждый маршрут из-за Кисловодских маршрутов
+- ГидУрал
+ Анализ по стыкам не работает на других участках
  ДОБАВИТЬ в [Arm.mdb][KRUGS] стыковые станции
+ Прохладненский. Ошибки связи сгладить
+                 Разрешить управление Ломиконтом от ДНЦ
+ При отсутствии связи со станцией обнулять таблицу ТС
- Нелогично принимать к рассмотрению устаревшие сигналы при принудительном вызове SPELL_TS

+ Возможность ведения черного ящика нескольких участков на одной машине - проблема SaveTs
----------------------------- Соответствие зависимостей -----------------------------
+ БЕКУ
  + внести поле NoStGet в табл Stations во все БД вместо Cod (ДСП)
  + внести сигнал ЭЦ.ОШБ во все станции, можно в модули косвенных сигналов
  + нарисовать транспарант-лампочку и текст НЕСООТВЕТСТВИЕ ЗАВИСИМОСТЕЙ на видеокадры станций 
    (привязать ТС и ТУ ЭЦ.ОШБ)
  + нарисовать транспарант-лампочку ЭЦ (несоответствие зависимостей ЭЦ)на табло 
  + привязать транспаранты к надписям
  + изменить надпись пригласительный сигнал на "ВКЛЮЧЕН" пригласительный сигнал
  + Внести новые поля в таблицу TSExpress и использовать их
    ELM			- признак сообщения ЭЛМ
    SCBerr		- признак сообщения о нарушении логиги ЭЦ/АБ
    CheckDelay		- признак контроля выдержки времени (например, разделка не быстрее 3 минут)
    ExpressionOff	- выражение для вычисления выполнения условия 
    DelayOff		- контролируемое значение выдержки времени (минимальное )
  + Пометить сообщения электромеханику как ELM=1
  + Взять таблицу Transparants и воткнуть всюду, где будет обновлен EXE
  + Новые поля в таблице Peregon: Dir1odd, Dir2odd
  + везде, где есть несколько пригласительных в одной горловине, дать выражение
    "ОТКРЫТО БОЛЕЕ ОДНОГО ПРИГЛАСИТЕЛЬНОГО СИГНАЛА В ЧЕТНОЙ ГОРЛОВИНЕ" 
    "ОТКРЫТО БОЛЕЕ ОДНОГО ПРИГЛАСИТЕЛЬНОГО СИГНАЛА В НЕЧЕТНОЙ ГОРЛОВИНЕ" 
    с признаком SCBerr = 1 в БД 
  - Разобраться с контролем заградительной сигнализации, КГУ и УКСПС, такое ощущение, что они привязаны к РЦ
      Если так, то состряпать выражения типа:
      УКСПС & !(НАП | 2СП) - Ошибочное показание УКСПС (нет поезда)
      п.6.4.3. 
      Если заград.сигнализация включена, все сигналы маршрутов, 
	       проходящих через РЦ, должны быть выключены
      Если КГУ включен - все сигналы маршрутов, 
	       проходящих через РЦ, должны быть выключены
   - Контроль выдержки схем искусственной разделки 
     Вводится внесением значения задержки в секундах в графу DelayOff и выражением ExpressionOff,
     при этом CheckDelay = 1
-------------------------------------------------------------------------------------
+ Проблема: при отправлении со станций АУ длинных поездов сообщения 
   занятия теряются , так как переименование происходит поздно. Надо подумать, как 
   восстановить сообщения (вариант - насильным слиянием трасс поездов)
++ ГИД КАВКАЗСКАЯ анализ
++ Вписать корректно МинВоды на Прохладную
++ убивать старые справки
+ инструкция о пор.пользования Овечка - МинВоды - Ване
+ АРМ32 и МОНИТОР , автоматически определять права пользователя, делать
  запись в реестр. В версии 95-98 даже не определять - вылетим.
  Писать в LOCAL
+ МинВоды-Ищерская. 
  +- не переводится на резерв
  - убрать ПРОСРОЧЕНО ВРЕМЯ
  +- Корректная очистка ТУ. 
    встроить более корректную очистку очереди в станцию связи Ломиконта:
    удалять только переданное число команд, дабы не удалить случайно вновь поступившие
    см.функцию ConfirmOutputData, которой просто надо передать параметр
  - может можно все-таки делать 2 попытки связи со станцией ? 
  - проверить, очищается ли список ТУ при отсутствии ответа
+ неплохо было бы уметь не подсматривать соседние участки, а брать данные как со станции связи,
  то есть "удлинить" станцию связи через прокси. Вариант - брать в ГИД-Урале свои данные :-)

ПЕРЕВОД МИНЕРАЛОВОДСКОГО ОТДЕЛЕНИЯ
МинВоды - Прохладная, Прохладная - Ищерская
+ СТАНЦИЯ СВЯЗИ - проблема квитирования от второстепенных клиентов. Надо бы учитывать квитанцию ТОЛЬКО 
  от ОСНОВНЫХ клиентов. Решать можно либо в СТАНЦИИ СВЯЗИ, либо в МОНИТОРе
  СДЕЛАНО: в опции RAS монитора можно указать признак NOACK, например: dc-ug-1-1[NOACK]
- надо уметь подключаться к станции связи только в режиме ТС, например 
  уч. МинВоды-Прохладная к станции связи МинВоды - Кисловодск, дабы не провоцировать
  станцию связи чужими командами
------------------------------------------------------------------------------------------------------
 - БЕКУ
   - ВО ВСЕХ БАЗАХ изменить в конструкторе длину полей [Satation][StrDirEven], [Satation][StrDirOdd] на 48
   - ОВЕЧКА - МИНВОДЫ - КИСЛОВОДСК:
     - [Satation][Pathes][МинВоды(А,Ж)] = 1П 2П 1АП 2АП 3АП 4АП 5АП 14ЖП
     - [Satation][StrDirEven]   = 532203[ЧКУ1][НКП1] 536308[ЧУ2][НП1]
     - [Satation][TS][14ЖБП][километраж] = 0;
   + Arm.mdb, [TS] проставить МинВоды 22СП километраж = 1831
   + Arm.mdb, [Stations] проставить по МинВодам станцию ниже - Бештау
   + Arm.mdb, [RenamesTrains] Доделать и скинуть Беку оборот электричек 
------------------------------------------------------------------------------------------------------


+ сделать автогенерацию номеров электричек и поездов
+ int  DTrains::GetDirSmart()
+ bool DTrains::IsTrainReverse()


+ ИНТЕГРИРОВАТЬ SETUN для смешанных систем. Можно оставить эту опцию, чтобы иметь возможность убрать
  лишние данные и функции, но EXE для СЕТУНИ должны работать на обычных ДЦ

- реализация избыточного кодирования
- 1-я программа на C# - просмотр файлов
- доработать и добавить запрос в BlackBox.mdb
+ сделать ручное маппирование дисков для ГИД УРАЛ с указанием пользователя

+ ограничивать IP удаленных клиентов
+ убивать дохлых клиентов
+ расширить список
+ Проверить график на Батайск - Кавказская.
+ Выключенные пути не включать в ГИД
+ на МинВодвх оставить только 14ЖП
+ Исправить везде код ESR Суворовской на 531643
+ расширить поля ESR направлений в Stations и дать врзможность записи типа
  530000 НУ2 534678 НКУ2
  Тогда при отправке сообщения надо искать в трассе ту или иную РЦ и только тогда посылать 
  направленное сообщение

+ Документация на адаптацию ПО КП на ст. Армавир и Сосыка
+- два ArmTools с разными участками на одной машине (проблема синхронизации времени)
- прогнать СТЕПЬ в хвост и гриву, где-то лажа, просчитать все случаи краха,
  восстановить картину за несколько минут, искать аналогии
  анализировать состояние РЦ, перегонов, маршрутов и т.д.
  во время крахов
+- опционально выводить в лог некорректные обращения к справочникам и другие опасные места
- опционально вставлять проверку GetSpr для светофоров, РЦ, стрелок
+ контроль обзорных картинок при загрузке не делается
+ номера на вертикальных отрезках и изгибах
+- задолбали фатальные ошибки без сообщений, например ArmTools при херовом BlackBox

+ Шлюз TCP 
  + не искать имена Netbios
  + может из-за этого не можем убить в списке отключенных,так или иначе, убивать по молчанию больше минуты
+ сделать транспарант НАДПИСЬ с управлением цветом для протяжек, укспс и  т.д
- проверки:
  + SHAPE на недопустимые номера
  + загрузка SHAPE с контролем допустимости
  - проползти на предмет возможных лаж, в том числе - ввод команд, 
    так как СЛЕТАЕТ ТОЛЬКО МОНИТОР
  - просмотреть возможные случаи создания экземпляра вместо ссылки
  - просмотреть все ветки с навороченной НОВОЙ логикой, слепые перегоны
    с нулевым временем и т.д.

+ надо иметь возможность давать команду МИНУЯ блокировки

- СОБРАТЬ И ЗАПИСАТЬ НА CD ИНСТАЛЛЯЦИИ ВСЕХ УЧАСТКОВ И ВСЕХ МАШИН
- В ЮРЦУП все имена и IP для разных кругов сделать идентичными,
  тогда упростится инсталляция и обслуживание. Можно будет сделать
  жесткие умолчания
========================================= SQL Server =============================================
+ Скрипты ГЕНЕРАЦИИ БД и ВСЕХ ТИПОВЫХ ДАННЫХ
- ПЕРЕНЕСТИ ВО ВСЕ ARM.MDB TypeOfTrains
  - (а как вариант, сделать его в SQL, тогда можно будет организовывать приобщенных и удаленных клиентов)
- ВСТАВИТЬ ВО ВСЕ БД таблицу WarnReasons
- УЙТИ ОТ ИСПОЛЬЗОВАНИЯ CONFIG, лучше писать в реестр все, что надо.
  - KRUGS (в том числе для TraViewer)
  -
  -
+ создать скрипт на JS, заполняющий SQL БД по Arm.mdb.
  В этом случае можно даже иметь дубликаты таблиц и готовить данные привязки непосредственно в Access
- Иметь хранимые процедуры по записи/чтению BlackBox
- Видимо можно иметь классификаторы станций,перегонов, кругов в ArmRtSQL, BlackBox,
  тогда можно перенести туда бизнес-логику
- Видимо если длинная строка - она не помещается в БД BlackBox. Сейчас - 128 символов.
  Беку - увеличить размер,МНЕ - обрезать в PutLog
- Для ОСКАРА надо иметь некий уникальный внутренний номер круга. Завести как переменную реестра

+- обдумать заполнение нужных таблиц при создании пустой базы
  - Config,Personal,MinTrains,Helps,TypeOfTrains,TypeOfWarns
- может надо убрать на хрен чтение CONFIG в этом случае, может перенести ее в Arm.mdb
+ в персаективе отказаться от использования ArmRt СОВСЕМ
-------------------------------------------------------------------------------------------------

+ оптимизировать проверку CHECKED поездов на уч.БДЦ за счет промежуточного массива CMap
  можно даже сохдавать его раз в сутки при планировании, а потом синхронно следить за пометками Check
  +Можно сделать объединенный запрос только для CHECKED поездов!!!
  +Удаление - см запрос, добавь тип и время и мочи

==================================================================================================

- БЕЗОПАСНОСТЬ
  - идеи и экперименты 
    - отключение TCP/IP в принципе
    + отключение отдельных портов TCP. Оставляем только 80 порт, IIS работает
    - отключение служб DCOM, RPC
    - 

ОТ БЕКА:
+- Уметь работать несколькими ArmTools на одной машине
- На переездах ввести 6,7-й сигналы (контроль выдачи ДСП команды закрытия переезда П.ЗД и 
  извещения на переезд П.И)
- отработать ГИД по Батайскому участку

- ПРОБЛЕМА: смежные участки, отделения.
  - 1) передача сырых ТС с участка на участок для включения стыков
  - 2) передача информации о проследовании поездов по стыкам с участка на участок
  - 3) организация интегрированных рабочих мест, получающих и отображающих информацию 
	с нескольких участков:
	а) поездное положение (варианты: 
		1) именованно/станционное кодирование объектов, 
		2)загрузка нужного участка)
	б) ГИД 
     обдумать идею построения инвариантной внутренней структуры клиентов 


- обдумать способ компактного хранения ПО участков с разбивкой по машинам и быстрой 
  инсталляцией
- при недостоверности ТС на резервном блоке и переходе на резерв 
  пишем "потеряна связь со станцией". Видимо, потому что просто игнорируем ТС ? Разобраться
- Проставить ось станций везде!

+ доделать переезды в АРМ Tools
+ ВЫДЕЛЯТЬ АКТИВНЫЙ СИГНАЛ В ТАБЛИЦЕ ТС ЦВЕТОМ или еще как-нибудь
+ Модифицировать диалог отображения сигналов светофоров. Состояние сигнала давать как в таблице ТС,
    а отказ, прописанный в БД - красным цветом
+ Дать аналогично на переезды
+ Дать там же выражения для вычисления отказов, и других состояний

+ Добавить в таблицу ТС столбец для светофоров, в котором в строке основного сигнала 
  светофора прописыватьт выражение для определения факта неисправности (перекрещивания)
- Убрать программную обработку после изменения БД на всех участках

- созвониться с Крыловой/Хошафяном, узнать, что нужно, чтобы посылать
  сообщения на автоответ (10 5101 4)26
+ проползти на брюхе передачу
+ Arm.mdb, таблица ESR, изменить Краснодар-2 на Краснодар-К (520808)

+ ГИД-УРАЛ
  В таблицу Stations добавлено поле GidUralKpId (в принципе, если все станции имеют ЕСР, то необязательно),
  однако, например, для МинВод А,Ж было нужно 

РОСТОВ

-- поле MODE в MinTrains
====================================================================================================
Краснодар - Кавказская
 - убрать лишнюю связку по КРАСНОДАРУ, неплохо бы прокатать при этом ТС
 - включить передачу сообщений в ОСКАР
====================================================================================================
Кавказская - Овечка
 - включить передачу сообщений в ОСКАР, предварительно прогнав свежую БД у себя
====================================================================================================

+ ЗАДЕРЖКИ В ЛОМИКОНТ
+ ОТЛАДИТЬ ДИАЛОГ ТС СТАНЦИИ СВЯЗИ ЛОМИКОНТА
+ СДЕЛАТЬ ИНДИКАЦИЮ ПОСЛАННЫХ И ИСПОЛНЕННЫХ КОМАНД ТУ

- на хера протокол держит открытой Arm.mdb ?
- очень много лишних людей в Personal. Удалять!
- после того как удалил - лажа с идентификацией ДНЦ - не ДНЦ
- как могут скакать предупреждения по клм (м.б. при раскрытии по путям)
- новые пометки на ГИД от Войникова
+ ArmTools - названия общих планов для 2 и более табло
Что может быть с сетью ???
- RAS LOMIKONT надо ОБЯЗАТЕЛЬНО дать вывод исполненных команд, возможно и в протокол
========================================= МИНВОДЫ ==================================================
+ MONITOR.EXE
+ MDMAGENT.EXE
- ARM32.EXE - заменить везде и прописать опцию CLOSEBD=ON
  - поставить всем клиентам опцию закрываемой БД и новый ARM32
- ОТЛАДКА ArmTools
+ Увеличить время перерисовки до 3 минут

- новую Arm.mdb на ГИД
+ возможно, заменить MinTrains
+ добавить поле MODE в MinTrains
+ проследить, пишем ли Железноводские электрички на ГИД
+ откорректировать у всех клиентов Arm32.ini (или оставить сетевое имя без изменений)
+ вспомнить все о MAP_DRIVE
+ обновить MONITOR.EXE, ARM32.EXE
****************************************************************************************************

- не писать пустые строки в персонал
- строго говоря, получается так, что маршрут, у которого на все секции наступили и светофор погас,
  должен считаться пройденным, даже если какие-то секции остались замкнутыми. Обычно остается замкнутой
  занятая секция.
- При задании сквозных маршрутов ввести 1 сек. задержку между сигналами открытия светофоров.
  А ЛУЧШЕ ВСЕГО ВВЕСТИ ПОЭТАПНОЕ ИСПОЛНЕНИЕ СОСТАВНЫХ МАРШРУТОВ (только после исполнения одной команды
  давать другую!!!)
- МИНВОДЫ-ПРОХЛАДНАЯ
  - откатать станцию связи + картинки
  - проверить исполнение РИ
- ArmTools сделать виртуализацию при чтении назад
- в контекстном меню светофоров, и возможно стрелок иметь КОЛПАЧОК,
  ввести признак в справочники, отображать особо и блокировать управление

+ Монитор тупеет если прописаны 2 ras, а подключена вторая
+ игнорировать время опроса ТС в Мониторе - брать текущее
+ неоптимально читаю персонал... У клиентов особенно - надо иметь справочник
+ учитывать при планировании и прогнозе расписание (очередность)- убирать галочку CHECK
+ ОПЦИОНИРОВАТЬ ЗАКРЫТИЕ БД

+ ПОЗИЦИОНИРОВАНИЕ ДИАЛОГА ДИАГНОСТИКИ СВЕТОФОРОВ ПРИ СДВИГЕ _ ЛАЖА
+ ограничить вывод сообщений о неисправночти rs-spok

+ картинки по Ладожской отредактировать по перегонам(+), 
  Двубратский и общую отредактировать Ладожскую (-) 
+ нужно отредактировать БД от Ирины заранее для перехода
  для этого прошерстить этот файл и саму БД на предмет расхождений
  - ВОТКНУТЬ ВО ВСЕ БД Arm.mdb ТАБЛИЦУ WARNREASONS
  - ПЕРЕЙТИ ВЕЗДЕ НА БАЗУ ArmMsg.mdb И ПРОСЛЕДИТЬ, ЧТОБЫ НИГДЕ на ней НЕ БЫЛО ПАРОЛЯ!
  - забираю БД и картинки, синхронизировать дома, пометить все необходимые изменения
    по Краснодар - Кавказская
  - КК - заменить БД и картинки с перегонами и ВПЕРЕД! (- плохие стрелки на Краснодар_С)
  - KK, ЗАМЕНИТЬ ФОРМЫ КК и КС отсюда. 
  + ВНЕСТИ в STATIONS поля RsrvKP и ByByLogic и пописать их нашими значениями
    а еще лучше - заменить БД
  - Saprrel. Выкинуть НП2[КК] из связки, пусть только индицирует занятость



- Минводы - Кисловодск, ст.Пятигорск
  -? Транспаранты ДСН/РСН, АДН/АДЧ - нет команд ТУ
  -? Маршрут от М20 до М4 имеет разное описание в БД и документации
  -? нет команд на закрытие светофоров Н, Н1 в контекстном меню 
- опционировать пароли, маневровые, по неправильному, вариантные
- херово то, что длина блока поменялась из-за СПОК по RS, может отказаться на хрен?
+- опционировать выключение СПОК по RS
- доделать диагностику состояния УЛ
- в связи с этим иметь возможность ВЫКЛЮЧИТЬ ЕГО, чтобы не бодаться при его отсутствии

- Убрать отовсюду пароли
- Подумать, насчет проблемы синхронизации времени и опционирования этого дела
- ПОдумать насчет автовосстановления БД (открывать их по одной и восстанавливать)  
  - В МОНИТОРЕ СДЕЛАЛ
  + Утилита есть, надо дать на нее ярлык
  + При запуске Монитора восстанавливаю ArmMsg.mdb
  + В меню Монитора можно сжать и восстановить БД
+ Может не держать БД открытыми вообще? + Убрал открытие ArmMsg.mdb


***************************************************************************************
- Прописать в USER.NET клиента - ДАДЦУ (через Хошафяна)
- Поменять порт 1040 - похоже он кем-то используется
- Доделать АСОУП через TCP на оба участка
+- Изменить строку в CONFIG (ArmRt). Оставить только telesoob без суффисов
***************************************************************************************
- убивать незарегистрированных в теч 10 сек клиентов в МОНИТОРЕ да и из списка бы удалять
- накопление маршрутных команд
- уметь задавать список IP, разрешенных к передаче по СПД
- неприятно при включении занимаются ЧП2, ЧП1 разными номерами и потом при 
  освобождении ЧП2 выбрасываем его на перегон  (если без логики удалений)
- при анализе и удалении поездов на разных станциях и несмежных РЦ - удалять более старые
+ документацию на Б-Т
- виснет прогноз

- При передаче сраных неупакованных данных короче 4 байт сокеты ждут заголовка - это плохо!!! 
- При задании большого маршрута не активировать малый входящий
- В Monitor.exe - графа «Сервис» - таблица «Протокол загрузки» - убрать там, где не нужно сообщения 
   «Наложение в матрице ТУ» - для Тихорецкого участка и «Ошибка модуля/строки/столбца» – для 
   Минераловодского участка, 
- в Pictures ввести транспарант для контроля точек перегона, не участвующих в графике исполненного 
  движения. Это позволит реально контролировать и анализировать ошибки при набивании базы данных.
- Разблокировать управление светофорами по неправильному пути.
- В составных марщрутах  открывать сначала один, потом другой как записано в БД
- сделать ЛОГ в PROXYSETUN и TCPRSRPTR
- Общая проблема: оценка временных интервалов при отсутствии связи - НЕ ВЫЗЫВАЕТСЯ SPELLTS,
  значит при отсутствии связи его надо вызывать НЕЗАВИСИМО по таймеру
- при НЕДОСТОВЕРНОСТИ НЕ НАДО ТУШИТЬ состояние КП
- отключать модемы основного при переходе на резерв (работающие)
- нужна ли столь длинная задержка на переключение с основного на резерв
- не выводить (не раскрывать) при печати законсервированные пути
- факт прибытия поезда на путь также должен оцениваться более интеллектуально, в частности - 
  после освобождения стрелочных секций и размыкания маршрута. Это вполне можно отследить и
  точно также дать сообщение в трассу, а уже потом посмотреть, как лучше его обработать

- недостающие РЦ.СВ на табло МинВодах АЖ
- при прокладывании трассы вручную по неч. поезду от МИНВОД А,Ж даю от МинВод. Сейчас это неверно
- RAS разрешение использования квитирования - из реестра

- добавить в Asoup.mdb AddressBook и добиться, чтобы работала при пустой БД
- При несанкционированном переходе с сезонного на ДУ дать сообщение

- не прописаны направления путей по МИНВОДАМ в результате чего Валерин механизм отбора путей в список при редакт.трассы 
  пустой

+ писать в протокол команду отмены маршрута (запоминать отменяемый маршрут
  в обработчике CViewSt::OnMenuCancelRout()
+Черный ящик
 + сообщения в окне (возможно кэшироваьть БД)
 + ускоренный просмотр
 + более дружественный интерфейс выбора даты, времени
+ отображать станции ПРД/ПРМ СПОК где-нибудь, хотя бы в диалоге
+ доделать автореконнект при неработоспособности RS!
+ там же - как-то посечать или затирать станцию при передаче
+ доделать в АРХИВЕ: - выбор даты и работа с переходом суток
+ 		     - протокол
+ сделать индикацию РЦ в АРМ TOOLS (что можно, например STS и номер маршрута)
+ Убедиться, что МОНИТОР игнорирует другие станции (+ через исключение, но это не проблема, я думаю)
+ Монитор берет время опроса со станции связи, что требует его синхронизации
  Видимо лучше этого не делать - когда у нас несколько станций связи - происходит лажа

- командировка в Ростов 29-30 на 1 день с шефом (обратный билет + суточные) 
- командировка в Ростов на 2 дння с шефом и Базгановым (прямой билет + суточные)


+ СПОК на OCTAGON
+ УПОРЯДОЧИТЬ опции и варианты использования ArmTools, архивирования и т.д.
+ доделать короткие перегоны для двухпуток и опробовать

--- Упразднить "наполовину" в табл. Stations поля главных путей и ПРИБЛИЖЕНИЙ (если стоит 0 - взять по умолчанию)
    а умолчание - по имени (1П-главный нечетный путь, 2П - главный четный путь, ЧП2, НП2 - приближения)
--- в таблицу PlanGraphAll добавлен столбец PathStation


- проверить срабатывание задержки на ВЗРЕЗ

В МИНВОДАХ в табл. PlanGrAll удалить устаревшие записи

- нанесение значков "работы на путях" двумя путями
  - по окнам ГИД автоматом закрывая перегоны
  - по месту прямым указанием

	// В принципе, при объединении большого количества станций в одной БД можно
	// вводить массивы индексов основных справочников отсортированные по станциям
	// тогда все манипуляции по обработке сигналов были бы гораздо быстрее,
	// а накладные расходы - минимальные: на 4000 РЦ лишние 6КБ, на все справочники ну 64КБ
	// Тогда надо было бы во всех циклы заменить проход по всем объектам на проход по своим объектам
	// БЛЕСТЯЩАЯ ИДЕЯ!!! Особенно, если учесть, что время становится критическим

- станция связи должна давать инфо о коннектах сразу после соединения по сети
- транспарант САУТ
- как могут скакать предупреждения (НЕ ОКНА, а предупреждения)
- фильтрация поездов при просмотре зеленчукского участка не корректная, видимо вылазит все,
  что редактировалось вручную
- обработать список перегонов для графика для кругов
- Время отправления по факту перекрытия сигнала
- разобраться с миганиями и прочей сранью вокруг ТС, особенно в РЦ
- какие могут быть уши из-за того, что я открыл в отладке пометки мигания сигналов?
АРМ ШН:
- для поиска сигналов хорошо иметь возможность выбирать несколько интересующих сигналов, отображать их список 
  и текущее состояние, можно в небольшом немодальном окне
- решить проблему с архивами
  - не таскать на ЩЧД ArmRt и Archive, копировать их на месте 
  - резать периодически Archive и BlackBox
- ПЕРЕДАЧА В РОСТОВ
  а) - РАСФ
  б) - дорисовку по МинВодам прибытия
+ периодически обновлять отображение акт.маршрутов в списке маршрутов
- CRS232 доделать под 2000/XP в СПОКЕ тоже
- в станции связи вместо SEND_TO_ALL_CLIENT делать как в МОНИТОРЕ,
  а в SEND_TO_ALL_CLIENT обработать ошибки
- сделать отмену предупреждения с указанием времени, тогда можно не удалять. и предупреждения будут
  сохранены в архиве
- окна, пометки и предупреждения должны архивироваться так: все, что закончено - в архив, все, что
  тянется - реально. При просмотре архива грузим и то, и другое
- ИДЕЯ - ввести виртуальный сигнал закрытия перегона в матрицу ТС, тогда он будет сохраняться в архиве ТС!!!
- Встроить механизм "убирания" лишних путей как в Кавказской ГЛОБАЛЬНО!
- У Шамилова пропал поезд - попал в архив. Надо бы разобраться. А вообще можно увеличить диапазон РУЧНЫХ адресов по
  МинВодам, учитывая, что их много
- можно сделать настройку параметров, таких как шрифты, пропорции, вынести в окно свойств, менять и сохранять
- увеличить число комбинаций РЦ и число стрелок
- постараться убрать зависимость MINVODI_OVECHKA
- ОБРАБОТАТЬ КОНТРОЛЬ ПЕРЕГОНОВ в табл. KRUGS
- Проверить работу мигающих (на примере М6.О Койсуг)
- кнопки OWNER-DRAW не рисуются на неактивном мониторе (радиосвязь и т.д.)
- запрос пароля и т.д. производится на активном мониторе
- при моделировании автодействия если поезда идут друг за другом, то лажа
  Надо делать более тонко - открывать входной сразу после освобождения пути
- лажа с номерами стрелок и т.д. если их НЕТ!!!
  память не выделяется и т.п. Проявляется на Лихой на Monitore
- перегоны в профиле читать по людски
- окна архивировать
- можно сделать транспаранты ВТ,ВА, ГС, РС транспарантами, освободить место, подумать,
  что дать там
---- если делаешь пометку при открытой станции - пометка смещается

- Можно сделать так:
описываем в файлах для каждой станции полюсы, если такие есть
Полюс1 mTUon/iTUon/jTUon mTUoff/iTUoff/jTUoff mTS/iTS/jTS maxTimeToSet
Polus2 mTUon/iTUon/jTUon mTUoff/iTUoff/jTUoff mTS/iTS/jTS maxTimeToSet
Polus3 mTUon/iTUon/jTUon mTUoff/iTUoff/jTUoff mTS/iTS/jTS maxTimeToSet
Вместо ТУ даем расширенную команду ТУ, то есть ТУ и номер (или сам ТУ) полюса
Такой режим для станции должен проставляться явно в АРМ ДНЦ
Тогда в КП можно отслеживать полюса автоматически, более того,
если имеем последовательность команд с одним полюсом - можно не
отключать его и экономить на этом массу времени
- м.б. можно облегчить и задание - отмену маршрутов ???

  доделать ARM TOOLS:
	- опционировать квитирование приема (для плохих сетей)
	- опционировать панель архива для того чтобы можно было делать УНИВЕРСАЛЬНОГО КЛИЕНТА
	  с просмотром станций

- для больших станций, обрабатываемых двумя КП можно делать так:
  - считать все сигналы, принадлежащими ОДНОЙ станции
  - при получении сигналов от станции связи отображать их на адресное пространство 
    основной станции
  - в описании сателлитной станции давать 0 (или минус )для кнопки, 
    дабы ее не рисовать на МОНИТОРЕ
  - в Графике такую станцию вообще игнорировать
  - тогда все ТС надо будет прописывать в описании ОСНОВНОЙ станции с индексированным 
    номером модуля
  - для отладки можно продублировать все сигналы без привязки к РЦ/стрелкам/сигналам
+  БД сообщений монитора логично выделить в отдельную БД, тогда Монитору вообще
   не нужна ArmRt! А в опциях DBNAMEGID должна быть БД реального графика, тогда 
   можно будет реализовать механизмы интеграции, например отображение закрытых перегонов
   в соответствии с действующими окнами
-  СОХРАНЕНИЕ НИТКИ ПРИ ТРАССИРОВКЕ/ПЛАНИРОВАНИИ
-- Сделать сохранение ТС по Кревеньковской
-  Есть проблема накопления команд ТУ - если станции опрашиваются медленно,
   происходит потеря ПОСЛЕДУЮЩИХ ТУ, так как они дописываются в конец,
   но в КП не будут обработаны... А вот если их в КП обрабатывать - то
   все проблемы ушли бы и было бы красиво
-  GID только на чтение
-  закрывать разложение по путям при переходе на кисл,джег
- Валере: - брать в Минист. ЛЮБОЙ, если нет нужного
-         - на однопутке ЛЮБОЕ окно блокирует прогноз БЕЗ указания пути чет/нечет
- вообще-то зависимость от круга должна быть не #define, а Real Time,
  чтобы один exe мог работать везде, а если уж она остается, то писать о себе либо при
  загрузке, либо в "о программе"
- при переходе на 4 и 5 круги убирать раскрытие по путям, а при возврате - возвращать
  запомненное
- можно опционально кнопочкой закрывать/открывать панель выбора станций на мониторе

+ Отправление на станциях АУ
+ ProxySetun отфильтровать ТУ типа ВК
+ Перегоны в контекстном меню обрабатывать ПО НОМЕРУ, а не вычисляьб их номер
+ Откорректировать слепые перегоны в новой технике в свободное от гв время
+ Нанести слепые перегоны на обзорный кадр в свободное от гв время

+ ввести в БД логич. поле "ReservKP" в котором давать признак резервирования КП
+- привести нормативку КК по перегонам в соответствие!
- включить в список секций для исскусств.разделки те, которые не имеют 
  контроля ТС, но имеют контроль ТУ! (бывает и такое...)
+ ПЕРЕГОН ЧН ЧЕРЕЗ ЖОПУ!
+ сделать Шахову тест
+ дать в опциях МОНИТОРА и ТАБЛО толщину линий, размер светофора и размер номеров поездов
+ освобождать слепые перегоны, если нет сигнала занятости
+ надо уметь отключать/включать станцию из опроса в МОНИТОРЕ

+- Зараза с перегонами:
  где-то они кодируются по приему, где-то - по отправлению
  Краснодар-Кавказская: КЗПН со стороны НЕЧ светофора
  Армавир - Кавказская: КЗПН со стороны ЧЕТ светофора
  ЧТО ДЕЛАТЬ ?
- При однопутках перегон все-таки один!!!, а у меня их 2
  надо бы упорядочить, и возможно, увязать с направлением на перегоне

- АСОУП
  ++ tcp
  -- авто-формирование адреса telesoob
  -- убрать кучу лишних параметров (45 45 45 45 45 )в строке описания подключения CONFIG (разобраться)
- СПОК
- ARMTOOLS и архивироваие
+- сделать DOC ЛОКАЛИЗАЦИЯ НЕИСПРАВНОСТЕЙ

ftp://10.240.44.11/setun
192.168.1.101

- задержку на сообщение по потере связи
- задержку на сообщение не открытия сигналов по автодействию увеличить
/// РАЗОБРАТЬСЯ и посмотреть исходники на работе
m_bEnablePoll = true; 
- По Солдатской разобраться с сигналами
***************************************************************************************
                               СДЕЛАТЬ ПО МИНВОДАМ НА МЕСТЕ
- Внести изменения в Arm.mdb
  + Добавить сигналы ОТПР.Ч / ОТПР.Н в TsNames
  + ВВЕСТИ сигналы ОТПР.Ч / ОТПР.Н по:
    + Овечке (Н), 	1405
    + Богословской (Н) 	1406
    + Невинке (ЧН), 	1401,1402
    + Минводам А,Ж(Н), 	1403
    + Минводам Б,В,Г,Д(Ч) 1404
  + изменить тип светофоров на выходной по Минводам Б,В,Г,Д: Ч1Б-Ч6Б
  + по Овечке дать НОПу номер перегона 22 и изменить КЛМ на 1698
  + заменить таблицу Services
  + скопировать в БД таблицы LateReasons, WarnReasons
+ Скопировать Arm.mdb на ГИД
  - проверить отсутствие пароля на архиве и asoup
+ заменить MONITOR.EXE
+          ARM32  .EXE
+          TABLO  .EXE

+ Ст.Солдатская. Маршрут приема на 3 путь обозван на 6 путь
  + переименовать НП/ЧП/НО/ЧО в НПСП.ЗМ и т.д.
  + убрать все посекционные замыкания (строки 17,18)
  + прописать в маршруты обобщенный сигнал замыкания
- По Солдатской разобраться с сигналами
***************************************************************************************


+ ОТПРАВЛЕНИЕ ДАТЬ ДОП_ОЙ РЦ, например ОТПРЧ ОТПРН

--+ подготовить документацию Подлипаеву
--- Прохладная - Ищерская
+-- Читать ТС СЕТУНИ
--- ПОНАБ - встроить на всех уровнях системы

По поездке в Ростов:
+ утилита восстановления БД (АРМ может просто не запуститься)
  утилита может иметь на входе имя файла (либо БД, либо файла спичка БД). М.б.консольное приложение
- работа с ГИД не держа открытой БД. Может встроить проверку открытости БД, можно в зависимости от конфигурации
  рабочего места
- ШЛЮЗ АСОУП (как сделать на сервере)
- работа с ОСКАРОМ, взаимоотношения раб.мест ГИД/Оскар/Сервер/Шлюз
- СПОК через 5025
- В отдельном потоке РИСОВАТЬ shape-примитивы, синхронизировать с осн. потоком 
+ Можно квитировать посылки станции связи посылками-квитанциями от МОНИТОРа. Тогда полностью решается
  проблема потенциальной рассинхронизации.

Замечания Годованного:
- не печатает очень длинные окна
- не показывает движение по неправ. пути при раскрытии станции по путям
- уметь вести суточный log в текстовом файле для утилит

По поездке в Краснодар
- IP сервера в Краснодаре: 10.51.161.14

  IP в МинВодах: 10.51.73.114 (16)
     шлюз        10.51.1.3

+ Встроить в SendToAllCkient корректную обработку ошибок, проанализировать, надо ли УДАЛЯТЬ класс
+ уметь архивировать ТУ
+ уметь отключать ТУ более грамотно
+ Показать в диалоге значение Interval, 
-?Показать в диалоге чило реконнектов по TCP,
  можно показать процент передачи при Interval >0

Широков Алексей Владимирович,
Гимназическая, 60, кв.24
achirokov@rogers.com

Направления:
+ Сетуньские участки
- МинВоды - Прохладная
- МинВоды - Овечка
- ОФАП
- СДУМ
- 

+- сделать прием по прерываниям параллельного интерфейса
- ОФАП (546-12-13, 72-213, 72-307), канцелярия Барыбинского филиала 262-88-57
-- Нестерова на связь, получить и скорректировать календ.план
-- выйти на связь с Байкуловым Владимиром Валентиновичем на связь по поводу требований

------ Видимо есть глобальная проблема в способе синхронизации данных от станции связи
       Прием данных нельзя синхронизировать с обработкой, так как при медленной обработке и 
       интенсивном приеме затыкаем сеть, причем непонятно что при этом должно происходить
       Варианты: вынести либо прием, либо обработку в отдельный поток. Например так. Прием 
       записывает ТС и помечает станции, которые обновили ТС. А обработка поочередно сканирует 
       станции и обрабатывает помеченные. Проблема - синхронизация. Более гибко: Сеть в отдельном потоке.
       Тогда необходимость синхронизации возникнет ТОЛЬКО если обрабатываем нужную станцию.

+ На табло в строке сообщения нет времени и станции. ПИСАТЬ !
+ блокировать генерацию сообщений по TsExpress, если Lock=TRUE
+ не выдавать сообщение при сбросе сигнала если был дребезг 
+ обратная связь по станции связи
+ показывать ТУ, приходящие на ст.связи, пусть схематич.(16-рично)
+ RAS архивирование данных (ТС и ТУ) принятых станцией связи увязать с опцией реестра

+ Доработать BridgeTcp так, чтобы работал хорошо, с квитированием. Наверняка придется через СПД 
    толкать все, что есть
+ Внедрить механизм ограничения времени ожидания квитанции при наличии коннекта в TcpRsRptr
+ запрос времени при входе в систему (а можно и регистрацию смены)
+ Сделать и проверить РАБОТУ СО СПОКОМ ЧЕРЕЗ XP

--- станция связи для "старых черных модемов" (ДЦ КРУГ)
--- сделать таки настройку путей и всего остального при работе ArmTools и SaveTS
--- Обдумать, как можно было бы толкать ГИД


Поездка в Краснодар:
  - ст.связи - всегда пишет ОСНОВНОЙ КОМПЛЕКТ на статусе станции
- Арм энергодиспетчера - сделать шаблон проекта. Продумать, какой он должен быть
  (нужны ли сплиттер-окна и т.д.)
  По организации должен быть похож на МОНИТОР, там тоже должна быть прорисовка и контекстное меню
  Хотя, контекстное меню я встраивал и в ARMTOOLS
+   Не рисует железноводск в плане...
+   добавить поле ArmRt.mdb, PlanGrAll.PathStation
--- ArmTools 
--- откорректировать измененные номера РЦ при прокладывании нитки ???
    2ИП 210СП IIГП   IIП НУ1
    ЧП1 ЧГП 1ГП      1ИП
+++ добавить таблицу REPORT_DISTANCE
+++ исправить пути по МинВодам А,Ж на 766,768 на 718, 723
+++ ЗАМЕНИТЬ У БЕКА ВСЮ ТАБЛИЦУ Stations (или исправить)
+++ Откорректировать Krugs
+++ Добавить ТС по Бештау-Ж, Железноводску, Подкумку
+++ в табл. Stations 5 новых полей для автопропуска
--- Проверить ГИД по Кисловодску и Б-Ж
--- Номера НКП2 и т.п по Кисловодскому

+---------------------------------------------------------------------------------+
|				Направления					  |
| ОРГАНИЗАЦИОННЫЕ								  |
| - получить доступ к БД ДАДЦУ							  |
| - получить автоответ через СПД для НОД-3					  |
| ТЕХНИЧЕСКИЕ									  |
| - доделать ГИД на Краснодаре							  |
| - по Неве: привести в порядок БД, и NetBios					  |
+---------------------------------------------------------------------------------+

- TrainsRazl.cpp, void DTrains::FillFile(CString FileName,CTime TimeBeg,CTime TimeEnd,bool Apend)

=========================================== Изменения в БД ========================================================
- проставил пути по Овечке(1П,1БП), Богословке(3АП,3БП), Курсавке (2П,2АП), поле С ПУТИ, идентификацию маршрутов передачи
  ПОХОЖЕ, НАДО СКОРИРОВАТЬ ЭТУ БД В ТРЕНАЖЕР
--- 16.04.2000.Arm.mdb [AppTblColmns], запись '3-Локом-5-L' изменить поле Length с 3 на 5
--- 08.04.2002.Arm.mdb [TS] Добавил логическое поле LinkBlind "СТЫК со слепым перегоном"
--- 07.04.2002.Arm.mdb Убрал уникальный ключ RC_Relations
--- 05.04.2002.Добавил таблицу FontEnum в Arm.mdb
--- 04.04.2002.Изменить рег.БД МОНИТОРА - ALLKRUGS,ALLRAS,RAS1,KRUG1 - убрать, дать KRUG и RAS, перечисления - через пробел
--- 04.04.2002. Arm.mdb [Krugs] добавил текстовое поле StationsMonitor, перечисляющее контролируемые станции, 
    включая станции с соседних кругов
--- BlackBox.mdb "ШЛЮЗ СЕТУНЬ" в типы приложений
--- 28.03.2002.Ввести тип персонала СОСТ - составитель поездов, обрабатывать при закреплении
--- 25.03.2002.OccupationRc.cpp: if (TabSpeed[ind_sp].Speed==(float)0) TabSpeed[ind_sp].Speed = (float)50;
=== 24.03.2002. ARMRT.MDB, CarOff , поле DtTmUp
=== Реестр, Arm32, TRA_DIRECTORY=c:\Tra, скопировать ТРА или переименовать,
    скопировать TraViewer.exe
=== Проверить задержки таблицы ТУ
=== ARM.MDB, 1) табл. Krugs, добавить поле FiniteStation
   	     2) добавить табл. ReportDistance
=== Поле RAS в табл. Stations
=========================================== Изменения в БД ========================================================


+ ВАЦ - вызов акустический центральный - в панель управления средтвами связи
+ дать блекло заблокированные ТС в матрице
+ станция связи если опрашивает СЗАДИ, пишет ошибку в РЕЗЕРВНЫЙ БЛОК!
  ТОЖЕ САМОЕ и с временем опроса!
+ Звук в АРМ ШНД
+ ГИД < > по 12 
+ опционировать в МОНИТОРе инфо о диагностике ФЕДОРЧУКА
+ опционировать индикацию времени перерисовки
+ дать индикацию состояния нескольких станций связи
+ работоспособность станции связи можно по другому, а не счетчиком принятых данных
  например пульсация и длина пакета, а лучше всего псевдоанимированный битмап
+ посмотреть планирование (почему мог не убиваться, почему планировался до МИНВОД)
+ что за херня с министерским по главному ходу
+ как отображать состояние каналов и коннектов при двух и более станциях связи на мониторе
+ CRS232 доделать под 2000/XP (- Класс cRS232, CRS232::ThreadWaiting(...), добиться работы под NT/2000/XP)
+ БОГОСЛОВКАЯ - при занятом 3АП заблокирован прием всех четных ? - вроде сработало
	     но вот при занятых 3БП и 21СП - не дает отправление с 3БП пути...
	     видимо 21 стрелка входит в маршрут, секция занята, вот и не дает, но это видимо неправильно!

ХОЧУ: 	- разобраться с HTML-help, уметь создавать справочные HTML и CHM системы 
	- разобраться с XML, XSL, трансляцией и т.д.
	- для вывода на печать таблиц без предпросмотра можно сделать отдельное приложение с треем,
	  (dialog-based с WebBrowser) которое будет получать на входе HTML,печатать, потом закрываться
	  Тогда можем сделать фоновую печать по кнопке без лишних действий. А можно там же выводить диалог 
	  параметров печати (опционально)
+ переход часа при быстром просмотре архива
+ более эстетичный Bar ArmTools 
+ Встроить в Stations.cpp механизм формирования сообщений о нарушениях через таблицу Express
+- РАЗОБРАТЬСЯ С ИДЕНТИФИКАЦИЕЙ ПОДКЛЮЧЕННОГО СОКЕТА в сервере - пишет UNKNOWN
+ убрать у клиентов реконнект в теле класса (сам сокет рекоонектит)
+ сделать обработку фамилий машинистов
+ сделать все-таки выбор приложений для печати
+ ПЕРЕДЕЛАТЬ TCPRPTR для ретрансляции по порту TCP с квитированием
- Похоже, что под XP порт 1002 задействован - при запуске монитора устанавливаети разрывает соединение
+ проверить ТАБЛО и АрмЭлм со спаренными участками
+ описание шрифтов Shape перенести в БД
+ длина команды ТУ ограничена 18 символами. Увеличить
+ неплохо иметь в HTML возможность задавать "вес" шрифта, воможно там-же, где и стиль (через ИЛИ:)
+ синхронизировать БД из МИНВОД
+ поправить пути к ТРА и сделать однотипно везде
- синхронизировать реестр на всех машинах, иметь печатную копию


+ решить проблему с последовательным бросанием на одном пути в пределах смены
+ Все брошенные в таблицу и на печать
+ Если в предупреждении не задана скорость ограничения - не ограничивать в МОДЕЛИ
+ Подготовить MDMAGENT/MONITOR/TABLO/ARMTOOLS в МинВоды
+ Проверить автодействие, включить НОПы в маршруты
+ синхронизировать БД тренажера
+- !!! Если на модуле только косвенные сигналы - не проверять ДИАГОНАЛЬ!
  для этого провести полностью логику разделения числа физич. и логич. модулей:
  IsAnyTsMdlPresent
  IsRealTsMdlPresent
+ проверить формирование задержек ТУ для разных КП и их отображение в списке
+ задержки ТУ
+ собрать разнородными КП
+ доделать COM5 чтобы не забирал ТС
+ загрубить мигание
+ иметь возможность делать полный опрос одноразовый
+ иметь возможность делать полный опрос постоянный
+ показывать состояние связи с разными станциями связи, 
+ разобраться с опросом при приоритете акт.станции (почему бегунок дуреет)
+ разобратся с адресацией в станции связи (что имели в Краснодаре?)
+ изменить позорище в АРМ ТООLS с поиском по базе (ARMTOOLSVIEW)
+ пометки поверх предупреждений и окон
+ задержку с диагностикой проблем автодействия
+ ДЫРКА в алгоритме анализа разорванных поездов: если выходной открыт, но отцепка от хвоста - номер остается на отцепке,
        видимо надо анализировать факт перекрытия выходного светофора, а не только открытие
+ График Железноводска
+ ПЕРЕДАЧА В РОСТОВ
+ изъятие ключа-жезла - писк, визг, мигание, сообщение, особенно на ДУ
+ при переводе на ДУ проверять наличие ключей
+ КПП и все прочее в протокол
+ контроль неоткрытия светофоров на АДН, АДЧ
+ убивание поездов в архиве
+ окна на нескольких путях
+ подъем брошенных

+---------------------------------------------------------------------------------+
|				От Филатова					  |
|+1. Железноводск (в нижней части экрана)					  |
| 2. Пронумеровать прием/сдачу по Овечке (синий-прием, красный-сдача)		  |
| 3. Уметь эффективно работать на 2-х мониторах ГИД (варианты одной/двух машин,	  |
|    решить проблемы доступа)		  					  |
+---------------------------------------------------------------------------------+
Ограничение на время поезда = 18 часов
+ Arm32ViewPrint.cpp, CArm32View::OnPrintStatistic() #define ODD1 6 / #define ODD2 3/ #define EVN1 4 / #define EVN2 5 
+ Все-таки нужно делать гибко: первое время может быть ВРЕМЕНЕМ ПРИЕМА
	Видимо надо иметь поле в БД, где будет указываться тип станции с точки
	зрения подсчета участковой скорости. Возможно этот тип может совпасть с
	признаком стыковой станции (Овечка, Коноково)

- Накопление маршрутов на уровне ПУ и логика их отработки
+ уметь работать с панорамными кадрами
- надо сделать поле KRUGS с перечислением кругов для каждого сообщения в MinTrains
  ЛИБО, при описании станций дать поле кр
+ БЕКУ: - сдается, неправильно описаны выражения для упоров
-+ 2042


+- Проблема: вводим виртуальные ТС с других станций для случаев нескольких КП на одной 
 	    станции, так как в описании маршрутов, связей и т.д. могут быть проблемы.
	    Косвенные сигналы вводятся в фиктивные места или даже модули (в этом случае
	    надо позаботиться о виртуальном контроле диагонали)
	    Описываются: ExtData: ИМЯ_СИГНАЛА[НОМЕР_СТАНЦИИ], 
		например: 	9П[#42]
				9П[Кавказская-4]



+ тормозит МОНИТОР (может из-за своводных адресов TCP ?)
+ в ArmTools опционировать вывод диагностич.сообщ
+ ВЦ СКАВ пишут иногда латиницей, проверить, а как остальные в РПС?
  вполне возможно, что тоже лажа и надо просто перекодировать либо 
  справку, либо обозначения, либо и то и другое с учетом замены символов
- в Арм диапазоны номеров Arm32 и Monitor пересекаются!!!
+ Толику: выбирать в SAPR круг

===================================Изменения в отладке==================================
- ввел поле Alias(прототип) в табл.Stations для описания нескольких представлений 
  станций на одном графике
========================================Изменения:======================================
+ ДОБАВИТЬ ПОЛЕ ExpandSt в таблицу KRUGS
+ ДОБАВИТЬ транспарант 53 (работа в окне) во все БД, табл. TRANSPARANTS
+ выяснить направление (четный - нечетный) для перегона Бештау - Железноводск
- взять ТС за 18.12.2001 и восстановить, почему НЕ РАБОТАЛ ПРОГНОЗ
+ обновить BridgeNetBios.exe
+ добавить ключ в RegBD, BridgeNetBios: 
   SAVETSPATH: C:\ArmDnc\Bd
   MNVUNCNAME: //gid/bd/tsmnv.dat
   ISHUNCNAME: //gid/bd/tsish.dat

- добавить ключи в RegBD, Arm32: 
+ SENDMSGASOUP=TRUE
-  KPZ=03
-  SPRAVKA57=(: 212 03 5300 : 57 03 :) (: 212 03 5313 : 57 03 :) (: 212 03 5302 : 57 03:)
-  SPRAVKA91=(: 212 03 5313 : 91 :) (: 212 03 5300 : 91 :) (: 212 03 5302 : 91 :)
-  SPRAVKA92=(: 212 03 5313 : 92 :) (: 212 03 5300 : 92 :) (: 212 03 5370 : 92 :)
-  SPRAVKA64=(: 212 03 5300 : 64 03 :) (: 212 03 5313 : 64 03 :) (: 212 03 5302 : 64 03 :)
- в Арм диапазоны номеров Arm32 и Monitor пересекаются!!!

+ СЕТЬ. Пакеты от станции связи - механизм приема по длине,
  вообще везде на приеме надо делать такую сборку.
  А может это можно делать в СОКЕТЕ? была бы сила!

+ УМЕТЬ РАБОТАТЬ ОДНОВРЕМЕННО С КП2000 и БЕЗ НЕГО ДЛЯ МИНВОД!!!
  а это проблема, наверное: - станция связи, монитор, табло и т.д
+ не удалять Trains, а помечать как удаленные
+ Подъем брошенных
- номера на вертикальных сегментах и дугах. Вариант - вообще не рисовать на них
- можно дать признак мигающго состояния транспаранта,но вообще-то это должно 
  увязываться с возможностью квитирования, хотя хранение квитирования может 
  быть прямо В ТРАНСПАРАНТЕ! это уже хорошо!, но - проблема для ТАБЛО. ПОДУМАЙ
- ТЕКСТ - признак с тенью: ВЫПУКЛЫЙ / УТОПЛЕННЫЙ
--- НКЖ АКЦЕНТИРОВАТЬ (сообщать и м.б. мигать!)

+ Хорошо бы динамически выделять память под справочники - никто не мешает!!!
  - хвосты: Station: MAX_INP_NUM,MAX_OUT_NUM
+- ВСТРОИТЬ КОРРЕКТНОЕ ОЖИДАНИЕ ЗАВЕРШЕНИЯ ПОТОКОВ

-- Овечка и Богословка - управление переездами при открытии вых.сигнала:(
-- Избирательная печать приложения через HTML
++ Переезд 1820 на обзорном
-- Сформировать INI файлы

- светофоры на угол 90 и 270 град с разворотом надписей
- неплохо иметь стрелки на съездах

от Пащенко:
 - при планировании от Скачек даем график электрички и сдвигаем на 1 мин назад
   а не нужно
 - Зеленчук - Абазинка - смещение назад на 26 мин
 - Богословка Вых Ч2 не открывается без закрытия переезда
 - лажа с предупреждениями по Черкееской ветке
 - не изменяются пометки на 14П Невинка
 --- стоянки (полочки) на перегоне более чувствительно - на Кисловодском не стоим:(
 --- 2042
 - PrepareNatasha за сутки в старой и новой версиях
	
- СТРАТЕГИЧЕСКИ: перевод СУБД ArmRT, Archive,м.б.BlackBox на SQL Server
                 при этом решить вопрос с доступом (ODBC,OLE DB,ADO)
		 Видимо, это нужно с учетом многопользовательского режима

- Луковская :( - черноярка-луковская на лук.приближении слетаем
- 4002 (5100 1 5300) с Джегуты - маразм
- автоповтор
- Может не стоит в принципе держать БД открытыми? Все таки BlackBox стоит гораздо лучше
- Курсавка, 31.08, 15:14 переход ра ДУ


- МИНВОДЫ 
	- Уточнить откуда идут и как по МинВодам:
		-661 поезд, 
		-289 поезд
		-301
		-421
		-487

- МОДЕМЫ и "мостики"
  - все равно придется делать протокол!!!
  - проверить, может ли ВИСНУТЬ при ошибках
  - проверить работу ORG/ANS


- дать уход по Овечке графиком пометкой автоматически
- довольно часто по Суворовской во время освобождения НП1 загорается НП2 на 5-8 секунд
  регулярность очевидная, примерно тоже было по Зеленчуку, ЧТО ТАКОЕ и как с этим бороться?

- (м.б.)Взрез стрелки, ПОНАБ, АПН/АПЧ надо бы давать с фильтрацией от дребезга

- вообще-то сообщения на Мониторе логично писать в отдельную БД, тогда он был бы
  независим от ARMRT ???
- уметь делать табло из ARMTOOLS с прокруткой
- уметь просматривать все станции в МОНИТОРЕ

- Подвязки хотят с вертикалью
  - предложить писать там же номер поезда
- SNo = 0 при передаче ТС в Tablo - ArmTools. В Мониторе надо убивать такие поезда
  из списка ( и не писать их в список)
- Подумать насчет проследования и отправления - запаздываем :((( 
  - либо по светофору, либо по первой РЦ
  - можно, кстати, увеличивать время занятости РЦ пути при заходе на станцию на 1-2 мин.
- По МинВодам бывает лажа: Прогнозный номер на РЦ СП, а потом она переводится и на нее
  заезжает локомотив из депо, а номер берется прогнозный - и потом этот же номер
  херачит на реальный поезд... Может быть можно как-то не брать прогнозный, если был перевод?
  То есть, периодически отслеживать прогнозные номера не тольео на устаревание, но и на
  ситуацию, когда номер есть на других, занятых, но не смежных РЦ - тогда убивать
- Киан, нет 23 точки, хотя явно должна быть
- Имеем нюансы когда моргает точка на стыке станций: я убираю номера с других станций,
  поэтому могут быть нюансы, можно анализировать КЛМ

- Невинка +отклонение
- стоянки по северу мешают
- пятак им большой
- Неч Ов-Бог, Чет Курсавка-Нагут
- Связь
- не отбирать ТС

= Овечка-МинВоды
= Нева
  - взять табоицы импульсов и схемы
  - лепить все самим - ни хрена не возьмешь от Балабанова
= Сопряжение с диагностикой
= БДЦ
= Тренажер


- по контролю:
  иметь таблицу: станция, выражение, сообщение при получении и потере
                 контроля:
		напр: Овечка, СЗ|~СЗ, Срабатывание сиганлизатора заземления

- глупо не показываать сдачу в 18:05 за прошлые сутки
- профили
- через HTML: 	+ справки по поездам типа приложения - в одну справку с прокруткой - 
		  вполне реально на основе PRINT
		+ справка по предупреждениям
		- справка по брошенным
		- справка по окнам
		- справка по опозданиям
- подъем брошенных
- тултипы для пометок - все таки их видно херовато
  ну, постарайся !!!
- Мин.график:если двойной номер - два поезда - один в справочнике, но откликается 
  для сравнения на оба номера
- почему валилось у Валеры при четном с Зеленчука
- ДРЕЗИНЫ: + обрабатывать двойной номер и рисовать по неправильному на ДЦ
	   - более гибко на БДЦ: если она в окне, но не работает - 
	     по неправильному тоже
- Открыть опоздания по МинВодам, но забить на ПРОХЛАДНЕНСКИЕ!!! 	     
- со временем расширить 1280*1024, чтобы можно было смотреть панорамные 
  видеоформы
- Дать по умолчанию цвет маршрутов?
- 57 справка содержит все что хочешь! Надо уметь умно разбирать
- проверить, как обрабатываем справку ИЗМЕНЕНИЯ, там что-то особое!
- при нажатом прогнозе сейчас разрешено сохранение трассы
  для сдвига прогноза, но если это реальная нитка - надо
  защититься от сохранения прогнозных точек
- есть проблема с записанным временем УХОДА, может дать его редактировать?
- планировать ПЛАВНО (всегда на сутки вперед) - должен смочь!:)
- разобрался откуда лезут уши с индикацией опозданий на прогнозе:
  - я даю по отправлению, а опоздание определяется по приему, просто по МинВодам не пишу,
    а вообще-то все пассажирские были бы лажевыми. Можно попытаться обойти эту ситуацию, 
    давая, например две занятости пути при генерации засечки (по приему и по отправлению),
    м.б. даже можно было бы дать 2 станции
- я смогу рисовать правильно дрезины по неправильному даже с учетом 
  двух номеров!!!
--м.б если введен индекс частично, искать более точно (напр по ст.форм-ия)
-- сделать упрощ.ввод отпр.на перегон раб.машин с возвратом
   с указанием времен отпр\приб и блок участка работы
-- по пасс,электро дать две косые, если дошли до кон.ст-ии
- переделать DTrains::PrepareNatashaData с учетом расписания (легко),
  а также защититься от прогнозных поездов и ситуации, когда выбран
  не тот участок !!! - это важно

- Ст.связи при отключении станции виснет, скорее всего из-за Суворовской и СПОКа
- Если едем до Минутки, то едем до МинВод, так как Минутки нет в Министерском. Нехорошо.
- График хода министерских с учетом выходных дней
  - ч/н, дни недели
  а далее при планировании снимать пометку CHECK автоматом
  можно и на графике как-то показывать регламент хода- министерские расписания
- интеллектуальную подвязку
- откуда поезда 7002, 7004, 7006 ?
- цвет тревоги 1 и 2 дать желтым и красным (где? на графике?)
- дать что-нибудь по локомотивам!
- Изъятие ключа-жезла - в протокол и сообщить!
- не очень аккуратно работает TIMEOUT и отсюда лажи! Проследить.
  Проблема есть: Действ. я могу засечь поезд на пути и через сутки 
  он поедет. Если машину не перегружали - будет лажа - смещение относит.
  начала будет ОТРИЦАТЕЛЬНЫМ!!!
- при работе со слепыми перегонами учесть дрезины
- 2 монитора и 128 памяти. Надо запрещать работу с АСОУП на одном из них, так? или нет?
  не очень-то хорошо. Надо запрещать сканирование справок.
- автомат-анализ выкл.питания ЧДК
- отображать с какой стороны опрошен КП
- Можно периодически (раз в полчаса) пытаться вытащить 42 справку
  на поезд, если есть индекс, но нет справки
- Херовые времена прибытия/отправления в диалоге поездов все-таки
- если тыкаем в области путей - поезд искать получше!
- может все-таки задействовать правую кнопку при трассе?
- задержка поезда перед входным - с "задержкой"
- доделать архивную БД: удаление, и сохранение второй нитки при разрыве
- пометки с учетом круга, даже если не FREE ???
- дрезины на БДЦ с возвращением на станцию
- может стоит писать машинистов при записи РПС автоматом
- опоздание в приложении даем ни на момент сдачи по конкретной станции, а  по итогу - НЕВЕРНО
- хотелось бы иметь ВЫДЕЛЕНИЕ при редактировании всех полей при вводе разложения
- Диалог ИНФО можно со временем раскрасить
- при дорисовке поезда снизить скорость на ДЖЕГУТЕ
- DTrains - заменить char[] на CString

- система - можно было бы "нагрузить" классы TCP функциями реконнекта при сбоях
  (то, что сейчас делается сверху)

- можно иметь на поезд редактируемое ВРЕМЯ РАСФОРМИРОВАНИЯ. Тогда можно смело тянуть 
  поезд вплоть до этого времени, или вплоть до текущего времени
- проанализировать ДИСКИ и сделать автомат-обработку
	(автосброс, запоминание и мигание)
- можно дать все министерские
- доделать удаление и корректировку разложения АРХИВА
- Попробовать транзакцию при работе с сообщениями
- не вычисляется опоздание пока 1 станция - неверно, все-таки
  (если дать засечку с опозданием - не чухаем)
- может занести неконтролируемые пути (Курсавка, Сувор), где бросают?
- Индекс негабаритности вместе с номером и двойную(с красным) нитку, можно 
  дать их в фильтре поездов
- sapr не архивируется
- мусор вылазит на БЕЗДЦ - вообще не рисовать
- брошенные на нераскрываемых станциях при печати
- Модель на однопутке (сделать для Джегутинских нечетных особую генерацию, чтобы
  модель "врубалась")?
- Сделать сетевой диск по сетевым именам для ТС МинВоды
- Подумать насчет передачи в центр
- Не рисовать неправильный путь на станциях (при раскрытии)
  тогда основная будет расти только по окнам, приказам, сменам
  Возможно во избежание роста БД следует писать справки в уже имеющиеся старые записи!
  (по-моему это единственный способ избежать роста БД). А возможно надо вообще завести под
  справки отдельную БД?
  !!! - просто искать с таким НОМЕРОМ и писать (если это не 42!!!)
  !!! - хотя могут быть и другие станции:(
	тогда по времени: удалять старее 3 часов, а писать в самую старую!
- Расформирование
- просто текст как пометка
- ИДЕЯ - ВЫЧИСЛЯТЬ ПРИНАДЛЕЖНОСТЬ ПОЕЗДА КРУГУ
  - добавить поле в БД
  - добавить переходящие поезда в таблицу RenameTrains  иметь 2 нитки (визуально как одна)
    можно для этого особым образом обработать разрыв с сохранением номера и информации 
    по поезду
    Видимо, добавить и столбец в MinTrains, хотя не очень-то и красиво
    Можно и автоматом формировать 2 мин.поезда учитывая станции
- досвязать окна с поездами сквозным образом
- нумерацию раскрытых путей дополнительно дать при печати справа,
  и подумать насчет экрана
- добавить в Arm.mdb [Station] признак раскрытия путей при печати
  (в частности МинВоды и Невинноммыск)
- обработать НРП
- Архивирование не делается в защищенную БД
- В КП информацию по СПОКУ и диагностике неплохо было бы держать
   до след. сеанса с анализом номера, чтобы при ошибке - дать в резервный
   канал.
- Насчет СУ. Варианты:
   1)описывать все режимы формулами в БД для каждой станции:
	ДУ
	РУ
	СУ
	СУ(переход)
   2)При вводе команды устанавливать флаг, который потом ИЛИ с блинком
     Флаг сбрасывается как при исполнении команды, так и при отмене
- Видимо надо как-то уметь соотносить поезда и участки.
- Видимо надо прокладывать трассы по МОДЕЛИ


- Попытаться ассоциировать индексы не огульно, а сучетом дислокации
-------------------------- Планирование -----------------------
+ При изменении Check или времени либо убить либо сдвинуть трассу
  +Или не ГРУЗИТЬ отмененные поезда
+ При изменении времени сдвинуть трассу
  - ДЦ  ( в принципе, можно не делать)
  - БДЦ
+ При удалении планируемого убрать его флажок Check в PlanGraph
  - БДЦ (можно не делать, я считаю)
+ При планировании нового (прокладке) дать его в БД
  - не сделано для БДЦ
- при сохранении трассы планируемого скорректировать его время в 
  таблице PlanGraph
  +ДЦ
  -БДЦ
+ неплохо запоминать настройки в диалоге PlanGraph
- опционировать планирование грузовых(нет по умолчанию)
- планирование для Овечки: засечку делаем по отправлению, 
  поэтому рисуем время опоздания точно на время стоянки!!!
  поправить, если можно просто
+- какая-то херня с ReadBd cмотри 17 число 17-18 часов
   -уточнить, кто изменяет TimeFirst
+ не рисуется время приема на Минводы из Кисловодска

------------------------------------------------------------------

ВАЛЕРЕ: 
1) при прогнозе если поезд стоит не выбранной станции - его не прогнозировать
2) если нет станции - получается лажа - задержка поезда!!! (см минутку)
3) четные останавливаются не на МинВодах, а на МинВодах-АЖ
+ ТИПЫ локомотивов - пишутся некорректно.ПОСМОТРЕТЬ, писать и 
+ давать опоздание как при приеме на участок, так и конечное!

-? Видимо длинносоставные и тяжеловесные - особо отображать, 
    сейчас они как разрядные

- Сделать диалог опций с сохранением в переменных и Рег.БД (не надо будет
  перегружаться, а иногда и перетранслировать)
- можно сделать комбинаторные фильтры используя список с флажками
- СДЧ - Сдача??? (уточнить) - нет такого в описании справки

БД разделил. Некрасиво с таблицами Personal (нужна для брошенных,
а брошенные CAROFF не могу перекинуть из-за станций). 
Видимо, можно оставить PERSONAL и иметь утилиту переброса, 
а может иметь эти таблицы и там и там??? Не ЗНАЮ !!!!!!!!!!!!!!
+ Лучше всего переделать всю эту муть с брошенными, вся проблема из-за них

--- Неприятно - появление регистрации смены поверх модального диалога
--- Все статические ограничения через #define ГЛУПЫ
	Надо определять размер и выделять память динамически
	Или по крайней мере давать в настройках БД (Reg BD)

-- замечено: при просмотре архива очень странно ведут себя окна - 
   на весь экран. И вообще окна (предуп, пометки) надо архивировать


Толику: 
- почему EditRegistry не имеет меню ДОБАВИТЬ, почему не убран TEST
- иметь ф-ию REFRESH - актуально при обновлении "со стороны"

Валере - ЧТО ЗА СООБЩЕНИЕ - нет альтернативного поезда 



======================================Тренажер======================================

+ не отправляет с 14ЖБП
+ можно ускорить отработку команд вызывая по нужной станции Accept
+ зависают на конечных:(
- автодействие: - блокировать, если невозможно установить 
- автодействине на Зеленчуке
- можно попробовать давать прием при автодействии сразу после освобождения пути
- по МинВодам лажа с маршрутами: так как нет замыкания, то 
  можно установить враждебный сразу после закрытия светофора
- можно блокировать маневровые
- МинВоды: НЕТ МАРШРУТОВ от ЧМII, сделать ОБЯЗАТЕЛЬНО!!!
- МинВоды: при передаче с 3ВП на 9БП теряем номер
+ автодействие:ОТРАБОТАТЬ ЭЦ
+- генерация поездов (м.б.план, или из минист.)
+ можно убрать непр.путь, вариантные, маневровые
+ стрелки
+ отключить управление ЧДК
+ описать переезды
+ лобовые маршруты
+- с кнопками херня (остаются нажатыми)
+ почему не отправляет с Курсавки - пометить как путь 

- алгоритм: есть поезда, читаем дислокацию в КЛМ, 
	идентифицируем РЦ,
	формируем свой ТС занятости,
	эмулируем ЭЦ и автоблокировку
	записываем состояние светофоров в VBD

- соотнесение светофоров на перегоне с перегонными точками
  (по Клм, по наименованию)
- Видимо, надо завести отдельный справочник светофоров с учетом автоблокировки,
  их надо как-то описывать, например ЧТ2Ч, ЧТ2Ч, ЧТ4Ч, ЧТ2Н, НТ1
- сделай ЧДК для Кавказской
- эмуляция автоблокировки: для всех светофоров оцениваем состояние определяющей 
  РЦ

- м.б.самое оптимальное - оцифровать все РЦ
  возможно, что для этого надо будет тоже сделать доп. таблицу, чтобы не засирать 
  рабочую (можно в таком виде для облегчения стыковки с VBD
  - станция
  - перегон
  - имя РЦ
  - клм начала РЦ
  - клм конца РЦ
  - входной светофор на РЦ в четном раправлении
  - входной светофор на РЦ в нечетном раправлении
  ) и потом привязывать.

- эмулятор на станции АУ через #define уже сейчас. Надо делать.
- Сетевое взаимодействие моих АРМов - очень много, делать сейчас!!!
  Для VBD надо иметь след режимы.
  Центр - АРМ ДНЦ, если подключен АРМ ДСП для станций АУ - ее команды принимаются там
  АРМ ДСП - конфигурируется для конкретной станции на основе Монитора
  коннектится как и Табло (как клиент), ТС отображает так же, ТУ транслирует
  в АРМ ДНЦ, там будет бяка с исполнением команд для неактивной станции, 
  но делать нечего

 Что надо от них:
- Тип и структуру БД
- оговорить используемые маршруты (надо либо делать урезанную БД, либо давать
  примочку в виде доп. таблий-описаний доступных  маршрутов, 
  последнее предпочтительней)
- полную топологию сигналов, тогда смогу привязаться РЦ, возможно, что для 
  привязки РЦ надо будет тоже сделать доп. таблицу, чтобы не засирать рабочую,
  можно в виде текстовых имен и потом привязывать.

-------------------------------------- ПРОТОКОЛ обновлений и работ -----------------------------------------
29.03.2004 - 02.04.2004
   + обновил ProxySetun Кавк-Красн
   + оновили БД, Pict, УПР, ТАБЛО, АРМШН Овечка-МинВоды
   + обновил Станцию связи и АРМШН МинВоды - Прохладная
     - УПРАВЛЕНИЕ
   + сделать резервную станцию связи на Батайске
   + копировал ПО по участкам



3D-video г. Москва, 2-я ул. Энтузиастов, 5     http://www.3d-video.ru/
Тел.: (495) 941 62 51     (495) 773 95 23    info@3d-video.ru

http://www.film.ru/article.asp?ID=1604
http://www.rusbusinessactiv.ru/service/depts_back.html
ФИО: Мальцев Р.М. Телефон: 52567 Улица: Кисловодская Дом: 25 
ФИО: Свинцов Я.А. Телефон: 73462 Улица: Кисловодская Дом: 150 


Самара: 
- 36454(без Москва-Ессентуки)

+ 1000 (такси)
+ 1000 такси
+ 1650 не горюй
+ 650  
+ 1000
+ 800

Самара 23-27 января
Итого: 20753
Оплачено:
+ билет 5160 - 330 (180+150)потери при сдаче (если оплатя квиток - 230)
+ билет оттуда 4093 + 200
+ возврат Рашида 4150
Итого: 5160 - 330 + 4093 + 200 + 4150 = 13273
- ОСТАТОК = 20753 - 13273 = -7480
- 1000 руб такси
ИТОГО: 8480 + командировочные


ИМПОРТ МИНИСТЕРСКОГО ГРАФИКА
- получить из Управления файлы *.lgx
- запустить приложение ImportMinGid
- очистить промежуточные БД
- импортитровать сведения об участках
- обработать мин.график (импортировать ГИД в локальные БД)
- на удаленых серверах переименовать MinTrainsOld в MinTrainsNew
- экспортировать график в удаленные сервера
- проверить запукская Arm32.exe armXXdnc.ini
- назначить задание RenameMinTrains

---------------------------------
- справка с работы
  - перевод 
- справка из банка
  - перевод 
- справка о покупке кв-ры
  - перевод 
- справка о регистрации дома
  - перевод 
- справка о регистрации гаража
  - перевод 
- все брони
  - перевод
- билеты
  - перевод
--------------------------------
